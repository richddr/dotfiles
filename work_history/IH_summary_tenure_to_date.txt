

=====================================================
Timestamp:  2017-02-28T20:57:10Z
Repository: richddr/looker-master
PR #4: add missing columns to doctor_infos looker view

Description:



=====================================================
Timestamp:  2017-02-28T20:42:45Z
Repository: ConsultingMD/warehouse
PR #297: [# 140424619] Write a post-release script to re-export all doctor infos

Description:
Write a post-release script to re-export all doctor infos

[Tracker #140424619](https://www.pivotaltracker.com/story/show/140424619)

@nfoen 


=====================================================
Timestamp:  2017-02-28T20:08:14Z
Repository: ConsultingMD/warehouse
PR #296: [# 140358039] As a PM, so I can get complete and updated doctor info data, add missing warehouse columns and specialties table

Description:
[Tracker #140358039](https://www.pivotaltracker.com/story/show/140358039)

@nfoen 

Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/7018
Corresponding Looker PR: https://github.com/ConsultingMD/looker-master/pull/224


=====================================================
Timestamp:  2017-02-28T20:07:46Z
Repository: ConsultingMD/jarvis
PR #7018: [# 140358039] As a PM, so I can get complete and updated doctor info data, add missing warehouse columns and specialties table

Description:
[Tracker #140358039](https://www.pivotaltracker.com/story/show/140358039)

@nfoen 

Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/296
Corresponding Looker PR: https://github.com/ConsultingMD/looker-master/pull/224


=====================================================
Timestamp:  2017-02-28T20:07:31Z
Repository: ConsultingMD/looker-master
PR #224: [# 140358039] As a PM, so I can get complete and updated doctor info data, add missing warehouse columns and specialties table

Description:
[Tracker #140358039](https://www.pivotaltracker.com/story/show/140358039)

@nfoen 

Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/296
Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/7018


=====================================================
Timestamp:  2017-02-25T01:21:41Z
Repository: ConsultingMD/jarvis
PR #7003: [# 138084567] As a PM, so I can analyze doctors added to a case, export doctor selections to warehouse

Description:

[Tracker #138084567](https://www.pivotaltracker.com/story/show/138084567)

@nfoen 

Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/292


=====================================================
Timestamp:  2017-02-25T01:21:34Z
Repository: ConsultingMD/warehouse
PR #292: [# 138084567] As a PM, so I can analyze doctors added to a case, export doctor selections to warehouse

Description:
[Tracker #138084567](https://www.pivotaltracker.com/story/show/138084567)

@nfoen 

Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/7003


=====================================================
Timestamp:  2017-02-24T21:16:11Z
Repository: ConsultingMD/tp
PR #550: [# 140591931] Add Cross Company to TP customer plans

Description:

[Tracker #140591931](https://www.pivotaltracker.com/story/show/140591931)

@timz1290 


=====================================================
Timestamp:  2017-02-24T01:57:15Z
Repository: ConsultingMD/jarvis
PR #6993: [# 137836997] Update address shipped to cases table to be the case level address, instead of the patient level address, if it exists

Description:

[Tracker #137836997](https://www.pivotaltracker.com/story/show/137836997)

@nfoen 


=====================================================
Timestamp:  2017-02-22T01:04:35Z
Repository: ConsultingMD/tp
PR #547: [# 131594759] Drop quality_bucket column from doctors

Description:

[Tracker #131594759](https://www.pivotaltracker.com/story/show/131594759)

@timz1290 sayonaaaaaaaaaaaaaaaaaaaaaara


=====================================================
Timestamp:  2017-02-21T23:54:30Z
Repository: ConsultingMD/tp
PR #546: [# 138665741] As a patient, so that I can recover from misspelled terms, show me fuzzy matches

Description:
[Tracker #138665741](https://www.pivotaltracker.com/story/show/138665741)

@jstrater 



=====================================================
Timestamp:  2017-02-21T23:44:29Z
Repository: ConsultingMD/tp
PR #545: [# 135263197] Drop unused probability tables

Description:

[Tracker #135263197](https://www.pivotaltracker.com/story/show/135263197)

@timz1290 SAYONARAAAAAAAAAAAAAAAAAA


=====================================================
Timestamp:  2017-02-17T22:11:06Z
Repository: ConsultingMD/tp
PR #543: [# 139743335] Ship pediatric filter data to warehouse as part of doctor_search_events

Description:

[Tracker #139743335](https://www.pivotaltracker.com/story/show/139743335)

@timz1290 

Correspondent Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/289


=====================================================
Timestamp:  2017-02-17T22:10:58Z
Repository: ConsultingMD/warehouse
PR #289: [# 139743335] Ship pediatric filter data to warehouse as part of doctor_search_events

Description:
[Tracker #139743335](https://www.pivotaltracker.com/story/show/139743335)

@timz1290 

Correspondent TP PR: https://github.com/ConsultingMD/tp/pull/543


=====================================================
Timestamp:  2017-02-14T19:43:48Z
Repository: ConsultingMD/tp
PR #540: [# 139242547] drop doctor_match_score function

Description:
[Tracker #139242547](https://www.pivotaltracker.com/story/show/139242547)

@timz1290 


=====================================================
Timestamp:  2017-02-11T01:08:51Z
Repository: ConsultingMD/tp
PR #538: [# 137943813] Add UI controls to TP to allow CCs to override pediatric filter settings

Description:

[Tracker #137943813](https://www.pivotaltracker.com/story/show/137943813)

@timz1290 


=====================================================
Timestamp:  2017-02-04T01:23:14Z
Repository: ConsultingMD/jarvis
PR #6881: [# 138873099] Add customer's custom support number to any SWU template that currently has the main number

Description:

[Tracker #138873099](https://www.pivotaltracker.com/story/show/138873099)

@jstrater 


=====================================================
Timestamp:  2017-02-03T23:41:18Z
Repository: ConsultingMD/tp
PR #535: [# 129424611] ** drop specialty_name column from doctor_specialties **

Description:

[Tracker #129424611](https://www.pivotaltracker.com/story/show/129424611)

@timz1290 


=====================================================
Timestamp:  2017-02-03T20:15:46Z
Repository: ConsultingMD/tp
PR #533: [# 138995911] Update medical terms seed data for pancakes

Description:

[Tracker #138995911](https://www.pivotaltracker.com/story/show/138995911)

@timz1290 @umer98 

Pancakes stack created to verify this is working: https://honesty.ci.grandrounds.com/pancakes/stacks/3704

![image](https://cloud.githubusercontent.com/assets/1312796/22606781/f983f768-ea09-11e6-81a6-6b6ff872d69f.png)

![image](https://cloud.githubusercontent.com/assets/1312796/22606922/7979ce3e-ea0a-11e6-9d1c-97d1e7ab971c.png)



=====================================================
Timestamp:  2017-02-03T08:07:27Z
Repository: ConsultingMD/tp
PR #532: [# 137904931] Update DoctorSearchMatview to use new doctor_searches.procedures column instead of procedure_uids. Update match score computation to add the adjustment value

Description:
[Tracker #137904931](https://www.pivotaltracker.com/story/show/137904931)

@timz1290 


=====================================================
Timestamp:  2017-02-01T01:56:23Z
Repository: ConsultingMD/tp
PR #529: [# 138771269] Update materialized view, add new procedures column to be of jsonb type, keep existing  procedure_uids column

Description:

[Tracker #138771269](https://www.pivotaltracker.com/story/show/138771269)

@timz1290 


=====================================================
Timestamp:  2017-01-27T20:14:33Z
Repository: ConsultingMD/tp
PR #527: [# 137904857] Update table schema to add new column for procedure volumes adjustments

Description:

[Tracker #137904857](https://www.pivotaltracker.com/story/show/137904857)

@timz1290 


=====================================================
Timestamp:  2017-01-27T00:22:30Z
Repository: ConsultingMD/jarvis
PR #6830: [# 137996553] 500 loading User Edit page after importing coverage for that user with Anna (undefined method `customer' for #<DataSource:0x0000000dad9118>)

Description:
[Tracker #137996553](https://www.pivotaltracker.com/story/show/137996553)

@cobbr2 @ryangilbert 

Pipeline Stack created that verifies this is working: https://honesty.ci.grandrounds.com/pancakes/stacks/3665

http://stark.stack-3665.pancakes.ci.grandrounds.com/admin/stark/users/146


=====================================================
Timestamp:  2017-01-26T08:40:11Z
Repository: ConsultingMD/jarvis
PR #6826: [# 137492399] Update old specialty_uids for doctor_specialties on TP and the 'value' field for audit_event_attributes to reflect the new specialty_uid format

Description:
[Tracker #137492399](https://www.pivotaltracker.com/story/show/137492399)

@nfoen @timz1290 

Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/283
Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/526


=====================================================
Timestamp:  2017-01-26T08:29:41Z
Repository: ConsultingMD/tp
PR #526: [# 137492399] Update old specialty_uids for doctor_specialties on TP and the 'value' field for audit_event_attributes to reflect the new specialty_uid format

Description:
[Tracker #137492399](https://www.pivotaltracker.com/story/show/137492399)

@nfoen @timz1290 

Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/283
Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/6826


=====================================================
Timestamp:  2017-01-26T08:29:32Z
Repository: ConsultingMD/warehouse
PR #283: [# 137492399] Update old specialty_uids for doctor_specialties on TP and the 'value' field for audit_event_attributes to reflect the new specialty_uid format

Description:
[Tracker #137492399](https://www.pivotaltracker.com/story/show/137492399)

@nfoen @timz1290 

Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/526
Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/6826


=====================================================
Timestamp:  2017-01-23T20:24:49Z
Repository: ConsultingMD/tp
PR #524: [# 136595607] As a CC, so that I can find patients the highest quality doctors, give me the ability to sort the TP result list by quality 

Description:

[Tracker #136595607](https://www.pivotaltracker.com/story/show/136595607)

@timz1290 @etripier 


=====================================================
Timestamp:  2017-01-20T02:05:50Z
Repository: ConsultingMD/tp
PR #523: [# 138012171] Searches are broken when there is no data in the doctor_treats table

Description:

[Tracker #138012171](https://www.pivotaltracker.com/story/show/138012171)

@timz1290 


=====================================================
Timestamp:  2017-01-13T07:34:56Z
Repository: ConsultingMD/jarvis
PR #6780: [# 135931795] Update search endpoint to accept patient dob and return only doctors that treat the patients age group

Description:
Update search endpoint to accept patient dob and return only doctors that treat the patients age group

[Tracker #135931795](https://www.pivotaltracker.com/story/show/135931795)

@timz1290 

Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/522


=====================================================
Timestamp:  2017-01-13T07:34:49Z
Repository: ConsultingMD/tp
PR #522: [# 135931795] Update search endpoint to accept patient dob and return only doctors that treat the patient's age group

Description:
[Tracker #135931795](https://www.pivotaltracker.com/story/show/135931795)

@timz1290 

Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/6780


=====================================================
Timestamp:  2017-01-12T07:46:04Z
Repository: ConsultingMD/tp
PR #521: [# 137492683] When the Audit Event Importer replays POST events, it should be idempotent

Description:

[Tracker #137492683](https://www.pivotaltracker.com/story/show/137492683)

@timz1290 


=====================================================
Timestamp:  2017-01-10T00:10:08Z
Repository: ConsultingMD/tp
PR #518: [# 135931737] Update table schema and importer script to import new table for pediatric filtering

Description:

[Tracker #135931737](https://www.pivotaltracker.com/story/show/135931737)

@timz1290 


=====================================================
Timestamp:  2016-12-22T03:06:35Z
Repository: ConsultingMD/jarvis
PR #6720: [# 133810513] As a CC, so that I can preserve the partnership information I have changed, **enqueue doctor selection network changes in jarvis**

Description:

[Tracker #133810513](https://www.pivotaltracker.com/story/show/133810513)

@nfoen 


=====================================================
Timestamp:  2016-12-15T23:31:13Z
Repository: ConsultingMD/tp
PR #509: [# 133810663] As a CC, so that I can see partnership data in stark, **update doctor selections in TP to send network data**

Description:

[Tracker #133810663](https://www.pivotaltracker.com/story/show/133810663)

@nfoen 

Corresponding Jarvis PR:https://github.com/ConsultingMD/jarvis/pull/6690


=====================================================
Timestamp:  2016-12-15T23:31:06Z
Repository: ConsultingMD/jarvis
PR #6690: [# 133810663] As a CC, so that I can see partnership data in stark, **update doctor selections in TP to send network data**

Description:
[Tracker #133810663](https://www.pivotaltracker.com/story/show/133810663)

@nfoen 

Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/509


=====================================================
Timestamp:  2016-12-13T03:13:51Z
Repository: ConsultingMD/tp
PR #506: [# 133810525] As a CC, so that I can have access to networks through TP endpoints, **add doctor network GET endpoint**

Description:
[Tracker #133810525](https://www.pivotaltracker.com/story/show/133810525)

Includes https://www.pivotaltracker.com/story/show/133810551 and https://www.pivotaltracker.com/story/show/133810635

@timz1290 @nfoen 


=====================================================
Timestamp:  2016-12-02T00:42:19Z
Repository: ConsultingMD/tp
PR #497: [# 133810135] As a PM, so I know the effect of running the partnership network script, **have an interactive confirmation and print metrics about the change**

Description:
[Tracker #133810135](https://www.pivotaltracker.com/story/show/133810135)

@nfoen let me know if this is what you had in mind

@timz1290 


=====================================================
Timestamp:  2016-11-18T00:42:06Z
Repository: ConsultingMD/frick
PR #360: [# 133725213] **Register a decider HttpParticipant and integrate into the workflow**

Description:
[Tracker #133725213](https://www.pivotaltracker.com/story/show/133725213)

Also implements https://www.pivotaltracker.com/story/show/133725421
@pfarrell @cobbr2 @subhenduGR 


=====================================================
Timestamp:  2016-11-11T19:19:57Z
Repository: ConsultingMD/warehouse
PR #260: [# 134132287] DECISIVE_METRICS is too restrictive

Description:

[Tracker #134132287](https://www.pivotaltracker.com/story/show/134132287)
@pfarrell @subhenduGR 


=====================================================
Timestamp:  2016-11-10T23:02:32Z
Repository: ConsultingMD/warehouse
PR #259: [# 133725155] **Create a Warehouse Approval API endpoint** to deliver an ondemand approval decision for a workflow

Description:

[Tracker #133725155](https://www.pivotaltracker.com/story/show/133725155)

@pfarrell @subhenduGR @beghbali 


=====================================================
Timestamp:  2016-11-04T23:03:34Z
Repository: ConsultingMD/stone
PR #229: [# 132633187] As Data Science, so that I can load normalized Caremark pharmacy claims files, **normalize Caremark pharmacy claims**

Description:
[Tracker #132633187](https://www.pivotaltracker.com/story/show/132633187)

@wenever  @pfarrell @runongirlrunon 


=====================================================
Timestamp:  2016-10-28T01:54:24Z
Repository: ConsultingMD/stone
PR #223: [# 132614681] As Data Science, so that I can load privatized Aetna pharmacy claims files, **privatize Aetna pharmacy claims**

Description:
[Tracker #132614681](https://www.pivotaltracker.com/story/show/132614681)

@wenever @pfarrell @runongirlrunon 



=====================================================
Timestamp:  2016-10-27T01:41:16Z
Repository: ConsultingMD/tp
PR #475: [# 132796413] '0' is not visible when 0 results are returned from searching for doctors from OV

Description:
[Tracker #132796413](https://www.pivotaltracker.com/story/show/132796413)

@timz1290 @nfoen 



=====================================================
Timestamp:  2016-10-26T21:17:33Z
Repository: ConsultingMD/tp
PR #474: [# 132793121] Not matching '

Description:
[Tracker #132793121](https://www.pivotaltracker.com/story/show/132793121)

@timz1290 @nfoen 



=====================================================
Timestamp:  2016-10-25T17:11:47Z
Repository: ConsultingMD/jarvis
PR #6443: Remove FK constraint from #6392 [# 131599425] As an affiliate, so I can receive a report of registered users for a customer I want a new report type defined to export this data

Description:
Removes FK constraint from https://github.com/ConsultingMD/jarvis/pull/6392 [Tracker #131599425](https://www.pivotaltracker.com/story/show/131599425)

@breakpointer @RoryO 



=====================================================
Timestamp:  2016-10-21T22:02:03Z
Repository: ConsultingMD/jarvis
PR #6430: [# 129678417] In Stark, deprecate the old DoctorSelection condition/procedure columns, and use the new values

Description:
[Tracker #129678417](https://www.pivotaltracker.com/story/show/129678417)

@timz1290 @nfoen 



=====================================================
Timestamp:  2016-10-20T01:38:19Z
Repository: ConsultingMD/puppet
PR #328: [# 132709569] **enter-db** is broken

Description:
[Tracker #132709569](https://www.pivotaltracker.com/story/show/132709569)

@007 @soonahn 



=====================================================
Timestamp:  2016-10-18T19:20:42Z
Repository: ConsultingMD/tp
PR #468: [# 132633695] usr/local/rvm/gems/ruby-2.1.5@tp/gems/aws-sdk-v1-1.66.0/lib/aws/core/client.rb:375:in `return_or_raise': Access Denied (AWS::S3::Errors::AccessDenied)

Description:
[Tracker #132633695](https://www.pivotaltracker.com/story/show/132633695)

@timz1290 



=====================================================
Timestamp:  2016-10-17T22:06:05Z
Repository: ConsultingMD/metal
PR #310: [# 132612685] `alarms_poke_yoke': undefined method `each' for nil:NilClass (NoMethodError)

Description:
[Tracker #132612685](https://www.pivotaltracker.com/story/show/132612685)

@007 



=====================================================
Timestamp:  2016-10-06T19:12:32Z
Repository: ConsultingMD/tp
PR #462: [# 131834049] ActionController::InvalidAuthenticityToken: ActionController::InvalidAuthenticityToken

Description:
[Tracker #131834049](https://www.pivotaltracker.com/story/show/131834049)

@timz1290 @nfoen 

http://api.rubyonrails.org/classes/ActionController/RequestForgeryProtection/ClassMethods.html
Addresses  https://rollbar.com/GrandRounds/tp/items/24/

its `:null_session` by default, but I want to be explicit.



=====================================================
Timestamp:  2016-10-05T23:23:19Z
Repository: ConsultingMD/tp
PR #460: [# 126083409] When searching by condition or procedure, only return doctors that treat that condition/procedure

Description:
[Tracker #126083409](https://www.pivotaltracker.com/story/show/126083409)

This story also includes [Tracker #126083357](https://www.pivotaltracker.com/story/show/126083357)
@nfoen @timz1290 

we still haven't obtained the new `doctor_conditions`, `doctor_procedures` tables from DS. After we get these new tables I want to do some final testing on it with the actual data.



=====================================================
Timestamp:  2016-10-03T19:13:09Z
Repository: ConsultingMD/tp
PR #455: [# 131468797] NoMethodError: undefined method `match_formula for nil:NilClass

Description:
[Tracker #131468797](https://www.pivotaltracker.com/n/projects/1563751/stories/131468797)

@timz1290 @nfoen 

Addresses: [TP Rollbar #34](https://rollbar.com/GrandRounds/tp/items/34)



=====================================================
Timestamp:  2016-09-29T01:55:07Z
Repository: ConsultingMD/banyan
PR #374: Revert [# 129155965] As a Banyan user, so my new interface looks like design's mocks, apply styling to Banyan 2.0.

Description:
Reverts ConsultingMD/banyan#370



=====================================================
Timestamp:  2016-09-28T22:01:05Z
Repository: ConsultingMD/tp
PR #450: [# 131319147] Allow TP to respond to tin:xxxxxxxxx requests.

Description:
[Tracker #131319147](https://www.pivotaltracker.com/story/show/131319147)

@beghbali 



=====================================================
Timestamp:  2016-09-27T22:12:28Z
Repository: ConsultingMD/tp
PR #449: [# 131215449] update medical_terms factory

Description:
[Tracker #131215449](https://www.pivotaltracker.com/story/show/131215449)

@timz1290 @nfoen 



=====================================================
Timestamp:  2016-09-27T21:30:23Z
Repository: ConsultingMD/stone
PR #205: [# 123271351] Don't rely on TP working to display record locations

Description:
[Tracker #123271351](https://www.pivotaltracker.com/story/show/123271351)

@wenever @pfarrell @beghbali 



=====================================================
Timestamp:  2016-09-26T21:48:22Z
Repository: ConsultingMD/tp
PR #442: [# 129678417] In Stark, deprecate the old DoctorSelection condition/procedure columns, and use the new values

Description:
[Tracker #129678417](https://www.pivotaltracker.com/story/show/129678417)

@nfoen @timz1290 

Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/6329

Also includes https://www.pivotaltracker.com/story/show/128113579



=====================================================
Timestamp:  2016-09-26T21:48:14Z
Repository: ConsultingMD/jarvis
PR #6329: [# 129678417] In Stark, deprecate the old DoctorSelection condition/procedure columns, and use the new values

Description:
[Tracker #129678417](https://www.pivotaltracker.com/story/show/129678417)

@nfoen @timz1290 

Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/442

Also includes https://www.pivotaltracker.com/story/show/128113579



=====================================================
Timestamp:  2016-09-23T23:31:16Z
Repository: ConsultingMD/tp
PR #439: [# 128045113] Create new tables: doctor_conditions and doctor_procedures

Description:
[Tracker #128045113](https://www.pivotaltracker.com/story/show/128045113)

@nfoen @timz1290 



=====================================================
Timestamp:  2016-09-22T01:49:09Z
Repository: ConsultingMD/warehouse
PR #238: [# 127953957] As a CC in stark, so I can use the new procedure/condition endpoints, **update stark to use procedure/condition_medical_terms**

Description:
[Tracker #127953957](https://www.pivotaltracker.com/story/show/127953957)

@nfoen @timz1290 

Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/6319



=====================================================
Timestamp:  2016-09-22T01:47:35Z
Repository: ConsultingMD/jarvis
PR #6319: [# 127953957] As a CC in stark, so I can use the new procedure/condition endpoints, **update stark to use procedure/condition_medical_terms**

Description:
[Tracker #127953957](https://www.pivotaltracker.com/story/show/127953957)

@nfoen @timz1290 

Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/238



=====================================================
Timestamp:  2016-09-21T21:45:50Z
Repository: ConsultingMD/tp
PR #435: [# 128257311] As a user of the physician specialties api endpoint, so I don't need specialty uid and name when restoring a specialty, **update the endpoint to use specialties normalized table**

Description:
@nfoen @timz1290 

[Tracker #128257311](https://www.pivotaltracker.com/story/show/128257311)



=====================================================
Timestamp:  2016-09-21T01:52:35Z
Repository: ConsultingMD/tp
PR #431: [# 130796105] Increase timeout for stark client

Description:
[Tracker #130796105](https://www.pivotaltracker.com/story/show/130796105)

@timz1290 @alexebird 



=====================================================
Timestamp:  2016-09-20T22:44:30Z
Repository: ConsultingMD/tp
PR #430: [# 127947793] As a CC, so I can filter verified procedures, **add new get medical_terms/procedures and medical_terms/conditions endpoints**

Description:
[Tracker #127947793](https://www.pivotaltracker.com/story/show/127947793)

@nfoen @timz1290 



=====================================================
Timestamp:  2016-09-19T23:28:14Z
Repository: ConsultingMD/tp
PR #427: [# 128257311] As a user of the physician specialties api endpoint, so I don't need specialty uid and name when restoring a specialty, **update the endpoint to use specialties normalized table**

Description:
@nfoen @timz1290 

[Tracker #128257311](https://www.pivotaltracker.com/story/show/128257311)

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/6304



=====================================================
Timestamp:  2016-09-19T23:28:06Z
Repository: ConsultingMD/jarvis
PR #6304: [# 128257311] As a user of the physician specialties api endpoint, so I don't need specialty uid and name when restoring a specialty, **update the endpoint to use specialties normalized table**

Description:
@nfoen @timz1290 

[Tracker #128257311](https://www.pivotaltracker.com/story/show/128257311)

Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/427



=====================================================
Timestamp:  2016-09-19T19:58:11Z
Repository: ConsultingMD/tp
PR #426: [# 127932075] As a CC in TP, so I can get filtered medical terms, **update the specialties input and autocomplete javascript to use the medical terms endpoint**

Description:
[Tracker #127932075](https://www.pivotaltracker.com/story/show/127932075)

@nfoen @timz1290 

also includes: https://www.pivotaltracker.com/story/show/130313857



=====================================================
Timestamp:  2016-09-13T23:44:33Z
Repository: ConsultingMD/tp
PR #422: [#130335935] Modify Authenticated::StandardCheck to check for cookie OR secret header, specialties medical term endpoint should return all results if no parameter is passed

Description:
[Tracker #130335935](https://www.pivotaltracker.com/story/show/130335935)

@nfoen @timz1290 



=====================================================
Timestamp:  2016-09-13T23:15:17Z
Repository: ConsultingMD/tp
PR #421: [# 127679571] As a CC, so I can use the new specialties endpoint, **update stark to use specialty_medical_terms**

Description:
[Tracker #127679571](https://www.pivotaltracker.com/story/show/127679571)

@nfoen @timz1290 

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/6280
Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/235



=====================================================
Timestamp:  2016-09-13T01:59:13Z
Repository: ConsultingMD/jarvis
PR #6280: [# 127679571] As a CC, so I can use the new specialties endpoint, **update stark to use specialty_medical_terms**

Description:
[Tracker #127679571](https://www.pivotaltracker.com/story/show/127679571)

@nfoen @timz1290 

Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/235



=====================================================
Timestamp:  2016-09-13T01:59:05Z
Repository: ConsultingMD/warehouse
PR #235: [# 127679571] As a CC, so I can use the new specialties endpoint, **update stark to use specialty_medical_terms**

Description:
[Tracker #127679571](https://www.pivotaltracker.com/story/show/127679571)

@nfoen @timz1290 

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/6280



=====================================================
Timestamp:  2016-09-09T01:00:12Z
Repository: ConsultingMD/tp
PR #416: [# 127622771] As a CC, so I can filter medical terms results, **add a medical_terms/specialties get endpoint**

Description:
[Tracker #127622771](https://www.pivotaltracker.com/story/show/127622771)

@timz1290 @nfoen 



=====================================================
Timestamp:  2016-09-08T01:59:08Z
Repository: ConsultingMD/tp
PR #414: [# 127699761] As a patient in meridian, so I can see common terms before a search, **add support for common terms under the medical terms endpoint**

Description:
[Tracker #127699761](https://www.pivotaltracker.com/story/show/127699761)

@timz1290 @nfoen 



=====================================================
Timestamp:  2016-09-07T22:17:33Z
Repository: ConsultingMD/tp
PR #413: [# 127623105] As a patient in meridian, so I can autocomplete a request with TP terms, **add an autocomplete get endpoint**

Description:
[Tracker #127623105](https://www.pivotaltracker.com/story/show/127623105)

@timz1290 @nfoen 



=====================================================
Timestamp:  2016-09-06T23:13:33Z
Repository: ConsultingMD/jarvis
PR #6250: [# 129897101] remove dicomgrid spec that makes an external request

Description:
[Tracker #129897101](https://www.pivotaltracker.com/story/show/129897101)

@kenberland @alexebird 



=====================================================
Timestamp:  2016-09-02T23:27:14Z
Repository: ConsultingMD/tp
PR #411: [# 127622925] As a TP client, so I can limit the autocomplete medical terms, **refactor and update the autocomplete method to filter results**

Description:
[Tracker #127622925](https://www.pivotaltracker.com/story/show/127622925)

@timz1290 



=====================================================
Timestamp:  2016-09-01T21:56:33Z
Repository: ConsultingMD/tp
PR #410: [# 129582249] Add specialties table seed data to pancakes

Description:
[Tracker #129582249](https://www.pivotaltracker.com/story/show/129582249)

@timz1290 



=====================================================
Timestamp:  2016-09-01T01:44:31Z
Repository: ConsultingMD/tp
PR #409: [# 127771845] As a patient in meridian, so I get a good suggestion based on the term searched, **add a new medical term get endpoint**

Description:
[Tracker #127771845](https://www.pivotaltracker.com/story/show/127771845)

@timz1290 



=====================================================
Timestamp:  2016-08-31T01:02:36Z
Repository: ConsultingMD/tp
PR #407: [# 127699725] As a patient using meridian, so I can retrieve different categories of medical terms, **create representers for medical terms**

Description:
[Tracker #127699725](https://www.pivotaltracker.com/story/show/127699725)

@timz1290 

specs will be added in the next story.

http://trailblazer.to/gems/representable/3.0/api.html#include-and-exclude



=====================================================
Timestamp:  2016-08-30T01:15:39Z
Repository: ConsultingMD/tp
PR #404: [# 123923221] As TP, switch to using specialty_uid as the join column for specialty related concepts

Description:
[Tracker #123923221](https://www.pivotaltracker.com/story/show/123923221)

@timz1290 @jstrater 



=====================================================
Timestamp:  2016-08-27T00:09:59Z
Repository: richddr/looker-master
PR #3: Feature/129073359/know which cases used which match

Description:



=====================================================
Timestamp:  2016-08-26T21:46:25Z
Repository: ConsultingMD/warehouse
PR #224: [# 129073359] As a PM, so I know which cases used which match formula, send the formula type used to warehouse/looker

Description:
[Tracker #129073359](https://www.pivotaltracker.com/story/show/129073359)

@timz1290 

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/6208
Corresponding Looker PR: https://github.com/ConsultingMD/looker-master/pull/178



=====================================================
Timestamp:  2016-08-26T21:45:11Z
Repository: ConsultingMD/looker-master
PR #178: [# 129073359] As a PM, so I know which cases used which match formula, send the formula type used to warehouse/looker

Description:
[Tracker #129073359](https://www.pivotaltracker.com/story/show/129073359)

@timz1290 

Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/224
Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/6208 



=====================================================
Timestamp:  2016-08-26T21:44:30Z
Repository: ConsultingMD/jarvis
PR #6208: [# 129073359] As a PM, so I know which cases used which match formula, send the formula type used to warehouse/looker

Description:
[Tracker #129073359](https://www.pivotaltracker.com/story/show/129073359)

@timz1290 

Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/224
Corresponding Looker PR: https://github.com/ConsultingMD/looker-master/pull/178



=====================================================
Timestamp:  2016-08-25T18:16:40Z
Repository: ConsultingMD/tp
PR #400: [# 126101643] As a CC, so I can get a list of higher quality physicians, use a different match score when the match formula selected is "clinical" 

Description:
[Tracker #126101643](https://www.pivotaltracker.com/story/show/126101643)

@timz1290 

https://github.com/ConsultingMD/tp/pull/399 needs to be merged before this.



=====================================================
Timestamp:  2016-08-25T18:13:11Z
Repository: ConsultingMD/jarvis
PR #6198: [# 126101631] As a CC, display the Expert Type 'match formula' in the CaseDetails box on TP

Description:
[Tracker #126101631](https://www.pivotaltracker.com/story/show/126101631)
@timz1290 
Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/399



=====================================================
Timestamp:  2016-08-25T18:13:00Z
Repository: ConsultingMD/tp
PR #399: [# 126101631] As a CC, display the Expert Type 'match formula' in the CaseDetails box on TP

Description:
[Tracker #126101631](https://www.pivotaltracker.com/story/show/126101631)

@timz1290 

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/6198



=====================================================
Timestamp:  2016-08-23T21:32:14Z
Repository: ConsultingMD/jarvis
PR #6186: [# 126101623] As an SP, so I can let CCs know when I would prefer quality over distance, add a drop down for match formula to Stark expert type accordion 

Description:
[Tracker #126101623](https://www.pivotaltracker.com/story/show/126101623)

@timz1290 



=====================================================
Timestamp:  2016-08-22T23:03:45Z
Repository: ConsultingMD/tp
PR #396: [# 126205033] As TP, so we no longer rely on dynamic quality buckets, compute "not recommended" using quality percentage

Description:
[Tracker #126205033](https://www.pivotaltracker.com/story/show/126205033)

@timz1290 



=====================================================
Timestamp:  2016-08-19T23:15:04Z
Repository: ConsultingMD/jarvis
PR #6170: [# 126102143] As a CC, so I am not confused about extra information, remove quality rating from physician selection table in Stark

Description:
[Tracker #126102143](https://www.pivotaltracker.com/story/show/126102143)

@timz1290 

Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/394



=====================================================
Timestamp:  2016-08-19T23:05:12Z
Repository: ConsultingMD/jarvis
PR #6169: Feature/126102143/not confused about extra information remove

Description:
[Tracker #126102143](https://www.pivotaltracker.com/story/show/126102143)

@timz1290 

Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/394



=====================================================
Timestamp:  2016-08-19T22:50:57Z
Repository: ConsultingMD/tp
PR #394: [# 126102143] As a CC, so I am not confused about extra information, remove quality rating from physician selection table in Stark

Description:
[Tracker #126102143](https://www.pivotaltracker.com/story/show/126102143)

@timz1290 

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/6170



=====================================================
Timestamp:  2016-08-18T22:28:50Z
Repository: ConsultingMD/tp
PR #391: [# 126187375] As a CC, to simplify the doctor ratings label, only show the rating columns in the search results table for low quality searches

Description:
[Tracker #126187375](https://www.pivotaltracker.com/story/show/126187375)

@timz1290 



=====================================================
Timestamp:  2016-08-18T01:07:59Z
Repository: ConsultingMD/tp
PR #390: [# 125030641] As a CC, so I don't accidentally select low quality physicians, do not show low quality physicians when searching by specialty/condition/procedure

Description:
[Tracker #125030641](https://www.pivotaltracker.com/story/show/125030641)

@timz1290 



=====================================================
Timestamp:  2016-08-18T00:59:02Z
Repository: ConsultingMD/tp
PR #389: [# 125030641] As a CC, so I don't accidentally select low quality physicians, do not show low quality physicians when searching by specialty/condition/procedure

Description:
[Tracker #125030641](https://www.pivotaltracker.com/story/show/125030641)

@timz1290 



=====================================================
Timestamp:  2016-08-12T00:26:45Z
Repository: ConsultingMD/warehouse
PR #219: [# 116796957] As a CC, so I can see TP updates after a database reset, **update the sophia import to replay changes from the warehouse**

Description:
[Tracker #116796957](https://www.pivotaltracker.com/story/show/116796957)

@timz1290 @nfoen 

Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/381



=====================================================
Timestamp:  2016-08-12T00:26:40Z
Repository: ConsultingMD/tp
PR #381: [# 116796957] As a CC, so I can see TP updates after a database reset, **update the sophia import to replay changes from the warehouse**

Description:
[Tracker #116796957](https://www.pivotaltracker.com/story/show/116796957)

@timz1290 @nfoen 

Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/219



=====================================================
Timestamp:  2016-08-11T20:07:01Z
Repository: ConsultingMD/banyan
PR #336: [# 128017513] Bump grnds-service across all services

Description:
[Tracker #128017513](https://www.pivotaltracker.com/story/show/128017513)

@timz1290 



=====================================================
Timestamp:  2016-08-09T22:05:53Z
Repository: ConsultingMD/jarvis
PR #6095: [# 128017513] Bump grnds-service across all services

Description:
[Tracker #128017513](https://www.pivotaltracker.com/story/show/128017513)

@timz1290 @pfarrell 



=====================================================
Timestamp:  2016-08-09T21:57:42Z
Repository: ConsultingMD/frick
PR #335: [# 128017513] Bump grnds-service across all services

Description:
[Tracker #128017513](https://www.pivotaltracker.com/story/show/128017513)

@timz1290 @pfarrell 



=====================================================
Timestamp:  2016-08-09T21:56:48Z
Repository: ConsultingMD/stone
PR #186: [# 128017513] Bump grnds-service across all services

Description:
[Tracker #128017513](https://www.pivotaltracker.com/story/show/128017513)

@timz1290 @pfarrell 



=====================================================
Timestamp:  2016-08-09T21:48:07Z
Repository: ConsultingMD/rogers
PR #149: [# 128017513] Bump grnds-service across all services

Description:
[Tracker #128017513](https://www.pivotaltracker.com/story/show/128017513)

@timz1290 @pfarrell 



=====================================================
Timestamp:  2016-08-09T21:47:16Z
Repository: ConsultingMD/warehouse
PR #216: [# 128017513] Bump grnds-service across all services

Description:
[Tracker #128017513](https://www.pivotaltracker.com/story/show/128017513)

@timz1290 @pfarrell 



=====================================================
Timestamp:  2016-08-09T21:47:01Z
Repository: ConsultingMD/tp
PR #380: [# 128017513] Bump grnds-service across all services

Description:
[Tracker #128017513](https://www.pivotaltracker.com/story/show/128017513)

@timz1290 @pfarrell 



=====================================================
Timestamp:  2016-08-09T19:59:38Z
Repository: ConsultingMD/service
PR #90: [# 128015813] lib/grnds/service/publisher/kinesis_publisher.rb#publish_with_retries does not have the keyboard argument **wait** defined

Description:
[Tracker #128015813](https://www.pivotaltracker.com/story/show/128015813)

@timz1290 @pfarrell 

@cobbr2 this is the fix for

``` bash
[Worker(host:rgarcia-T450 pid:26062)] Job ActiveJob::QueueAdapters::DelayedJobAdapter::JobWrapper (id=2342) RUNNING
[Worker(host:rgarcia-T450 pid:26062)] Job ActiveJob::QueueAdapters::DelayedJobAdapter::JobWrapper (id=2342) FAILED (0 prior attempts) with ArgumentError: unknown keyword: wait
[Worker(host:rgarcia-T450 pid:26062)] 1 jobs processed at 45.2208 j/s, 1 failed
[Worker(host:rgarcia-T450 pid:26062)] Job ActiveJob::QueueAdapters::DelayedJobAdapter::JobWrapper (id=2342) RUNNING
[Worker(host:rgarcia-T450 pid:26062)] Job ActiveJob::QueueAdapters::DelayedJobAdapter::JobWrapper (id=2342) FAILED (1 prior attempts) with ArgumentError: unknown keyword: wait
[Worker(host:rgarcia-T450 pid:26062)] Job ActiveJob::QueueAdapters::DelayedJobAdapter::JobWrapper (id=2342) REMOVED permanently because of 2 consecutive failures
[Worker(host:rgarcia-T450 pid:26062)] 1 jobs processed at 46.8619 j/s, 1 failed
```



=====================================================
Timestamp:  2016-08-08T22:55:28Z
Repository: ConsultingMD/tp
PR #378: [# 127928991] Make TP work with kinesalite (Edith)

Description:
READY TO MERGE, don't know if needs more tooling.

[Tracker #127928991](https://www.pivotaltracker.com/story/show/127928991)

@cobbr2 @pfarrell following the same pattern used in https://github.com/ConsultingMD/service/pull/85 for our other services (jarvis, rogers, warehouse, stone, frick)

Even with this it does not seem to be working, but we still need this.



=====================================================
Timestamp:  2016-08-02T19:24:27Z
Repository: ConsultingMD/warehouse
PR #209: [# 126095775] As a CC, so I have access to TP updates after a database reset, **create a GET endpoint for all pending audit events**

Description:
[Tracker #126095775](https://www.pivotaltracker.com/story/show/126095775)

@nfoen @timz1290 @RoryO 



=====================================================
Timestamp:  2016-07-28T18:00:29Z
Repository: ConsultingMD/tp
PR #365: [# 126075395] As a warehouse user, so that my data is safe with the new API, **implement authentication for the Rails API endpoints**

Description:
[Tracker #126075395](https://www.pivotaltracker.com/story/show/126075395)

@nfoen @timz1290 

[Warehouse PR](https://github.com/ConsultingMD/warehouse/pull/205)



=====================================================
Timestamp:  2016-07-28T18:00:20Z
Repository: ConsultingMD/warehouse
PR #205: [# 126075395] As a warehouse user, so that my data is safe with the new API, **implement authentication for the Rails API endpoints**

Description:
[Tracker #126075395](https://www.pivotaltracker.com/story/show/126075395)
@nfoen @timz1290 

[TP PR](https://github.com/ConsultingMD/tp/pull/365)



=====================================================
Timestamp:  2016-07-28T00:00:40Z
Repository: ConsultingMD/deploy
PR #18: [# 127235169] grnds-deploy gem needs hashie as a dependency

Description:
grnds-deploy gem needs hashie as a dependency

[Tracker #127235169](https://www.pivotaltracker.com/story/show/127235169)

@soonahn 



=====================================================
Timestamp:  2016-07-27T23:25:32Z
Repository: ConsultingMD/warehouse
PR #204: [# 127231305] bump grnds-service

Description:
[Tracker #127231305](https://www.pivotaltracker.com/story/show/127231305)

@timz1290 @nfoen 

[tp](https://github.com/ConsultingMD/tp/pull/363)
[jarvis](https://github.com/ConsultingMD/ConsultingMD/pull/6020)
[banyan](https://github.com/ConsultingMD/banyan/pull/334)
[stone](https://github.com/ConsultingMD/stone/pull/175)
[frick](https://github.com/ConsultingMD/frick/pull/328)



=====================================================
Timestamp:  2016-07-27T23:25:13Z
Repository: ConsultingMD/frick
PR #328: [# 127231305] bump grnds-service

Description:
[Tracker #127231305](https://www.pivotaltracker.com/story/show/127231305)

@timz1290 @nfoen 

[tp](https://github.com/ConsultingMD/tp/pull/363)
[warehouse](https://github.com/ConsultingMD/warehouse/pull/204)
[banyan](https://github.com/ConsultingMD/banyan/pull/334)
[stone](https://github.com/ConsultingMD/stone/pull/175)
[jarvis](https://github.com/ConsultingMD/ConsultingMD/pull/6020)



=====================================================
Timestamp:  2016-07-27T23:25:09Z
Repository: ConsultingMD/banyan
PR #334: [# 127231305] bump grnds-service

Description:
[Tracker #127231305](https://www.pivotaltracker.com/story/show/127231305)

@timz1290 @nfoen 

[tp](https://github.com/ConsultingMD/tp/pull/363)
[warehouse](https://github.com/ConsultingMD/warehouse/pull/204)
[jarvis](https://github.com/ConsultingMD/ConsultingMD/pull/6020)
[stone](https://github.com/ConsultingMD/stone/pull/175)
[frick](https://github.com/ConsultingMD/frick/pull/328)



=====================================================
Timestamp:  2016-07-27T23:25:07Z
Repository: ConsultingMD/jarvis
PR #6020: [# 127231305] bump grnds-service

Description:
[Tracker #127231305](https://www.pivotaltracker.com/story/show/127231305)

@timz1290 @nfoen 

[tp](https://github.com/ConsultingMD/tp/pull/363)
[warehouse](https://github.com/ConsultingMD/warehouse/pull/204)
[banyan](https://github.com/ConsultingMD/banyan/pull/334)
[stone](https://github.com/ConsultingMD/stone/pull/175)
[frick](https://github.com/ConsultingMD/frick/pull/328)



=====================================================
Timestamp:  2016-07-27T23:24:37Z
Repository: ConsultingMD/stone
PR #175: [# 127231305] bump grnds-service

Description:
[Tracker #127231305](https://www.pivotaltracker.com/story/show/127231305)

@timz1290 @nfoen 

[tp](https://github.com/ConsultingMD/tp/pull/363)
[warehouse](https://github.com/ConsultingMD/warehouse/pull/204)
[banyan](https://github.com/ConsultingMD/banyan/pull/334)
[jarvis](https://github.com/ConsultingMD/ConsultingMD/pull/6020)
[frick](https://github.com/ConsultingMD/frick/pull/328)



=====================================================
Timestamp:  2016-07-27T23:04:30Z
Repository: ConsultingMD/tp
PR #363: [# 127231305] bump grnds-service

Description:
[Tracker #127231305](https://www.pivotaltracker.com/story/show/127231305)

@timz1290 @nfoen 

[jarvis](https://github.com/ConsultingMD/ConsultingMD/pull/6020)
[warehouse](https://github.com/ConsultingMD/warehouse/pull/204)
[banyan](https://github.com/ConsultingMD/banyan/pull/334)
[stone](https://github.com/ConsultingMD/stone/pull/175)
[frick](https://github.com/ConsultingMD/frick/pull/328)



=====================================================
Timestamp:  2016-07-27T21:54:51Z
Repository: ConsultingMD/service
PR #84: [# 127226495] Add warehouse secret to grnds-service

Description:
Add warehouse secret to grnds-service

[Tracker #127226495](https://www.pivotaltracker.com/story/show/127226495)

@nfoen 

I will create separate PR's to update all of the other repos: jarvis, banyan, frick, tp, stone, warehouse, tim



=====================================================
Timestamp:  2016-07-27T19:03:45Z
Repository: ConsultingMD/warehouse
PR #203: [# 126072821] As an audit consumer, so I can retrieve audit events, **create an audit event model**

Description:
[Tracker #126072821](https://www.pivotaltracker.com/story/show/126072821)

@nfoen @RoryO 



=====================================================
Timestamp:  2016-07-25T22:45:31Z
Repository: ConsultingMD/tp
PR #361: [# 127020651] Move active_job initializer logic to a rake task so I don't hammer the DB

Description:
[Tracker #127020651](https://www.pivotaltracker.com/story/show/127020651)

@RoryO @007 



=====================================================
Timestamp:  2016-07-21T19:47:55Z
Repository: ConsultingMD/puppet
PR #296: [# 126809675] Update puppet to use postgresl 9.5

Description:
[Tracker #126809675](https://www.pivotaltracker.com/story/show/126809675)

@007 



=====================================================
Timestamp:  2016-07-21T19:38:44Z
Repository: ConsultingMD/metal
PR #254: [# 122168411] Metal did not add banyan to the experts ELB

Description:
[Tracker #122168411](https://www.pivotaltracker.com/story/show/122168411)

@kenberland @007 



=====================================================
Timestamp:  2016-07-20T18:53:44Z
Repository: ConsultingMD/looker-master
PR #170: [# 119572069] As a DS, so I can get a report of the tp change logs, **add a looker view / explore / dashboard with the tp audit events **

Description:
As a DS, so I can get a report of the tp change logs, *_add a looker view / explore / dashboard with the tp audit events *_

[Tracker #119572069](https://www.pivotaltracker.com/story/show/119572069)

@nfoen 



=====================================================
Timestamp:  2016-07-20T01:01:18Z
Repository: ConsultingMD/looker-master
PR #169: [# 119572069] As a DS, so I can get a report of the tp change logs, **add a looker view / explore / dashboard with the tp audit events **

Description:
As a DS, so I can get a report of the tp change logs, *_add a looker view / explore / dashboard with the tp audit events *_

[Tracker #119572069](https://www.pivotaltracker.com/story/show/119572069)

@nfoen 



=====================================================
Timestamp:  2016-07-20T00:50:48Z
Repository: richddr/looker-master
PR #2: Dev richard garcia np2x

Description:



=====================================================
Timestamp:  2016-07-19T01:05:54Z
Repository: ConsultingMD/tp
PR #353: [# 126109983] Heisenspec in TP involving address validation

Description:
[Tracker #126109983](https://www.pivotaltracker.com/story/show/126109983)

@timz1290 



=====================================================
Timestamp:  2016-07-18T18:15:34Z
Repository: ConsultingMD/tp
PR #350: [# 126432083] Heisenspec in TP involving duplicate doctor_condition probability

Description:
[Tracker #126432083](https://www.pivotaltracker.com/story/show/126432083)

@timz1290 



=====================================================
Timestamp:  2016-07-15T23:06:55Z
Repository: ConsultingMD/tp
PR #349: [# 119851225] As a client of the TP API, so I can get more accurate endpoints in the documentation, **fix grape-swagger to include the /api prefix and limit it to development**

Description:
[Tracker #119851225](https://www.pivotaltracker.com/story/show/119851225)

@nfoen 



=====================================================
Timestamp:  2016-07-14T21:29:25Z
Repository: ConsultingMD/cargo
PR #106: [# 126179981] TP is not returning any results

Description:
[Tracker #126179981](https://www.pivotaltracker.com/story/show/126179981)

@mike809 

@alexebird this is a temporary workaround, when you come back let's sit down and pair on applying the correct fix. Basically wherever we set the `database_url` for tp it needs to be `postgis` instead of `postgres`. Me and michael tried doing that on `GR/honesty/lib/pancakes/schema.rb:13` but that didn't work...when we ssh'd into the tp machine/image the database url was still saying `postgres`



=====================================================
Timestamp:  2016-07-13T22:13:35Z
Repository: ConsultingMD/honesty
PR #81: [# 126179981] TP is not returning any results

Description:
[Tracker #126179981](https://www.pivotaltracker.com/story/show/126179981)

@mike809 



=====================================================
Timestamp:  2016-07-13T20:34:10Z
Repository: ConsultingMD/jarvis
PR #5918: [# 126193137] When searching by procedure, if I hit validation error, next search will search by procedure but not display the procedure pill

Description:
[Tracker #126193137](https://www.pivotaltracker.com/story/show/126193137)

@skylarcook 

[TP PR](https://github.com/ConsultingMD/tp/pull/341)



=====================================================
Timestamp:  2016-07-13T20:34:01Z
Repository: ConsultingMD/tp
PR #341: [# 126193137] When searching by procedure, if I hit validation error, next search will search by procedure but not display the procedure pill

Description:
[Tracker #126193137](https://www.pivotaltracker.com/story/show/126193137)

@skylarcook 

[JARVIS PR](https://github.com/ConsultingMD/ConsultingMD/pull/5918)



=====================================================
Timestamp:  2016-07-13T18:47:15Z
Repository: ConsultingMD/honesty
PR #80: [# 126179981] TP is not returning any results

Description:
[Tracker #126179981](https://www.pivotaltracker.com/story/show/126179981)

@mike809 



=====================================================
Timestamp:  2016-07-13T18:16:18Z
Repository: ConsultingMD/honesty
PR #79: [# 126179981] TP is not returning any results

Description:
[Tracker #126179981](https://www.pivotaltracker.com/story/show/126179981)

@mike809 



=====================================================
Timestamp:  2016-07-13T00:19:31Z
Repository: ConsultingMD/tp
PR #340: [# 124241871] TP - when no results are found, should display message instead of showing nothing

Description:
[Tracker #124241871](https://www.pivotaltracker.com/story/show/124241871)

@nfoen @timz1290 

approved by rita already

![image](https://cloud.githubusercontent.com/assets/1312796/16787885/cab57b8e-4854-11e6-8d37-604a70f01ada.png)



=====================================================
Timestamp:  2016-07-12T23:36:29Z
Repository: ConsultingMD/tp
PR #339: [# 126167043] Remove conditions and procedures from physician modal

Description:
[Tracker #126167043](https://www.pivotaltracker.com/story/show/126167043)

@nfoen @timz1290 



=====================================================
Timestamp:  2016-07-12T23:00:44Z
Repository: ConsultingMD/tp
PR #338: [# 126179981] TP is not returning any results

Description:
[Tracker #126179981](https://www.pivotaltracker.com/story/show/126179981)

@RoryO 



=====================================================
Timestamp:  2016-07-12T01:05:16Z
Repository: ConsultingMD/tp
PR #334: [# 124984241] On TP Doctor modal, phone and fax have different formats

Description:
[Tracker #124984241](https://www.pivotaltracker.com/story/show/124984241)

@nfoen @timz1290 



=====================================================
Timestamp:  2016-07-11T23:04:54Z
Repository: ConsultingMD/jarvis
PR #5903: [# 124984241] On TP Doctor modal, phone and fax have different formats

Description:
[Tracker #124984241](https://www.pivotaltracker.com/story/show/124984241)

@timz1290 @nfoen 



=====================================================
Timestamp:  2016-07-08T22:15:15Z
Repository: ConsultingMD/tp
PR #333: [# 123671641] As TP, when I perform a search, validations do not appear.

Description:
[Tracker #123671641](https://www.pivotaltracker.com/story/show/123671641)

@timz1290  @nfoen :hocho: :fire: 



=====================================================
Timestamp:  2016-07-08T18:44:40Z
Repository: ConsultingMD/tp
PR #332: [# 120135819] As TP,  ** update the denormalized view ** when the underlying table changes

Description:
[Tracker #120135819](https://www.pivotaltracker.com/story/show/120135819)

@timz1290 @nfoen @RoryO 



=====================================================
Timestamp:  2016-07-06T22:01:40Z
Repository: ConsultingMD/tp
PR #330: [# 119334909] As TP, create a  **materialized denormalized view ** for doctor

Description:
[Tracker #119334909](https://www.pivotaltracker.com/story/show/119334909)
@timz1290 



=====================================================
Timestamp:  2016-06-30T20:20:35Z
Repository: scenic-views/scenic
PR #160: Don't lock materialized views when updating them

Description:
Update to /lib/scenic/adapters/postgres.rb#update_materialized_view

**Before if there were big changes done to a materialized view, when that migration was run on a production environment, it would lock up the materialized view and it would result in end users having a bad experience. This PR addresses this issue by doing the following:**

When updating a materialized view, instead of:
- Dropping the materialized view
- Recreating the materialized view from the latest version

Do the following:
- Create a materialized view from the latest version with a temporary name ("#{materialized_view_name}_temp").
   This includes applying the new indexes contained in the new version.
- Drop the old materialized view
- Rename the newly created temporary view to the original name

I saw that there weren't any specs for `#update_materialized_view` so I did not write any, also this would be hard to test. All existing specs passed locally (`bin/appraisal rake`). You can verify that this works by having a v1 of a view, then on the v2 of it make it really complex (completely different SELECT, indexes) so it takes a good amount of time to run that migration, while the migration is running, connect to the database and query the materialized view and verify that its not locked and you can get results from it (previous version).



=====================================================
Timestamp:  2016-06-28T21:53:20Z
Repository: ConsultingMD/tp
PR #319: [# 119334909] As TP, create a  **materialized denormalized view ** for doctor

Description:
[Tracker #119334909](https://www.pivotaltracker.com/story/show/119334909)
Also includes [#121901841](https://www.pivotaltracker.com/story/show/121901841)
@timz1290 



=====================================================
Timestamp:  2016-06-28T21:51:52Z
Repository: ConsultingMD/honesty
PR #74: [# 123237351] Add postgis to docker file

Description:
[Tracker #123237351](https://www.pivotaltracker.com/story/show/123237351)

@alexebird 



=====================================================
Timestamp:  2016-06-23T01:39:23Z
Repository: ConsultingMD/cargo
PR #100: So my tp builds can run on honesty also do a db migrate, only do db:seed for when its a pancake

Description:
@alexebird @timz1290 

am working on https://www.pivotaltracker.com/story/show/119334909 which creates a new migration and realized that we need to also do a `db:migrate` here so the builds can run on honesty.



=====================================================
Timestamp:  2016-06-22T00:30:55Z
Repository: ConsultingMD/tp
PR #307: update readme

Description:
@timz1290 



=====================================================
Timestamp:  2016-06-20T23:02:20Z
Repository: ConsultingMD/tp
PR #300: [# 120135573] As TP, ** manually migrate ** the non-imported mysql tables to postgresql

Description:
[Tracker #120135573](https://www.pivotaltracker.com/story/show/120135573)

@timz1290 



=====================================================
Timestamp:  2016-06-17T21:29:37Z
Repository: ConsultingMD/tp
PR #296: [# 120135573] As TP, ** manually migrate ** the non-imported mysql tables to postgresql

Description:
[Tracker #120135573](https://www.pivotaltracker.com/story/show/120135573)

@timz1290 



=====================================================
Timestamp:  2016-06-15T19:37:32Z
Repository: ConsultingMD/tp
PR #291: [# 120135655] As TP, ** modify the sophia importer ** so it can import into postgres

Description:
[Tracker #120135655](https://www.pivotaltracker.com/story/show/120135655)

@timz1290 @007 



=====================================================
Timestamp:  2016-06-15T19:33:52Z
Repository: ConsultingMD/tp
PR #290: [# 120135655] As TP, ** modify the sophia importer ** so it can import into postgres

Description:
[Tracker #120135655](https://www.pivotaltracker.com/story/show/120135655)

@timz1290 @007 



=====================================================
Timestamp:  2016-06-09T21:20:20Z
Repository: ConsultingMD/tp
PR #285: Feature/120135679/modify csv importer works with postgresql

Description:
@timz1290 



=====================================================
Timestamp:  2016-06-08T18:48:11Z
Repository: ConsultingMD/tp
PR #281: [# 121160001] As TP, augment the physicians endpoint so it includes the doctor hospital affiliations

Description:
[Tracker #121160001](https://www.pivotaltracker.com/story/show/121160001)

@timz1290 



=====================================================
Timestamp:  2016-06-08T00:28:30Z
Repository: ConsultingMD/tp
PR #279: [# 119571981] As a CC, so I'm not overloaded with TP location information, **update the doctor baseball card to display the locations in different tabs**

Description:
[Tracker #119571981](https://www.pivotaltracker.com/story/show/119571981)

@nfoen @alexaltair 



=====================================================
Timestamp:  2016-06-07T02:48:58Z
Repository: ConsultingMD/tp
PR #276: [# 121000675] Switch RecordsLocation to query from Dynamo

Description:
[Tracker #121000675](https://www.pivotaltracker.com/story/show/121000675)

Corresponding Stone PR: https://github.com/ConsultingMD/stone/pull/118

@glacier @wenever @pfarrell 



=====================================================
Timestamp:  2016-06-07T01:17:05Z
Repository: ConsultingMD/stone
PR #118: [# 121000675] Switch RecordsLocation to query from Dynamo

Description:
[Tracker #121000675](https://www.pivotaltracker.com/story/show/121000675)

@glacier @wenever @pfarrell 

Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/276



=====================================================
Timestamp:  2016-06-06T22:20:46Z
Repository: ConsultingMD/tp
PR #275: [# 120984603] tp deploy failure

Description:
[Tracker #120984603](https://www.pivotaltracker.com/story/show/120984603)

@beldaGR @007 



=====================================================
Timestamp:  2016-06-06T19:01:53Z
Repository: ConsultingMD/service
PR #73: [# 120984603] tp deploy failure

Description:
[Tracker #120984603](https://www.pivotaltracker.com/story/show/120984603)

@beldaGR @timz1290 @007 

This should fix it



=====================================================
Timestamp:  2016-06-03T23:55:01Z
Repository: ConsultingMD/tp
PR #272: Commenting out the rename table migrations (for specialties, practice

Description:
_locations) because the sophia script (from master) was ran on UAT and Prod on the previous release (2016-05-20) which had the new schema.

@beldaGR @007 



=====================================================
Timestamp:  2016-06-03T22:29:10Z
Repository: ConsultingMD/tp
PR #271: [# 119328775] As an Engineer, so I can easily understand what the specialties and practice location in tp mean, **rename the TP tables**

Description:
[Tracker #119328775](https://www.pivotaltracker.com/story/show/119328775)

@RoryO 



=====================================================
Timestamp:  2016-06-03T22:01:32Z
Repository: ConsultingMD/tp
PR #270: [# 118676213] As a CC, so I can update the practice location in tp, **add endpoints to update and delete a practice location in tp**

Description:
[Tracker #118676213](https://www.pivotaltracker.com/story/show/118676213)]

@nfoen



=====================================================
Timestamp:  2016-06-02T20:03:20Z
Repository: ConsultingMD/tp
PR #268: [# 118686043] As a CC, so I can remove physician conditions in tp, **add an endpoint to soft delete a condition doctor probability in tp**

Description:
[Tracker #118686043](https://www.pivotaltracker.com/story/show/118686043)

@timz1290 @nfoen @alexaltair 



=====================================================
Timestamp:  2016-06-02T19:16:25Z
Repository: ConsultingMD/tp
PR #267: [# 118143681] As a CC, so I can remove physician procedures in tp, **add an endpoint to soft delete a procedure doctor probability in tp**

Description:
[Tracker #118143681](https://www.pivotaltracker.com/story/show/118143681)

@timz1290 @nfoen @alexaltair 



=====================================================
Timestamp:  2016-06-02T00:10:52Z
Repository: ConsultingMD/tp
PR #265: [# 118676489] As a CC, so I can remove physician specialties in tp, **add an endpoint to soft delete a physician specialty in tp**

Description:
[Tracker #118676489](https://www.pivotaltracker.com/story/show/118676489)

@timz1290 @nfoen @alexaltair 



=====================================================
Timestamp:  2016-06-01T01:46:52Z
Repository: ConsultingMD/tp
PR #264: [# 118676213] As a CC, so I can update the practice location in tp, **add endpoints to update and delete a practice location in tp**

Description:
[Tracker #118676213](https://www.pivotaltracker.com/story/show/118676213)

@timz1290 @nfoen @alexaltair 



=====================================================
Timestamp:  2016-05-26T23:29:33Z
Repository: ConsultingMD/tp
PR #259: [# 120340301] OV - Select Expert Type - Specialties field not displaying auto-complete list and saving entered value

Description:
[Tracker #120340301](https://www.pivotaltracker.com/story/show/120340301)

@timz1290 



=====================================================
Timestamp:  2016-05-26T02:32:28Z
Repository: ConsultingMD/tp
PR #256: [# 119328775] As an Engineer, so I can easily understand what the specialties and practice location in tp mean, **rename the TP tables**

Description:
[Tracker #119328775](https://www.pivotaltracker.com/story/show/119328775)

@timz1290 @beghbali @nfoen @alexaltair 



=====================================================
Timestamp:  2016-05-24T22:51:45Z
Repository: ConsultingMD/tp
PR #252: [# 119310077] As a DS, so I can export the new fields to the tp tables, **update the import script to include valid values for the new columns added in reverse tp**

Description:
[Tracker #119310077](https://www.pivotaltracker.com/story/show/119310077)

@timz1290 @nfoen @alexaltair 



=====================================================
Timestamp:  2016-05-24T21:50:36Z
Repository: ConsultingMD/tp
PR #251: [# 120234603] Uncomment migrations on TP so a developer can have a fully working environment from `rake db:migrate`

Description:
[Tracker #120234603](https://www.pivotaltracker.com/story/show/120234603)

@007 @alexebird 



=====================================================
Timestamp:  2016-05-23T21:12:05Z
Repository: ConsultingMD/tp
PR #248: [# 119759439] As a developer, so APIs for physicians match Rails conventions for APIs, **the route for accessing a single physician should match the pattern .../physicians/id**

Description:
[Tracker #119759439](https://www.pivotaltracker.com/story/show/119759439)

@timz1290 



=====================================================
Timestamp:  2016-05-21T00:20:48Z
Repository: ConsultingMD/tp
PR #247: [# 119328447] As a CC, so my deletions can be reversed, **implement acts as paranoid in TP**

Description:
[Tracker #119328447](https://www.pivotaltracker.com/story/show/119328447)

@breakpointer @007 



=====================================================
Timestamp:  2016-05-20T23:19:08Z
Repository: ConsultingMD/tp
PR #246: [# 119957203] To improve the performance for the physicians endpoints in TP, **add an index for each of the tables joined with doctor**

Description:
[Tracker #119957203](https://www.pivotaltracker.com/story/show/119957203)

@breakpointer @007 



=====================================================
Timestamp:  2016-05-20T21:25:17Z
Repository: ConsultingMD/tp
PR #245: [# 119328447] As a CC, so my deletions can be reversed, **implement acts as paranoid in TP**

Description:
[Tracker #119328447](https://www.pivotaltracker.com/story/show/119328447)

@007 @jstrater @soonahn @kenberland @breakpointer 

following http://grnds.askbot.com/question/143/what-are-our-conventions-for-migrations/



=====================================================
Timestamp:  2016-05-20T01:43:30Z
Repository: ConsultingMD/tp
PR #244: [# 119759439] As a developer, so APIs for physicians match Rails conventions for APIs, **the route for accessing a single physician should match the pattern .../physicians/id**

Description:
[Tracker #119759439](https://www.pivotaltracker.com/story/show/119759439)

@nfoen @timz1290 @alexaltair 



=====================================================
Timestamp:  2016-05-19T22:57:01Z
Repository: ConsultingMD/tp
PR #243: [# 119957203] To improve the performance for the physicians endpoints in TP, **add an index for each of the tables joined with doctor**

Description:
[Tracker #119957203](https://www.pivotaltracker.com/story/show/119957203)

@nfoen @timz1290 



=====================================================
Timestamp:  2016-05-18T22:26:05Z
Repository: ConsultingMD/tp
PR #239: [# 119328447] As a CC, so my deletions can be reversed, **implement acts as paranoid in TP**

Description:
[Tracker #119328447](https://www.pivotaltracker.com/story/show/119328447)

@nfoen 



=====================================================
Timestamp:  2016-05-18T18:52:25Z
Repository: ConsultingMD/warehouse
PR #171: [# 118772959] As a Data Scientist, so I can store the changes made by CC to TP data, **create the warehouse tables where the TP audits will go**

Description:
[Tracker #118772959](https://www.pivotaltracker.com/story/show/118772959)

@nfoen @RoryO @alexaltair 



=====================================================
Timestamp:  2016-05-18T00:16:45Z
Repository: ConsultingMD/tp
PR #237: [# 119328447] As a CC, so my deletions can be reversed, **implement acts as paranoid in TP**

Description:
[Tracker #119328447](https://www.pivotaltracker.com/story/show/119328447)

@nfoen @RoryO @alexaltair 



=====================================================
Timestamp:  2016-05-16T22:14:47Z
Repository: ConsultingMD/tp
PR #235: [# 118798227] As a CC, so I can uniquely identify a doctor location and speciality, **add unique canonical identifiers for practice_locations and specialties**

Description:
[Tracker #118798227](https://www.pivotaltracker.com/story/show/118798227)

@nfoen @alexaltair 



=====================================================
Timestamp:  2016-05-16T19:31:54Z
Repository: ConsultingMD/tp
PR #234: [# 119244219] As TP, augment the physicians endpoint so it includes the doctor 'baseball' data

Description:
[Tracker #119244219](https://www.pivotaltracker.com/story/show/119244219)

@beghbali @timz1290 

``` json
{
  "npi": "9853147852",
  "group_key": "6546468656515615615165615616515",
  "first_name": "John",
  "last_name": "Doe",
  "gender": "M",
  "graduation_year": 1950,
  "patient_retention": 0.938667,
  "_embedded": {
    "practice_locations": [
      {
        "street": "33 S Rad Road",
        "city": "Socchovia",
        "state": "CA",
        "zip": 10927,
        "phone": "5555555555",
        "confidence": 189.5,
        "latitude": 85.45,
        "longitude": -84.19
      }
    ],
    "specialties": [
      {
        "specialty": "Internal Medicine",
        "is_primary": true
      }
    ],
    "doctor_trainings": [
      {
        "type": "postgraduate",
        "institution": "Drexel Univ Coll Med/Hahnemann",
        "specialty": "Internal Medicine",
        "score_percentile": 0.128706
      }
    ],
    "board_certifications": [
      {
        "certification": "Internal Medicine"
      }
    ],
    "specialty_condition_experiences": [
      {
        "specialty": "Carmela Tremblay",
        "condition_code": "2.11",
        "score_percentile": 0.23
      }
    ]
  },
  "_links": {
    "self": {
      "href": "http://localhost:10003/api/physicians/npi/9853147852"
    }
  }
}
```



=====================================================
Timestamp:  2016-05-12T18:51:18Z
Repository: ConsultingMD/tp
PR #230: [# 119421837] TP searches 500 on UAT

Description:
TP searches 500 on UAT

[Tracker #119421837](https://www.pivotaltracker.com/story/show/119421837)

@007 



=====================================================
Timestamp:  2016-05-12T18:46:20Z
Repository: ConsultingMD/service
PR #67: [# 119421837] TP searches 500 on UAT

Description:
TP searches 500 on UAT

[Tracker #119421837](https://www.pivotaltracker.com/story/show/119421837)

@007 



=====================================================
Timestamp:  2016-05-11T22:44:04Z
Repository: ConsultingMD/jubilee
PR #8: Remove rake from config file in Twilight

Description:
run command did not work, was getting this weird error:

```
 twilight-deploy: `deploy:update' is only run for servers matching {}, but no servers matched`
```

fix is to only remove the `require 'rake'` line
[Tracker #119336521](https://www.pivotaltracker.com/story/show/119336521)
@glacier 



=====================================================
Timestamp:  2016-05-11T21:48:39Z
Repository: ConsultingMD/tp
PR #229: [# 119254275] As a patient, so I don't wait for my claims based records for more than 400ms, **add an endpoint to TP to do one query for npi list**

Description:
[Tracker #119254275](https://www.pivotaltracker.com/story/show/119254275)
@beghbali 
Corresponding Stone PR: https://github.com/ConsultingMD/stone/pull/97



=====================================================
Timestamp:  2016-05-11T21:48:33Z
Repository: ConsultingMD/stone
PR #97: [# 119254275] As a patient, so I don't wait for my claims based records for more than 400ms, **add an endpoint to TP to do one query for npi list**

Description:
[Tracker #119254275](https://www.pivotaltracker.com/story/show/119254275)

@beghbali 

Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/229



=====================================================
Timestamp:  2016-05-09T19:01:32Z
Repository: ConsultingMD/jubilee
PR #6: [# #117738937] Make twilight shine-able so that we can deploy our spark applications

Description:
[Tracker #117738937](https://www.pivotaltracker.com/story/show/117738937)

Corresponding Twinkleshine PR: https://github.com/ConsultingMD/twinkleshine/pull/48

@cobbr2 @007 



=====================================================
Timestamp:  2016-05-09T19:01:22Z
Repository: ConsultingMD/twinkleshine
PR #48: [# #117738937] Make twilight shine-able so that we can deploy our spark applications

Description:
[Tracker #117738937](https://www.pivotaltracker.com/story/show/117738937)

Corresponding Twilight PR: https://github.com/ConsultingMD/twilight/pull/6

@cobbr2 @007 



=====================================================
Timestamp:  2016-05-05T22:43:47Z
Repository: ConsultingMD/stone
PR #93: [# 117946667] Use our lib/pid_generator in the Patient model

Description:
[Tracker #117946667](https://www.pivotaltracker.com/story/show/117946667)

@cobbr2 



=====================================================
Timestamp:  2016-05-05T00:57:58Z
Repository: ConsultingMD/stone
PR #92: [# 117585485] As a patient, so my claims can be used to inform my care, **`kate` should provide a drop-in replacement for the `stone` location lookup service, in which a `pid` retrieves a list of provider locations with addresses.**

Description:
[Tracker #117585485](https://www.pivotaltracker.com/story/show/117585485)

This also includes [Tracker #118774329](https://www.pivotaltracker.com/story/show/118774329)
@glacier @cobbr2 @pfarrell @wenever 

Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/225

**Given following data on dynamo:**

``` json
{
  "locations": [
    {
      "city": "Delbertmouth",
      "customer_name": "Raynor and Sons",
      "end_date": "2016-05-02",
      "institution_name": "Brown-Quitzon",
      "npi": "8705166945",
      "phone": "1659942604",
      "pid": "a9614791aeaaa4109bdc757a88245e294ce95d365c7a36030a3629c7d4a03517",
      "provider_name": "Elise Daniel",
      "score": "9",
      "specialty": "Breast Surgery",
      "start_date": "2016-04-11",
      "state": "CO",
      "street": "51526 Gene Forges",
      "zip": "38005"
    },
    {
      "city": "East Winfieldfort",
      "customer_name": "Botsford, Morar and Rice",
      "end_date": "2016-04-24",
      "institution_name": "Hermiston-Nikolaus",
      "npi": "9472047269",
      "phone": "2098785630",
      "pid": "a9614791aeaaa4109bdc757a88245e294ce95d365c7a36030a3629c7d4a03517",
      "provider_name": "Cornell Price",
      "score": "3",
      "specialty": "General Gynecology",
      "start_date": "2016-04-10",
      "state": "OR",
      "street": "10814 Marquise Street",
      "zip": "43343-2564"
    },
    {
      "city": "Tannerburgh",
      "customer_name": "Gusikowski-Kohler",
      "end_date": "2016-04-27",
      "institution_name": "Pagac, Moore and O'Hara",
      "npi": "5148325625",
      "phone": "8934540929",
      "pid": "a9614791aeaaa4109bdc757a88245e294ce95d365c7a36030a3629c7d4a03517",
      "provider_name": "Eva Bayer V",
      "score": "0",
      "specialty": "General Nuclear Medicine",
      "start_date": "2016-04-10",
      "state": "WA",
      "street": "742 Lottie Village",
      "zip": "83406"
    },
    {
      "city": "North Jedediah",
      "customer_name": "Kuhlman-Stamm",
      "end_date": "2016-04-23",
      "institution_name": "Gaylord-Heathcote",
      "npi": "5215181972",
      "phone": "8763568233",
      "pid": "a9614791aeaaa4109bdc757a88245e294ce95d365c7a36030a3629c7d4a03517",
      "provider_name": "Lindsey Carter",
      "score": "5",
      "specialty": "General Gynecology",
      "start_date": "2016-04-14",
      "state": "TX",
      "street": "6979 Millie Burgs",
      "zip": "24917-6357"
    },
    {
      "city": "Kemmerstad",
      "customer_name": "Howell-Dibbert",
      "end_date": "2016-05-04",
      "institution_name": "Murphy Group",
      "npi": "4909889679",
      "phone": "5517191119",
      "pid": "a9614791aeaaa4109bdc757a88245e294ce95d365c7a36030a3629c7d4a03517",
      "provider_name": "Donato Weber",
      "score": "9",
      "specialty": "Dermatopathology",
      "start_date": "2016-04-16",
      "state": "MT",
      "street": "82907 Joaquin Station",
      "zip": "45430-9271"
    },
    {
      "city": "North Oma",
      "customer_name": "Klein Group",
      "end_date": "2016-04-22",
      "institution_name": "Aufderhar Inc",
      "npi": "7375260935",
      "phone": "8060228096",
      "pid": "a9614791aeaaa4109bdc757a88245e294ce95d365c7a36030a3629c7d4a03517",
      "provider_name": "Mrs. Rylan Nader",
      "score": "6",
      "specialty": "Spinal Cord Injury Medicine",
      "start_date": "2016-04-08",
      "state": "NY",
      "street": "857 Israel Streets",
      "zip": "74844-2719"
    },
    {
      "city": "Port Mathiastown",
      "customer_name": "Kautzer Inc",
      "end_date": "2016-04-29",
      "institution_name": "Ondricka, Hudson and Kreiger",
      "npi": "3916326310",
      "phone": "4155947868",
      "pid": "a9614791aeaaa4109bdc757a88245e294ce95d365c7a36030a3629c7d4a03517",
      "provider_name": "Shany Ritchie",
      "score": "2",
      "specialty": "Cosmetic Surgery",
      "start_date": "2016-04-07",
      "state": "FL",
      "street": "376 Linnie Crest",
      "zip": "36841-2256"
    }
  ],
  "pid": "a9614791aeaaa4109bdc757a88245e294ce95d365c7a36030a3629c7d4a03517",
  "version": "1"
}
```

**What lives on tp for npi=_8705166945_: (the first element)**

``` json
{
  "npi": "8705166945",
  "group_key": "74819904560364611591130179071551199061",
  "first_name": "Lora",
  "last_name": "Klocko",
  "gender": "F",
  "_embedded": {
    "practice_locations": [
      {
        "street": "327 Jacobi Ramp",
        "city": "New Zetta",
        "state": "Louisiana",
        "zip": 66950,
        "phone": "7922869301",
        "confidence": 83
      }
    ],
    "specialties": [
      {
        "specialty": "Miss Elody Zemlak",
        "is_primary": true
      },
      {
        "specialty": "Elva Brakus",
        "is_primary": false
      }
    ]
  },
  "_links": {
    "self": {
      "href": "http://localhost:10003/api/physicians/npi/8705166945"
    }
  }
}

```

**Doing:**

``` bash
curl -H 'Content-Type: application/json' -H 'Accept: application/json' -H 'X-Stone-Secret: foobarbaz' http://localhost:10008/api/v1/a9614791aeaaa4109bdc757a88245e294ce95d365c7a36030a3629c7d4a03517/records_locations_dynamo
```

**Returns back the dynamo data merged with the tp data: (verify with the first element)**
**Request took `390ms`**

``` json
[
  {
    "pid": "a9614791aeaaa4109bdc757a88245e294ce95d365c7a36030a3629c7d4a03517",
    "npi": "8705166945",
    "provider_name": "Elise Daniel",
    "institution_name": "Brown-Quitzon",
    "customer_name": "Raynor and Sons",
    "start_date": "2016-04-11",
    "end_date": "2016-05-02",
    "score": "9",
    "street": "327 Jacobi Ramp",
    "city": "New Zetta",
    "state": "Louisiana",
    "zip": 66950,
    "specialty": "Miss Elody Zemlak"
  },
  {
    "pid": "a9614791aeaaa4109bdc757a88245e294ce95d365c7a36030a3629c7d4a03517",
    "npi": "9472047269",
    "provider_name": "Cornell Price",
    "institution_name": "Hermiston-Nikolaus",
    "customer_name": "Botsford, Morar and Rice",
    "start_date": "2016-04-10",
    "end_date": "2016-04-24",
    "score": "3",
    "street": "5316 Leuschke Well",
    "city": "Esperanzahaven",
    "state": "Connecticut",
    "zip": 18976,
    "specialty": "Jerry Wisoky"
  },
  {
    "pid": "a9614791aeaaa4109bdc757a88245e294ce95d365c7a36030a3629c7d4a03517",
    "npi": "5148325625",
    "provider_name": "Eva Bayer V",
    "institution_name": "Pagac, Moore and O'Hara",
    "customer_name": "Gusikowski-Kohler",
    "start_date": "2016-04-10",
    "end_date": "2016-04-27",
    "score": "0",
    "street": "74680 Oma Rue",
    "city": "Yasminside",
    "state": "Iowa",
    "zip": 95956,
    "specialty": "Mae Mayert"
  },
  {
    "pid": "a9614791aeaaa4109bdc757a88245e294ce95d365c7a36030a3629c7d4a03517",
    "npi": "5215181972",
    "provider_name": "Lindsey Carter",
    "institution_name": "Gaylord-Heathcote",
    "customer_name": "Kuhlman-Stamm",
    "start_date": "2016-04-14",
    "end_date": "2016-04-23",
    "score": "5",
    "street": "321 Conroy Plain",
    "city": "Vallieland",
    "state": "Pennsylvania",
    "zip": 25932,
    "specialty": "Wilfrid Mayer"
  },
  {
    "pid": "a9614791aeaaa4109bdc757a88245e294ce95d365c7a36030a3629c7d4a03517",
    "npi": "4909889679",
    "provider_name": "Donato Weber",
    "institution_name": "Murphy Group",
    "customer_name": "Howell-Dibbert",
    "start_date": "2016-04-16",
    "end_date": "2016-05-04",
    "score": "9",
    "street": "27697 Wava Ford",
    "city": "North Noble",
    "state": "Tennessee",
    "zip": 86455,
    "specialty": "Miss Shane Harber"
  },
  {
    "pid": "a9614791aeaaa4109bdc757a88245e294ce95d365c7a36030a3629c7d4a03517",
    "npi": "7375260935",
    "provider_name": "Mrs. Rylan Nader",
    "institution_name": "Aufderhar Inc",
    "customer_name": "Klein Group",
    "start_date": "2016-04-08",
    "end_date": "2016-04-22",
    "score": "6",
    "street": "652 Yundt Row",
    "city": "Bergemouth",
    "state": "Georgia",
    "zip": 13131,
    "specialty": "Macy Hartmann"
  },
  {
    "pid": "a9614791aeaaa4109bdc757a88245e294ce95d365c7a36030a3629c7d4a03517",
    "npi": "3916326310",
    "provider_name": "Shany Ritchie",
    "institution_name": "Ondricka, Hudson and Kreiger",
    "customer_name": "Kautzer Inc",
    "start_date": "2016-04-07",
    "end_date": "2016-04-29",
    "score": "2",
    "street": "441 Mosciski Harbor",
    "city": "Port Otisfort",
    "state": "Mississippi",
    "zip": 11614,
    "specialty": "Raegan Hudson"
  }
]
```



=====================================================
Timestamp:  2016-05-05T00:57:48Z
Repository: ConsultingMD/tp
PR #225: [# 117585485] As a patient, so my claims can be used to inform my care, **`kate` should provide a drop-in replacement for the `stone` location lookup service, in which a `pid` retrieves a list of provider locations with addresses.**

Description:
[Tracker #117585485](https://www.pivotaltracker.com/story/show/117585485)

@glacier @pfarrell @cobbr2 @wenever 

Corresponding Stone PR: https://github.com/ConsultingMD/stone/pull/92



=====================================================
Timestamp:  2016-05-03T18:37:40Z
Repository: ConsultingMD/stone
PR #89: [# 117953743] As a patient, so that I have fast access to my record locations, **implement querying record locations from DynamoDB**  (change from MySQL ActiveRecord)

Description:
[Tracker #117953743](https://www.pivotaltracker.com/story/show/117953743)

@glacier @wenever @cobbr2 @pfarrell 



=====================================================
Timestamp:  2016-04-30T01:56:12Z
Repository: ConsultingMD/tp
PR #218: [# 118063721] Get primary specialties for each doctor exported from GR_master to TP so that the primary specialty can be surfaced in the doctor records locations.

Description:
[Tracker #118063721](https://www.pivotaltracker.com/story/show/118063721)

@timz1290 @glacier 

``` bash
curl -H "Accept: application/vnd.grnds-v1+json" -H "X-Tp-Secret: foobarbaz" http://localhost:10003/api/physicians/npi/3230640018
```

```
{
  "npi": "3230640018",
  "group_key": "99246385944244358010751858706717282394",
  "first_name": "Malvina",
  "last_name": "Stehr",
  "gender": "F",
  "_embedded": {
    "practice_locations": [
      {
        "addr_street": "494 Kilback Vista",
        "addr_city": "Oscarmouth",
        "addr_state": "Arizona",
        "zip_code": 63080,
        "phone_1": "6968091854",
        "confidence": 27
      },
      {
        "addr_street": "1923 Durgan Streets",
        "addr_city": "Lake Odessashire",
        "addr_state": "Texas",
        "zip_code": 54794,
        "phone_1": "8736086026",
        "confidence": 12
      }
    ],
    "specialties": [
      {
        "name": "specialty 1",
        "is_primary": true
      },
      {
        "name": "specialty 2",
        "is_primary": false
      }
    ]
  },
  "_links": {
    "self": {
      "href": "http://localhost:10003/api/physicians/npi/3230640018"
    }
  }
}
```



=====================================================
Timestamp:  2016-04-29T22:49:40Z
Repository: ConsultingMD/tp
PR #217: [# 118444301] As a record collector, so that I can have a more complete set of doctor provider locations, **implement a batch end point for looking up multiple NPIs**

Description:
[Tracker #118444301](https://www.pivotaltracker.com/story/show/118444301)

@timz1290 @beghbali 

**Making a batch request:**
_POST /batch_
_Content-Type: application/json_

``` json
{
  "ops": [
    {"method": "get",    "url": "/foo"},
    {"method": "post",   "url": "/bar/",  "params": {"baz": 123}},
  ],
  "sequential": true
}
```

**Example**

``` bash
echo '{"ops":[{"method":"get","url":"/api/physicians/npi/7945031194","headers":{"Accept":"application/vnd.grnds-v1+json","X-Tp-Secret":"foobarfoobaz"}},{"method":"get","url":"/api/physicians/group_key/69149415046659090469721219602220977089","headers":{"Accept":"application/vnd.grnds-v1+json","X-Tp-Secret":"foobarfoobaz"}}],"sequential":true}' | curl -H "Content-Type: application/json" -X POST -d @- http://localhost:10003/batch
```

``` json
{
  "results": [
    {
      "body": "{\"npi\":\"7945031194\",\"group_key\":\"69149415046659090469721219602220977089\",\"first_name\":\"Scot\",\"last_name\":\"Leuschke\",\"gender\":\"M\",\"_embedded\":{\"practice_locations\":[{\"addr_street\":\"191 Kertzmann Pass\",\"addr_city\":\"Kosschester\",\"addr_state\":\"California\",\"zip_code\":67879,\"phone_1\":\"6489543862\",\"confidence\":52.0},{\"addr_street\":\"261 Roberts Glens\",\"addr_city\":\"East Brooks\",\"addr_state\":\"Maine\",\"zip_code\":61356,\"phone_1\":\"4446726712\",\"confidence\":16.0}],\"specialties\":[{\"name\":\"specialty 1\"},{\"name\":\"specialty 2\"}]},\"_links\":{\"self\":{\"href\":\"http://localhost:10003/api/physicians/npi/7945031194\"}}}",
      "headers": {
        "Content-Type": "application/json",
        "Content-Length": "598"
      },
      "status": 200
    },
    {
      "body": "{\"npi\":\"7945031194\",\"group_key\":\"69149415046659090469721219602220977089\",\"first_name\":\"Scot\",\"last_name\":\"Leuschke\",\"gender\":\"M\",\"_embedded\":{\"practice_locations\":[{\"addr_street\":\"191 Kertzmann Pass\",\"addr_city\":\"Kosschester\",\"addr_state\":\"California\",\"zip_code\":67879,\"phone_1\":\"6489543862\",\"confidence\":52.0},{\"addr_street\":\"261 Roberts Glens\",\"addr_city\":\"East Brooks\",\"addr_state\":\"Maine\",\"zip_code\":61356,\"phone_1\":\"4446726712\",\"confidence\":16.0}],\"specialties\":[{\"name\":\"specialty 1\"},{\"name\":\"specialty 2\"}]},\"_links\":{\"self\":{\"href\":\"http://localhost:10003/api/physicians/group_key/69149415046659090469721219602220977089\"}}}",
      "headers": {
        "Content-Type": "application/json",
        "Content-Length": "632"
      },
      "status": 200
    }
  ]
}
```



=====================================================
Timestamp:  2016-04-28T18:07:33Z
Repository: ConsultingMD/tp
PR #216: [# 117590531] As a record collector, so that I can have a more complete set of doctor provider locations, **implement an API endpoint in TP to return doctor provider location when given an NPI**

Description:
[Tracker #117590531](https://www.pivotaltracker.com/story/show/117590531)

@timz1290 @beghbali @pfarrell @wenever 

`curl -H 'Accept: application/vnd.grnds-v1' http://localhost:10003/api/physicians/group_key/69149415046659090469721219602220977089` **or** `curl -H 'Accept: application/vnd.grnds-v1' http://localhost:10003/api/physicians/npi/7945031194` **returns**

``` json
{
  "npi": "7945031194",
  "group_key": "69149415046659090469721219602220977089",
  "first_name": "Scot",
  "last_name": "Leuschke",
  "gender": "M",
  "_embedded": {
    "practice_locations": [
      {
        "addr_street": "191 Kertzmann Pass",
        "addr_city": "Kosschester",
        "addr_state": "California",
        "zip_code": 67879,
        "phone_1": "6489543862",
        "confidence": 52
      },
      {
        "addr_street": "261 Roberts Glens",
        "addr_city": "East Brooks",
        "addr_state": "Maine",
        "zip_code": 61356,
        "phone_1": "4446726712",
        "confidence": 16
      }
    ],
    "specialties": [
      {
        "name": "specialty 1"
      },
      {
        "name": "specialty 2"
      }
    ]
  },
  "_links": {
    "self": {
      "href": "http://localhost:10003/api/physicians/group_key/69149415046659090469721219602220977089"
    }
  }
}

```



=====================================================
Timestamp:  2016-04-26T00:09:38Z
Repository: ConsultingMD/stone
PR #84: [# 118324453] Change the aws_encryption_key in Stone for production to be nil and move the current key to config/development 

Description:
[Tracker #118324453](https://www.pivotaltracker.com/story/show/118324453)

@glacier @wenever 



=====================================================
Timestamp:  2016-04-21T23:39:04Z
Repository: ConsultingMD/tp
PR #208: [# 117590531] As a record collector, so that I can have a more complete set of doctor provider locations, **implement an API endpoint in TP to return doctor provider locations when given a list of NPIs**

Description:
[Tracker #117590531](https://www.pivotaltracker.com/story/show/117590531)

@beghbali @timz1290 @glacier @wenever @pfarrell 

This endpoint will use the [accept header for versioning](https://github.com/ruby-grape/grape#header), this way we don't need to specify the version in the path (which is pretty cool).

@beghbali [this link you sent](http://programmers.stackexchange.com/questions/306535/resource-representations-and-rest-api-documentation-tools) was pretty good but unfortunately [grape doesn't yet know how to parse](https://github.com/ruby-grape/grape/blob/5122b9ad10b5530be533daa614f9434b4ca04018/lib/grape/middleware/versioner/header.rb#L99) the extra arguments to specify which type of content to request. If we're to go with that approach we'd need to do it manually on our end, or monkey patch it

Example: 
`curl -H 'Accept: application/vnd.grnds-v1+json' http://localhost:10003/api/physicians?npi=7945031194`

``` json
{
  "npi": "7945031194",
  "first_name": "Scot",
  "last_name": "Leuschke",
  "addr_street": "191 Kertzmann Pass",
  "addr_city": "Kosschester",
  "addr_state": "California",
  "zip_code": 67879,
  "phone_1": "6489543862",
  "specialties": [
    "specialty 1",
     "specialty 2"
  ]
}
```



=====================================================
Timestamp:  2016-04-20T00:23:26Z
Repository: ConsultingMD/tp
PR #206: [# 117967307] Modify in script/sophia_dump.sh#_parse_connection_args  to correctly parse connection args

Description:
[Tracker #117967307](https://www.pivotaltracker.com/story/show/117967307)

@timz1290 



=====================================================
Timestamp:  2016-04-19T19:00:09Z
Repository: ConsultingMD/jarvis
PR #5354: [# 117635077] As physician services, so I can onboard a experts at a new partner institution, modify script/import_doctors.rb to create Users and DoctorInfos for the experts.

Description:
[Tracker #117635077](https://www.pivotaltracker.com/story/show/117635077)

@timz1290 



=====================================================
Timestamp:  2016-04-16T03:34:33Z
Repository: ConsultingMD/jarvis
PR #5344: [# 117635077] As physician services, so I can onboard a experts at a new partner institution, modify script/import_doctors.rb to create Users and DoctorInfos for the experts.

Description:
[Tracker #117635077](https://www.pivotaltracker.com/story/show/117635077)

@timz1290 @nfoen 



=====================================================
Timestamp:  2016-04-15T01:36:56Z
Repository: ConsultingMD/jarvis
PR #5332: [# 117569345] Creating a new user from a Covered record causes Personal Information fields to lock if form is invalid

Description:
[Tracker #117569345](https://www.pivotaltracker.com/story/show/117569345)

@skylarcook @suwyn 



=====================================================
Timestamp:  2016-04-13T23:45:56Z
Repository: ConsultingMD/rogers
PR #114: [# 116794797] As Rogers, modify DataSource ** so it can import both ftp/http sources and s3 sources **

Description:
[Tracker #116794797](https://www.pivotaltracker.com/story/show/116794797)

@timz1290 @nfoen 

Tim and I did an end to end test of this (IT WORKS).

I'm not exactly sure how to (or if we need to for that matter) test these aws operations, any thought on this would be appreciated.



=====================================================
Timestamp:  2016-04-08T21:01:11Z
Repository: ConsultingMD/rogers
PR #111: [# 116736973] As Rogers, so I can have a more generic structure, ** rename ftp_sources to data_sources **

Description:
[Tracker #116736973](https://www.pivotaltracker.com/story/show/116736973)

@soonahn @timz1290 



=====================================================
Timestamp:  2016-04-07T22:39:08Z
Repository: ConsultingMD/jarvis
PR #5270: [# 116662839] As Jarvis, so I can integrate tp imports into the pipeline, ** modify DataSource **

Description:
[Tracker #116662839](https://www.pivotaltracker.com/story/show/116662839)

@timz1290 



=====================================================
Timestamp:  2016-04-06T22:00:26Z
Repository: ConsultingMD/tp
PR #191: [# 117023505] Better seed data for TP

Description:
[Tracker #117023505](https://www.pivotaltracker.com/story/show/117023505)

@timz1290 

![image](https://cloud.githubusercontent.com/assets/1312796/14334291/4381ac20-fc08-11e5-80dc-e98f6e76e192.png)



=====================================================
Timestamp:  2016-04-06T00:28:44Z
Repository: ConsultingMD/tp
PR #187: [# 116578415] Configure TP so it does not start if zuul is not keyed properly

Description:
[Tracker #116578415](https://www.pivotaltracker.com/story/show/116578415)

@RoryO 



=====================================================
Timestamp:  2016-04-05T23:18:50Z
Repository: ConsultingMD/tp
PR #186: [# 116578415] Configure TP so it does not start if zuul is not keyed properly

Description:
[Tracker #116578415](https://www.pivotaltracker.com/story/show/116578415)

@timz1290 



=====================================================
Timestamp:  2016-04-04T22:32:38Z
Repository: ConsultingMD/tp
PR #183: [# 116933045] As a CC, so I have provider network information for SISC, map the Anthem Blue Cross provider directories to a new entry SISC in the customer drop down.

Description:
[Tracker #116933045](https://www.pivotaltracker.com/story/show/116933045)

@beghbali 



=====================================================
Timestamp:  2016-04-01T21:58:18Z
Repository: ConsultingMD/jarvis
PR #5241: [# 116720513] Autocomplete lost padding between options

Description:
[Tracker #116720513](https://www.pivotaltracker.com/story/show/116720513)

@timz1290 

![image](https://cloud.githubusercontent.com/assets/1312796/14218221/b10ca89e-f807-11e5-95c1-86626137dde3.png)



=====================================================
Timestamp:  2016-04-01T19:44:04Z
Repository: ConsultingMD/tp
PR #182: [# 116720513] Autocomplete lost padding between options

Description:
[Tracker #116720513](https://www.pivotaltracker.com/story/show/116720513)

@timz1290 

![image](https://cloud.githubusercontent.com/assets/1312796/14218171/68c9dc46-f807-11e5-8a5b-fe5578b4a952.png)



=====================================================
Timestamp:  2016-04-01T18:50:55Z
Repository: ConsultingMD/jarvis
PR #5237: [# 116728883] Getting 502 timeout when viewing archived cases for expert with 30  archived cases

Description:
[Tracker #116728883](https://www.pivotaltracker.com/story/show/116728883)

@RoryO 



=====================================================
Timestamp:  2016-03-31T20:01:04Z
Repository: ConsultingMD/metal
PR #175: [# 115902601] UAT imports break the read replica

Description:
[Tracker #115902601](https://www.pivotaltracker.com/story/show/115902601)

@007 @timz1290 



=====================================================
Timestamp:  2016-03-29T23:29:21Z
Repository: ConsultingMD/tp
PR #175: [# 116315705] Duplicate results are shown when searching by institution 

Description:
[Tracker #116315705](https://www.pivotaltracker.com/story/show/116315705)

@timz1290 



=====================================================
Timestamp:  2016-03-29T20:59:06Z
Repository: ConsultingMD/jarvis
PR #5209: [# 116315543] Fields in Expert Type accordion do not appear as disabled as they should

Description:
[Tracker #116315543](https://www.pivotaltracker.com/story/show/116315543)

@timz1290 



=====================================================
Timestamp:  2016-03-29T00:18:09Z
Repository: ConsultingMD/jarvis
PR #5201: [# 115005549] Update case exports so it includes the new ** ExpertType Accordion fields from Stark **

Description:
[Tracker #115005549](https://www.pivotaltracker.com/story/show/115005549)

Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/152
Looker PR: https://github.com/ConsultingMD/looker-master/pull/151

@RoryO @timz1290 



=====================================================
Timestamp:  2016-03-29T00:17:55Z
Repository: ConsultingMD/warehouse
PR #152: [# 115005549] Update case exports so it includes the new ** ExpertType Accordion fields from Stark **

Description:
[Tracker #115005549](https://www.pivotaltracker.com/story/show/115005549)

Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/5201
Looker PR: https://github.com/ConsultingMD/looker-master/pull/151

@RoryO @timz1290 



=====================================================
Timestamp:  2016-03-29T00:17:40Z
Repository: ConsultingMD/looker-master
PR #151: [# 115005549] Update case exports so it includes the new ** ExpertType Accordion fields from Stark **

Description:
[Tracker #115005549](https://www.pivotaltracker.com/story/show/115005549)

Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/5201
Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/152

@RoryO @timz1290 



=====================================================
Timestamp:  2016-03-28T23:40:57Z
Repository: richddr/looker-master
PR #1: add new expert_accordion fields to cases view: doctor_type_[condition

Description:
, procedure, specialties]



=====================================================
Timestamp:  2016-03-17T20:35:16Z
Repository: ConsultingMD/jarvis
PR #5124: [# 114340573] Remove n 1 queries from Jarvis's /api/v1/cases/archived_cases so that it does not timeout (from Zendesk #10329) #4995

Description:
[Tracker #114340573](https://www.pivotaltracker.com/story/show/114340573)

@umer98 



=====================================================
Timestamp:  2016-03-17T01:55:37Z
Repository: ConsultingMD/jarvis
PR #5120: [# 114107983] As an SP, so that I can enter a condition for a CC to search TP by, ** allow me to enter the patients Condition in a structured text input field in the Expert Type accordion. **

Description:
[Tracker #114107983](https://www.pivotaltracker.com/story/show/114107983)

@timz1290 @kquet @beghbali @suwyn 

mimicking same look and feel as tp counterpart



=====================================================
Timestamp:  2016-03-16T17:54:51Z
Repository: ConsultingMD/jarvis
PR #5108: Revert [# 115790277]

Description:
Reverts ConsultingMD/ConsultingMD#5107

@andrewpurcell 
I hit the merge button too early on this one, needs to add a condition to check if existing values are nil.



=====================================================
Timestamp:  2016-03-12T01:34:07Z
Repository: ConsultingMD/jarvis
PR #5096: [# 114999183] As an SP, so I understand where to place notes for expert type selection, **make visual changes to the ExpertType accordion **

Description:
[Tracker #114999183](https://www.pivotaltracker.com/story/show/114999183)

![image](https://cloud.githubusercontent.com/assets/1312796/13719484/2e60ded6-e7ab-11e5-8e4a-c343653ffbf7.png)

@timz1290 @kquet 



=====================================================
Timestamp:  2016-03-11T23:01:04Z
Repository: ConsultingMD/tp
PR #153: [# 114367543] As TP, so I can make ajax request to my autocomplete endpoint from stark, ** enable CORs for all grape apis **

Description:
[Tracker #114367543](https://www.pivotaltracker.com/story/show/114367543)

@timz1290 @kenberland 



=====================================================
Timestamp:  2016-03-08T23:03:22Z
Repository: ConsultingMD/tp
PR #147: [# 114133599] As TP, modify the  ** import rake task ** so we can import CPC and CCS data from s3

Description:
[Tracker #114133599](https://www.pivotaltracker.com/story/show/114133599)

This also includes https://www.pivotaltracker.com/story/show/114275891
@beghbali @timz1290 @kquet 

DO NOT MERGE YET. STILL NEED TO TEST WITH THE CORRECT DATA (AND ALSO OTHER ENVIRONMENTS) AND VERIFY IT WORKS



=====================================================
Timestamp:  2016-03-08T06:28:41Z
Repository: ConsultingMD/jarvis
PR #5063: [# 114834707] The Brizo block account-creation-form-header should include the subtitle.

Description:
[Tracker #114834707](https://www.pivotaltracker.com/story/show/114834707)
@skylarcook 
![image](https://cloud.githubusercontent.com/assets/1312796/13593848/ea213526-e4b3-11e5-88b1-94efd4a94644.png)



=====================================================
Timestamp:  2016-03-03T19:43:16Z
Repository: ConsultingMD/jarvis
PR #5031: [# 110543036] As a SP so that I don't get errors trying to retrieve original opinion, decouple original opinion from audits

Description:
[Tracker #110543036](https://www.pivotaltracker.com/story/show/110543036)

Add guard to cover edge case where audited_changes is a String as a result of a truncation when saving the original value. (bigger than 65533 bytes). Refactor script: add more feedback to the output, log salvaged cases, allow script to be re-runnable.

@pfarrell 



=====================================================
Timestamp:  2016-03-02T03:07:29Z
Repository: ConsultingMD/jarvis
PR #5015: [# 114834707] The Brizo block account-creation-form-header should include the subtitle.

Description:
[Tracker #114834707](https://www.pivotaltracker.com/story/show/114834707)

@skylarcook 



=====================================================
Timestamp:  2016-02-26T23:48:58Z
Repository: ConsultingMD/tp
PR #135: [# 114259075] As TP, so I have a place to store CPT doctor probabilities, **create a new model CptDoctorProbability and table cpt_doctor_probabilities**

Description:
[Tracker #114259075](https://www.pivotaltracker.com/story/show/114259075)

@timz1290 



=====================================================
Timestamp:  2016-02-26T23:41:38Z
Repository: ConsultingMD/tp
PR #134: [# 114258273]  As TP, so I have a place to store CPT, **create a new model CptCode and table cpt_codes**

Description:
[Tracker #114258273](https://www.pivotaltracker.com/story/show/114258273)

@timz1290 



=====================================================
Timestamp:  2016-02-26T23:35:24Z
Repository: ConsultingMD/tp
PR #133: [# 114124109] As TP, so I have a place to store CCS doctor probabilities, **create a new model CcsDoctorProbability and table CcsDoctorProbabilities**

Description:
[Tracker #114124109](https://www.pivotaltracker.com/story/show/114124109)

@timz1290 



=====================================================
Timestamp:  2016-02-26T23:29:54Z
Repository: ConsultingMD/tp
PR #132: [# 114124439]  As TP, so I have a place to store CCS conditions, **create a new model CcsCode and table ccs_codes**

Description:
[Tracker #114124439](https://www.pivotaltracker.com/story/show/114124439)

@timz1290 



=====================================================
Timestamp:  2016-02-26T23:08:14Z
Repository: ConsultingMD/jarvis
PR #4995: [# 114340573] Remove n 1 queries from Jarvis's /api/v1/cases/archived_cases so that it does not timeout (from Zendesk #10329)

Description:
[Tracker #114340573](https://www.pivotaltracker.com/story/show/114340573)
 Banyan PR: https://github.com/ConsultingMD/banyan/pull/278

Removes n+1 queries in api/cases_controller#archived_cases
Decoupled archived cases from case, cases model and representers. Created archived_case representer, archived_cases_representer. These new representers will be lighter as it won't load stuff it doesn't need.

@timz1290 



=====================================================
Timestamp:  2016-02-26T22:24:32Z
Repository: ConsultingMD/banyan
PR #278: [# 114340573] Remove n 1 queries from Jarvis's /api/v1/cases/archived_cases so that it does not timeout (from Zendesk #10329)

Description:
[Tracker #114340573](https://www.pivotaltracker.com/story/show/114340573)

@timz1290 

Decoupled archived cases from case, cases model and representers. Created archived_case which inherits from the base_case model, archived_case representer, archived_cases, archived_cases_representer. These new representers will be lighter as it won't load stuff it doesn't need.

Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/4995



=====================================================
Timestamp:  2016-02-26T02:46:14Z
Repository: ConsultingMD/tp
PR #131: [# 114068139] As a CC, so NPI search is more explicit, ** break the NPI search condition into its own form **

Description:
[Tracker #114068139](https://www.pivotaltracker.com/story/show/114068139)

@timz1290 

![image](https://cloud.githubusercontent.com/assets/1312796/13341726/0a1ca562-dbf0-11e5-9e51-765522c2d4e9.png)



=====================================================
Timestamp:  2016-02-25T03:19:40Z
Repository: ConsultingMD/tp
PR #129: [# 114069077] As a CC, so that it is easier to search in TP, **reorder the search text input fields and remove the extra search buttons.**

Description:
[Tracker #114069077](https://www.pivotaltracker.com/story/show/114069077)

@timz1290 

![image](https://cloud.githubusercontent.com/assets/1312796/13308770/368f4174-db2b-11e5-8bac-1c42c691f3be.png)



=====================================================
Timestamp:  2016-02-24T22:37:27Z
Repository: ConsultingMD/tp
PR #128: [# 114252823] As a CC, so that I know if I entered an invalid NPI, ** add validation on NPI **

Description:
[Tracker #114252823](https://www.pivotaltracker.com/story/show/114252823)

@timz1290 



=====================================================
Timestamp:  2016-02-24T07:53:12Z
Repository: ConsultingMD/tp
PR #126: [# 114252823] As a CC, so that I know if I entered an invalid NPI, ** add validation on NPI **

Description:
[Tracker #114252823](https://www.pivotaltracker.com/story/show/114252823)

@timz1290 



=====================================================
Timestamp:  2016-02-24T05:53:57Z
Repository: ConsultingMD/tp
PR #125: [# 114124701] As a CC, so I'm aware that the condition field is changing, **remove the condition field from TP search**

Description:
[Tracker #114124701](https://www.pivotaltracker.com/story/show/114124701)

@timz1290 



=====================================================
Timestamp:  2016-02-24T02:28:31Z
Repository: ConsultingMD/tp
PR #124: [# 114252823] As a CC, so that I know if I entered an invalid NPI, ** add validation on NPI **

Description:
[Tracker #114252823](https://www.pivotaltracker.com/story/show/114252823)

@timz1290 



=====================================================
Timestamp:  2016-02-24T01:36:22Z
Repository: ConsultingMD/tp
PR #123: [# 114068049] As a CC, so that I can properly search using the specificity model, **allow only 1 specialty to be entered for a search.**

Description:
[Tracker #114068049](https://www.pivotaltracker.com/story/show/114068049)

@timz1290 



=====================================================
Timestamp:  2016-02-24T00:37:17Z
Repository: ConsultingMD/tp
PR #122: [# 114124701] As a CC, so I'm aware that the condition field is changing, **remove the condition field from TP search**

Description:
[Tracker #114124701](https://www.pivotaltracker.com/story/show/114124701)

@timz1290 



=====================================================
Timestamp:  2016-02-18T22:48:16Z
Repository: ConsultingMD/jarvis
PR #4935: [# 108663002] As a user directed to /members/signup, so I am given context about Grand Rounds, **update the Grand Rounds Signup page** to display two panels, Brizo content on the left and Create Account on the right.

Description:
[Tracker #108663002](https://www.pivotaltracker.com/story/show/108663002)

@andrewpurcell @skylarcook 

this fixes how it looks on mobile/monger/tablet. Also changes the container name and adds the FAQ's.



=====================================================
Timestamp:  2016-02-17T23:00:54Z
Repository: ConsultingMD/jarvis
PR #4927: [# 110543036] As a SP so that I don't get errors trying to retrieve original opinion, decouple original opinion from audits

Description:
[Tracker #110543036](https://www.pivotaltracker.com/story/show/110543036)

The solution @beghbali and I came up with was to save a snapshot of the opinion every time it's completed, that way if it gets sent back to the expert, we can keep track of previous snapshots. Think linked list, insert at the head approach. 

This diagram should help better understand:
![image](https://cloud.githubusercontent.com/assets/1312796/13127838/8de15124-d586-11e5-959d-1b552f68e2f8.png)

@beghbali @jessedhillon @andrewpurcell please take a look



=====================================================
Timestamp:  2016-02-15T23:18:48Z
Repository: ConsultingMD/jarvis
PR #4908: [# 108663002] As a user directed to /members/signup, so I am given context about Grand Rounds, **update the Grand Rounds Signup page** to display two panels, Brizo content on the left and Create Account on the right.

Description:
[Tracker #108663002](https://www.pivotaltracker.com/story/show/108663002)

@suwyn @andrewpurcell @skylarcook 



=====================================================
Timestamp:  2016-02-12T18:35:11Z
Repository: ConsultingMD/jarvis
PR #4891: [# 109486336] As a GR analyst concerned only with referrals, so I can automatically receive data that includes PHI for new referrals on a regular basis, create an Affiliate Referral report which includes all fields in the Affiliate Encounter report filtered to only sh

Description:
[Tracker #109486336](https://www.pivotaltracker.com/story/show/109486336)

@andrewpurcell @skylarcook 



=====================================================
Timestamp:  2016-02-09T22:33:21Z
Repository: ConsultingMD/jarvis
PR #4868: [# 113403455] "Cannot modify coverage fields" error after modifying Personal Details

Description:
[Tracker #113403455](https://www.pivotaltracker.com/story/show/113403455)

@andrewpurcell @skylarcook 



=====================================================
Timestamp:  2016-02-09T19:51:03Z
Repository: ConsultingMD/jarvis
PR #4863: [# 113205499] As a user signing up who first misses coverage and then changes Personal Info to match coverage on the Second Chance page, so I don't then see the Personal Information page again and submit it, **route my to my Patient Dashboard after I submit the Second

Description:
[Tracker #113205499](https://www.pivotaltracker.com/story/show/113205499)

@andrewpurcell @skylarcook 



=====================================================
Timestamp:  2016-02-05T00:39:39Z
Repository: ConsultingMD/jarvis
PR #4838: [# 112094757] As a user who hits 2nd chance, so I know the page has loaded on purpose and not in error, **change the copy in the header** of the form and in the action button to callout to the user that he is in 2nd chance.

Description:
[Tracker #112094757](https://www.pivotaltracker.com/story/show/112094757)

@andrewpurcell @skylarcook 



=====================================================
Timestamp:  2016-02-04T23:24:43Z
Repository: ConsultingMD/jarvis
PR #4835: [# 107321392] As an PM of Account Creation, so I can test different headers on the Personal Information form (including embedding imgs and videos), have the **header section Patient Information form populated from Brizo.**

Description:
[Tracker #107321392](https://www.pivotaltracker.com/story/show/107321392)

@andrewpurcell @skylarcook



=====================================================
Timestamp:  2016-02-04T22:26:40Z
Repository: ConsultingMD/jarvis
PR #4834: [# 113101783] If an expert completes the first step of enrollment, but does not finish it, and is then assigned to a case, they cannot login using the link provided because they have not accepted the TOS.

Description:
[Tracker #113101783](https://www.pivotaltracker.com/story/show/113101783)

@andrewpurcell @skylarcook @suwyn 

tested locally with @ryangilbert . This will need to be hotpatched to production.



=====================================================
Timestamp:  2016-02-04T19:26:09Z
Repository: ConsultingMD/jarvis
PR #4831: [# 112941565] As a user who has lost access to their account, so the page to receive instructions is framed with a generic enough language to accommodate both users who have forgotten password and lost invites, **generalize the language on the forgot password page.**

Description:
[Tracker #112941565](https://www.pivotaltracker.com/story/show/112941565)

@andrewpurcell @skylarcook @suwyn 



=====================================================
Timestamp:  2016-02-04T01:56:56Z
Repository: ConsultingMD/jarvis
PR #4825: [# 112946085] If existing covered user tries to signup again, and re-submits the same info after getting an error, they are able to create another account associated with the same Covered

Description:
[Tracker #112946085](https://www.pivotaltracker.com/story/show/112946085)

@andrewpurcell @skylarcook @suwyn 



=====================================================
Timestamp:  2016-02-03T21:07:08Z
Repository: ConsultingMD/jarvis
PR #4822: [# 107321122] As an PM of Account Creation, so I can test different headers to the Account Creation form (including embedding imgs and videos), have the **header section on the Account Creation form populate from Brizo.**

Description:
[Tracker #107321122](https://www.pivotaltracker.com/story/show/107321122)

https://www.pivotaltracker.com/story/show/107321392

@andrewpurcell @skylarcook 



=====================================================
Timestamp:  2016-02-03T03:05:50Z
Repository: ConsultingMD/jarvis
PR #4819: [# 111712254] As a user who has lost access to their account, so this user path is the same for both a dependent with an unclaimed account and for an owner who has forgotten his password, **modify the error message that appears on email collision during Account Creati

Description:
[Tracker #111712254](https://www.pivotaltracker.com/story/show/111712254)

@andrewpurcell @suwyn @skylarcook 

![](http://stshd.translationllc.netdna-cdn.com/wp-content/uploads/2015/12/DJ-khaled-another-one-merch1-e1449689736135-600x400.jpg)



=====================================================
Timestamp:  2016-02-03T00:14:12Z
Repository: ConsultingMD/jarvis
PR #4815: [# 112943787] As a user who collides with existing Personal Information, so I logout of my session, remove the "reset your password" link from the error message.

Description:
[Tracker #112943787](https://www.pivotaltracker.com/story/show/112943787)

@andrewpurcell @skylarcook @suwyn 



=====================================================
Timestamp:  2016-02-02T19:54:35Z
Repository: ConsultingMD/jarvis
PR #4807: [# 110375628] As a Referred User, so I may quickly complete signup, pre-populate the form with the referral data.

Description:
[Tracker #110375628](https://www.pivotaltracker.com/story/show/110375628)

@andrewpurcell @skylarcook @suwyn 



=====================================================
Timestamp:  2016-02-02T01:36:49Z
Repository: ConsultingMD/jarvis
PR #4803: [# 110438210] As a CC who impersonates a patient who has only completed the new Account Creation form, so I know I am impersonating that patient, add the red impersonation bar to the top of the page.

Description:
[Tracker #110438210](https://www.pivotaltracker.com/story/show/110438210)



=====================================================
Timestamp:  2016-01-28T21:20:32Z
Repository: ConsultingMD/jarvis
PR #4788: [# 112565461] 500 when viewing Managed Family.

Description:
[Tracker #112565461](https://www.pivotaltracker.com/story/show/112565461)

@andrewpurcell 



=====================================================
Timestamp:  2016-01-28T07:43:40Z
Repository: ConsultingMD/jarvis
PR #4783: [# 111658988] As a user who selects a birth year on the Personal Information form that makes me **under 13 years old,** so I am prevented from creating an account with this birthdate,  put the field in an error state upon year selection and display error text below th...

Description:
[Tracker #111658988](https://www.pivotaltracker.com/story/show/111658988)

@andrewpurcell 



=====================================================
Timestamp:  2016-01-27T19:39:09Z
Repository: ConsultingMD/jarvis
PR #4775: [# 112450295] As a CC creating an account for a patient in Active Admin, so I am forced to create a full account that will pass all user validation errors, add a validation error on AA for accepting the ToS.

Description:
[Tracker #112450295](https://www.pivotaltracker.com/story/show/112450295)

@andrewpurcell 



=====================================================
Timestamp:  2016-01-27T02:46:24Z
Repository: ConsultingMD/jarvis
PR #4772: [# 112476835] If an existing user tries to create a new account with a different email and the same Personal Information, they are not logged out and redirected to sign-in.

Description:
[Tracker #112476835](https://www.pivotaltracker.com/story/show/112476835)

@andrewpurcell 



=====================================================
Timestamp:  2016-01-26T00:32:45Z
Repository: ConsultingMD/jarvis
PR #4754: [# 111658988] As a user who selects a birth year on the Personal Information form that makes me **under 13 years old,** so I am prevented from creating an account with this birthdate,  put the field in an error state upon year selection and display error text below th

Description:
[Tracker #111658988](https://www.pivotaltracker.com/story/show/111658988)

@andrewpurcell 



=====================================================
Timestamp:  2016-01-23T01:41:15Z
Repository: ConsultingMD/jarvis
PR #4747: [# 107321392] As an PM of Account Creation, so I can test different headers on the Personal Information form (including embedding imgs and videos), have the **header section Patient Information form populated from Brizo.**

Description:
[Tracker #107321392](https://www.pivotaltracker.com/story/show/107321392)

@andrewpurcell 

![alt text](http://www.memeornah.com/wp-content/uploads/2016/01/dj-khaled-another-one-1.jpg)



=====================================================
Timestamp:  2016-01-22T23:03:16Z
Repository: ConsultingMD/jarvis
PR #4740: [# 111994681] Walk through missing for retail and covered users on UAT

Description:
Forced pushed to a closed pr :angry:, this is the new one.

[Tracker #111994681](https://www.pivotaltracker.com/story/show/111994681)

Original PR with comments https://github.com/ConsultingMD/ConsultingMD/pull/4716



=====================================================
Timestamp:  2016-01-21T23:07:21Z
Repository: ConsultingMD/jarvis
PR #4716: [# 111994681] Walk through missing for retail and covered users on UAT

Description:
[Tracker #111994681](https://www.pivotaltracker.com/story/show/111994681)
 in cases_controller#redirect_to_walk_through:296

![image](https://cloud.githubusercontent.com/assets/1312796/12492963/b929ae4e-c037-11e5-8c91-4f7d1ed2fd26.png)

`current_user.first_time_user?` was returning false, because the sign_in_count was already incremented before reaching this point. This bug has probably existed for a while now. Tested on both master and latest rc branch.

@timz1290 @suwyn @andrewpurcell 



=====================================================
Timestamp:  2016-01-21T01:32:15Z
Repository: ConsultingMD/jarvis
PR #4708: [# 107321122] As an PM of Account Creation, so I can test different headers to the Account Creation form (including embedding imgs and videos), have the **header section on the Account Creation form populate from Brizo.**

Description:
[Tracker #107321122](https://www.pivotaltracker.com/story/show/107321122)

[Tracker #108972086](https://www.pivotaltracker.com/story/show/108972086)

![image](https://cloud.githubusercontent.com/assets/1312796/12466037/5ebebdb6-bf86-11e5-85ce-80ac7727d30c.png)

@andrewpurcell 



=====================================================
Timestamp:  2016-01-20T22:07:37Z
Repository: ConsultingMD/jarvis
PR #4701: [# 107321122] As an PM of Account Creation, so I can test different headers to the Account Creation form (including embedding imgs and videos), have the **header section on the Account Creation form populate from Brizo.**

Description:
[Tracker #107321122](https://www.pivotaltracker.com/story/show/107321122)

[Tracker #108972086](https://www.pivotaltracker.com/story/show/108972086)

![image](https://cloud.githubusercontent.com/assets/1312796/12466037/5ebebdb6-bf86-11e5-85ce-80ac7727d30c.png)

@andrewpurcell 



=====================================================
Timestamp:  2016-01-16T00:03:37Z
Repository: ConsultingMD/jarvis
PR #4668: [# 109475198] As a PM, so that I may set Customer specific content around my signup, **send the content tag associated with the Customer through the Affiliate token.**

Description:
[Tracker #109475198](https://www.pivotaltracker.com/story/show/109475198)

@andrewpurcell 



=====================================================
Timestamp:  2015-12-21T22:14:54Z
Repository: ConsultingMD/jarvis
PR #4564: [# 109373156] As a New Patient, so that I may be associated to a referring Customer, **record a UserSignup engagement when I complete Account Creation** 

Description:
https://www.pivotaltracker.com/story/show/109373156



=====================================================
Timestamp:  2015-12-17T19:50:17Z
Repository: ConsultingMD/jarvis
PR #4539: [# 110296930] 'Add task note' button missing label in records table 

Description:
[Tracker #110296930](https://www.pivotaltracker.com/story/show/110296930)



=====================================================
Timestamp:  2015-12-17T19:18:06Z
Repository: ConsultingMD/jarvis
PR #4537: [# 110350810] Update bookmarklets in jarvis/scripts/bookmarklets with ones that actually work

Description:
[Tracker #110350810](https://www.pivotaltracker.com/story/show/110350810)



=====================================================
Timestamp:  2015-12-16T22:36:17Z
Repository: ConsultingMD/looker-master
PR #122: [# 108478892] As Physician Services team, so that I can more easily send patient feedback to Experts, I'd like a new field in the Opinion's 24-hour follow-up form.

Description:
[Tracker #108478892](https://www.pivotaltracker.com/story/show/108478892)

Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/122/

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/4505



=====================================================
Timestamp:  2015-12-15T23:48:55Z
Repository: ConsultingMD/warehouse
PR #122: [# 108478892] As Physician Services team, so that I can more easily send patient feedback to Experts, I'd like a new field in the Opinion's  24-hour follow-up form.

Description:
[Tracker #108478892](https://www.pivotaltracker.com/story/show/108478892)

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/4505
Corresponding Looker PR: https://github.com/ConsultingMD/looker-master/pull/122



=====================================================
Timestamp:  2015-12-15T01:49:14Z
Repository: ConsultingMD/jarvis
PR #4505: [# 108478892] As Physician Services team, so that I can more easily send patient feedback to Experts, I'd like a new field in the Opinion's  24-hour follow-up form.

Description:
[Tracker #108478892](https://www.pivotaltracker.com/story/show/108478892)

Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/122/

Corresponding Looker PR: https://github.com/ConsultingMD/looker-master/pull/122



=====================================================
Timestamp:  2015-12-08T00:52:42Z
Repository: ConsultingMD/tim
PR #76: [# 108023014] Generated visit letter footer uses grandroundshealth.com

Description:
[Tracker #108023014](https://www.pivotaltracker.com/story/show/108023014)



=====================================================
Timestamp:  2015-12-07T22:23:48Z
Repository: ConsultingMD/jarvis
PR #4447: [# 102532114] 'Chairmen' instead of 'Chairman' on walk-through

Description:
[Tracker #102532114](https://www.pivotaltracker.com/story/show/102532114)



=====================================================
Timestamp:  2015-12-03T02:32:25Z
Repository: ConsultingMD/engineering-deep
PR #86: [# 109411808] Add new gpg/ssh keys to engineering

Description:
[Tracker #109411808](https://www.pivotaltracker.com/story/show/109411808)



=====================================================
Timestamp:  2015-12-02T19:34:41Z
Repository: ConsultingMD/jarvis
PR #4404: [# 109217894] As an Expert Link customer, so I can customize what shows up to my users, customize the benefits header using a label

Description:
[Tracker #109217894](https://www.pivotaltracker.com/story/show/109217894)



=====================================================
Timestamp:  2015-12-02T00:33:03Z
Repository: ConsultingMD/jarvis
PR #4393: [# 109295344] If no OpinionReview blocks are selected, all Followup blocks are shown.

Description:
[Tracker #109295344](https://www.pivotaltracker.com/story/show/109295344)



=====================================================
Timestamp:  2015-12-01T22:29:35Z
Repository: ConsultingMD/banyan
PR #260: [# 109218726] Autosave not working on IE

Description:
[Tracker #109218726](https://www.pivotaltracker.com/story/show/109218726)



=====================================================
Timestamp:  2015-12-01T02:17:25Z
Repository: ConsultingMD/banyan
PR #259: [# 109217688] Autosave does not work if text is pasted with no other action

Description:
[Tracker #109217688](https://www.pivotaltracker.com/story/show/109217688)



=====================================================
Timestamp:  2015-12-01T01:38:50Z
Repository: ConsultingMD/banyan
PR #258: [# 109217688] Autosave does not work if text is pasted with no other action

Description:
[Tracker #109217688](https://www.pivotaltracker.com/story/show/109217688)



=====================================================
Timestamp:  2015-11-25T23:49:01Z
Repository: ConsultingMD/jarvis
PR #4377: [# 106601818] As a PM, so we can encourage the display of some benefit services to a patient, **I want some OpinionReview blocks to be pre-selected.**

Description:
[Tracker #106601818](https://www.pivotaltracker.com/story/show/106601818)

Banyan PR: https://github.com/ConsultingMD/banyan/pull/257



=====================================================
Timestamp:  2015-11-25T23:48:50Z
Repository: ConsultingMD/banyan
PR #257: [# 106601818] As a PM, so we can encourage the display of some benefit services to a patient, **I want some OpinionReview blocks to be pre-selected.**

Description:
[Tracker #106601818](https://www.pivotaltracker.com/story/show/106601818)

Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/4377



=====================================================
Timestamp:  2015-11-25T01:56:59Z
Repository: ConsultingMD/jarvis
PR #4370: [# 107437894] As an SP, so I can record block-related information during follow-up, **capture any block inputs when I submit follow-up.**

Description:
[Tracker #107437894](https://www.pivotaltracker.com/story/show/107437894)



=====================================================
Timestamp:  2015-11-25T00:12:49Z
Repository: ConsultingMD/banyan
PR #256: [# 108821644] Autosave not working in beeper

Description:
[Tracker #108821644](https://www.pivotaltracker.com/story/show/108821644)



=====================================================
Timestamp:  2015-11-24T22:26:11Z
Repository: ConsultingMD/banyan
PR #255: [# 107437894] As an SP, so I can record block-related information during follow-up, **capture any block inputs when I submit follow-up.**

Description:
[Tracker #107437894](https://www.pivotaltracker.com/story/show/107437894)
https://github.com/ConsultingMD/ConsultingMD/pull/4363



=====================================================
Timestamp:  2015-11-24T22:25:49Z
Repository: ConsultingMD/jarvis
PR #4363: [# 107437894] As an SP, so I can record block-related information during follow-up, **capture any block inputs when I submit follow-up.**

Description:
[Tracker #107437894](https://www.pivotaltracker.com/story/show/107437894)
https://github.com/ConsultingMD/banyan/pull/255



=====================================================
Timestamp:  2015-11-24T01:44:06Z
Repository: ConsultingMD/jarvis
PR #4350: [# 107437894] As an SP, so I can record block-related information during follow-up, **capture any block inputs when I submit follow-up.**

Description:
[Tracker #107437894](https://www.pivotaltracker.com/story/show/107437894)



=====================================================
Timestamp:  2015-11-21T00:11:45Z
Repository: ConsultingMD/banyan
PR #253: [# 106601678] As an SP, so I can correct mistakes and make adjustments, I want to **update block selections through the Opinion Review form after the form has been submitted.

Description:
[Tracker #106601678](https://www.pivotaltracker.com/story/show/106601678)

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/4315



=====================================================
Timestamp:  2015-11-20T05:07:12Z
Repository: ConsultingMD/jarvis
PR #4315: [# 106601678] As an SP, so I can correct mistakes and make adjustments, I want to **update block selections through the Opinion Review form after the form has been submitted.**

Description:
add factory for opinion_benefit_service_datum

[Tracker #106601678](https://www.pivotaltracker.com/story/show/106601678)

Corresponding Banyan PR: https://github.com/ConsultingMD/banyan/pull/253



=====================================================
Timestamp:  2015-11-19T18:57:44Z
Repository: ConsultingMD/frick
PR #201: [# 102408522] If case is sent back to expert after case has progressed to followed up 24 hour state, tasks do not get updated

Description:
meow :3

[Tracker #102408522](https://www.pivotaltracker.com/story/show/102408522)



=====================================================
Timestamp:  2015-11-19T02:07:18Z
Repository: ConsultingMD/banyan
PR #251: [# 106601744] As an SP, so I can show only relevant benefit services to a patient, I want to **select blocks in the Opinion Review form.**

Description:
extend FormSerializer.patterns to allow colons in key names. Allows benefit service blocks to be updated!

[Tracker #106601744](https://www.pivotaltracker.com/story/show/106601744)

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/4304



=====================================================
Timestamp:  2015-11-19T02:06:53Z
Repository: ConsultingMD/jarvis
PR #4304: [# 106601744] As an SP, so I can show only relevant benefit services to a patient, I want to **select blocks in the Opinion Review form.**

Description:
[Tracker #106601744](https://www.pivotaltracker.com/story/show/106601744)

Corresponding Banyan PR: https://github.com/ConsultingMD/banyan/pull/251



=====================================================
Timestamp:  2015-11-18T03:08:44Z
Repository: ConsultingMD/jarvis
PR #4296: [# 107525760] As an SP, so that I can autosave the fields in my referral service blocks during Opinion Review, **interpolate the form namespace into them.**

Description:
fix #visit_guide_content. use map

[Tracker #107525760](https://www.pivotaltracker.com/story/show/107525760)



=====================================================
Timestamp:  2015-11-17T02:59:47Z
Repository: ConsultingMD/jarvis
PR #4272: [# 107869010] As an SP, so I can have the right data interpolated into my content blocks, **refactor Brizo interpolation to use classes.** 

Description:
refactor [content_helper,default_content_interpolator].rb

[Tracker #107869010](https://www.pivotaltracker.com/story/show/107869010)

Also addresses: https://www.pivotaltracker.com/story/show/108292976



=====================================================
Timestamp:  2015-11-14T00:26:08Z
Repository: ConsultingMD/jarvis
PR #4258: [# 106601882] As a PM, so I can add new benefit services, I need a **template for creating a benefit services block.**

Description:
add benefit block template. add opinion-review benefit block fixture

[Tracker #106601882](https://www.pivotaltracker.com/story/show/106601882)



=====================================================
Timestamp:  2015-11-12T19:26:13Z
Repository: ConsultingMD/jarvis
PR #4234: [# 107066652] Back button doesn't work work consistently from the Case Dashboard.

Description:
add specs (stubbing method)

[Tracker #107066652](https://www.pivotaltracker.com/story/show/107066652)



=====================================================
Timestamp:  2015-11-07T00:37:05Z
Repository: ConsultingMD/jarvis
PR #4183: [# 101436180] Mobile app - 'Clear and redraw' too close to Submit button

Description:
add bottom margin to clear text link to provide better user experience on mobile. set explicit position on bottom col, to actually make the link clickable on mobile

[Tracker #101436180](https://www.pivotaltracker.com/story/show/101436180)



=====================================================
Timestamp:  2015-11-06T22:27:47Z
Repository: ConsultingMD/monger-cordova
PR #13: [#82332284] On mobile devices, clicking links from email notifications should launch the app if the app is installed.

Description:
https://www.pivotaltracker.com/story/show/82332284



=====================================================
Timestamp:  2015-11-05T02:24:48Z
Repository: ConsultingMD/monger-cordova
PR #11: [#107002334] Chore/107002334/add cordova universal links plugin monger

Description:
https://www.pivotaltracker.com/story/show/107002334



=====================================================
Timestamp:  2015-11-02T20:37:59Z
Repository: ConsultingMD/jarvis
PR #4121: [# 102293926] Mobile App: clean-up of Grand Rounds team section in Opinion.

Description:
cleanup specs

[Tracker #102293926](https://www.pivotaltracker.com/story/show/102293926)



=====================================================
Timestamp:  2015-10-31T03:02:48Z
Repository: ConsultingMD/jarvis
PR #4116: Duplicate cases being created. [#104115264]

Description:
https://www.pivotaltracker.com/story/show/104115264



=====================================================
Timestamp:  2015-10-29T01:19:26Z
Repository: ConsultingMD/monger-cordova
PR #8: [#105893364] Replace the server menu that displays on the debug version of the app with a form

Description:
https://www.pivotaltracker.com/story/show/105893364



=====================================================
Timestamp:  2015-10-26T22:42:05Z
Repository: ConsultingMD/looker-master
PR #98: [#104600758] Clear looker warnings about time travel dashboards

Description:
https://www.pivotaltracker.com/story/show/104600758
Followed looker suggestions to clear the warnings which was to remove the listeners or the filter value

**Example Warning**
_A filter value for "cases.created_date" was provided for this element, but that field is listening to the dashboard filter "cohort". The specified filter value will not be used. **Remove either the filter value or the listener for "cases.created_date"**. If you'd like the element to begin with a filter value, consider setting "default_value" on the filter "cohort"._

I removed the ~~listener~~  filter on both cases.



=====================================================
Timestamp:  2015-10-22T20:20:30Z
Repository: ConsultingMD/jarvis
PR #4043: [# 100077112] As a PM using Looker, so I can analyze patient progress from account creation to case creation, I would like a table exported to looker with hashed patient ids and the date their account is created at.

Description:
create new patients business report, add specs
[Tracker #100077112](https://www.pivotaltracker.com/story/show/100077112)

Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/99
Looker PR: https://github.com/ConsultingMD/looker-master/pull/95



=====================================================
Timestamp:  2015-10-22T19:42:52Z
Repository: ConsultingMD/warehouse
PR #99: [# 100077112] As a PM using Looker, so I can analyze patient progress from account creation to case creation, I would like a table exported to looker with hashed patient ids and the date their account is created at.

Description:
new template for new export: 'patients'

[Tracker #100077112](https://www.pivotaltracker.com/story/show/100077112)

Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/4043
Looker PR: https://github.com/ConsultingMD/looker-master/pull/95



=====================================================
Timestamp:  2015-10-22T19:42:39Z
Repository: ConsultingMD/looker-master
PR #95: [# 100077112] As a PM using Looker, so I can analyze patient progress from account creation to case creation, I would like a table exported to looker with hashed patient ids and the date their account is created at.

Description:
[Tracker #100077112](https://www.pivotaltracker.com/story/show/100077112)

Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/4043
Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/99



=====================================================
Timestamp:  2015-10-20T22:23:40Z
Repository: ConsultingMD/jarvis
PR #4018: [# 106025848] As a Patient, so I have the option of messaging a Care Team member for help/direction on the Patient Dashboard, integrate SnapEngage on the Patient Dashboard.

Description:
add specs

[Tracker #106025848](https://www.pivotaltracker.com/story/show/106025848)



=====================================================
Timestamp:  2015-10-20T03:14:21Z
Repository: ConsultingMD/jarvis
PR #4008: [# 95179316] Edits to opinion are not captured in Case Log

Description:
[Tracker #95179316](https://www.pivotaltracker.com/story/show/95179316)



=====================================================
Timestamp:  2015-10-19T18:18:17Z
Repository: ConsultingMD/frick
PR #187: [# 105894022] Update the "Message patient with case update" task to be due in 5 days, instead of 3".

Description:
fix spec

[Tracker #105894022](https://www.pivotaltracker.com/story/show/105894022)



=====================================================
Timestamp:  2015-10-17T00:48:02Z
Repository: ConsultingMD/jarvis
PR #3999: [# 105782834] Prior drop-down answer copy to Expert NPS modal question were wrong. 

Description:
[Tracker #105782834](https://www.pivotaltracker.com/story/show/105782834)



=====================================================
Timestamp:  2015-10-16T22:24:32Z
Repository: ConsultingMD/jarvis
PR #3996: [# 105782834] Prior drop-down answer copy to Expert NPS modal question were wrong.

Description:
fix copy

[Tracker #105782834](https://www.pivotaltracker.com/story/show/105782834)



=====================================================
Timestamp:  2015-10-15T23:33:09Z
Repository: ConsultingMD/banyan
PR #239: [# 105598434] All typographical emphasis changes made in beeper do not get saved (from Zendesk #3997)

Description:
monkeypatch sanitizer js to remove all style properties except the allowed ones

[Tracker #105598434](https://www.pivotaltracker.com/story/show/105598434)



=====================================================
Timestamp:  2015-10-15T18:42:53Z
Repository: ConsultingMD/jarvis
PR #3975: [# 95179316] Edits to opinion are not captured in Case Log

Description:
reenable for all other actions

[Tracker #95179316](https://www.pivotaltracker.com/story/show/95179316)

@webflint went with your idea instead: log when the expert-write-interface is viewed and also an explicit log when the opinion is completed.



=====================================================
Timestamp:  2015-10-14T00:16:11Z
Repository: ConsultingMD/banyan
PR #238: [# 105618364] CCs need to be able to see Beeper Opinion Review.

Description:
allow cc's, ctl's to view opinion review

[Tracker #105618364](https://www.pivotaltracker.com/story/show/105618364)

Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3957



=====================================================
Timestamp:  2015-10-14T00:15:53Z
Repository: ConsultingMD/jarvis
PR #3957: [# 105618364] CCs need to be able to see Beeper Opinion Review.

Description:
[Tracker #105618364](https://www.pivotaltracker.com/story/show/105618364)

Banyan PR: https://github.com/ConsultingMD/banyan/pull/238



=====================================================
Timestamp:  2015-10-13T22:17:45Z
Repository: ConsultingMD/jarvis
PR #3951: [# 105524486] Fix spacing of copy on Opinion button on mobile

Description:
[Tracker #105524486](https://www.pivotaltracker.com/story/show/105524486)



=====================================================
Timestamp:  2015-10-13T18:38:09Z
Repository: ConsultingMD/jarvis
PR #3946: [# 105525536] Header and subtitle appear on patient questionnaire

Description:
fix localization string

[Tracker #105525536](https://www.pivotaltracker.com/story/show/105525536)



=====================================================
Timestamp:  2015-10-13T02:28:03Z
Repository: ConsultingMD/jarvis
PR #3944: [# 105524486] Fix spacing of copy on Opinion button on mobile

Description:
fix spacing of copy

[Tracker #105524486](https://www.pivotaltracker.com/story/show/105524486)



=====================================================
Timestamp:  2015-10-12T23:01:58Z
Repository: ConsultingMD/jarvis
PR #3938: [# 105516780] Stark case details returns error for some cases.

Description:
accepted? instead of decided?

[Tracker #105516780](https://www.pivotaltracker.com/story/show/105516780)



=====================================================
Timestamp:  2015-10-12T22:35:18Z
Repository: ConsultingMD/jarvis
PR #3937: [# 105266868] As a Boston Children's Hospital (International) patient, so I know the country code to dial, add a " 1" to the phone number on the Opinion product button.

Description:
fix method call, use current_user

[Tracker #105266868](https://www.pivotaltracker.com/story/show/105266868)



=====================================================
Timestamp:  2015-10-12T20:12:18Z
Repository: ConsultingMD/jarvis
PR #3931: [# 105266784] As a Boston Children's Hospital (Domestic) patient, so my primary call to action button is more descriptive of BCH's service, change the copy on the button.

Description:
update copy bch call_to_action

[Tracker #105266784](https://www.pivotaltracker.com/story/show/105266784)



=====================================================
Timestamp:  2015-10-09T22:30:43Z
Repository: ConsultingMD/jarvis
PR #3921: [# 101543038] **[Due 10/1]** As a patient receiving my Opinion, so I do not mistakenly assume the recommendations are covered by my insurance, append another disclaimer paragraph to the existing disclaimer text to section titled "Recommendations from your expert"

Description:
[Tracker #101543038](https://www.pivotaltracker.com/story/show/101543038)



=====================================================
Timestamp:  2015-10-08T22:14:50Z
Repository: ConsultingMD/jarvis
PR #3910: [# 105226738] opinion.original fails, causes Beeper::OpinionReview to not render.

Description:
safeguard when rendering the original opinion, dont display it if exception occurs retrieving audited changes by doctor on the opinion

[Tracker #105226738](https://www.pivotaltracker.com/story/show/105226738)



=====================================================
Timestamp:  2015-10-07T21:37:49Z
Repository: ConsultingMD/jarvis
PR #3897: [# 101543038] **[Due 10/1]** As a patient receiving my Opinion, so I do not mistakenly assume the recommendations are covered by my insurance, append another disclaimer paragraph to the existing disclaimer text to section titled "Recommendations from your expert".

Description:
copy change

[Tracker #101543038](https://www.pivotaltracker.com/story/show/101543038)



=====================================================
Timestamp:  2015-10-07T19:56:53Z
Repository: ConsultingMD/jarvis
PR #3895: [# 101077336] As a SP, so I'm not blocked from conducting long term followups and responding to patient and CC concerns on my cases, I should have access to all cases to which I am assigned, irrespective of state.

Description:
fix ability

[Tracker #101077336](https://www.pivotaltracker.com/story/show/101077336)

' SPs should have access to all cases to which they are assigned, irrespective of case state'



=====================================================
Timestamp:  2015-10-07T18:11:19Z
Repository: ConsultingMD/engineering-deep
PR #64: [# 104929174] As a GR developer, so that the codebase is free of stray debugging lines, catch pry debugging in the git pre-commit hooks.

Description:
catch pry debugging in the git pre-commit hooks

[Tracker #104929174](https://www.pivotaltracker.com/story/show/104929174)



=====================================================
Timestamp:  2015-10-06T19:41:50Z
Repository: ConsultingMD/jarvis
PR #3880: [# 104481990] Grammatical error in the automatic email that is sent to experts after they submit an opinion   (from Zendesk #3638)

Description:
fix typo

[Tracker #104481990](https://www.pivotaltracker.com/story/show/104481990)



=====================================================
Timestamp:  2015-10-06T00:38:21Z
Repository: ConsultingMD/jarvis
PR #3868: [# 94907022] As a staff user, so that I can access the Opinion from Stark, I'd like modifications to the "Expert's Opinion", "Opinion Review", and "Opinion Notes" accordions.

Description:
[Tracker #94907022](https://www.pivotaltracker.com/story/show/94907022)

Frick PR: https://github.com/ConsultingMD/frick/pull/180



=====================================================
Timestamp:  2015-10-06T00:38:12Z
Repository: ConsultingMD/frick
PR #180: [# 94907022] As a staff user, so that I can access the Opinion from Stark, I'd like modifications to the "Expert's Opinion", "Opinion Review", and "Opinion Notes" accordions.

Description:
[Tracker #94907022](https://www.pivotaltracker.com/story/show/94907022)

Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3868



=====================================================
Timestamp:  2015-10-03T02:08:48Z
Repository: ConsultingMD/jarvis
PR #3858: [# 104496334] Paragraph Spacing issue with Expert Opinion delivery in Summary to Patient (from Zendesk #3593)

Description:
[Tracker #104496334](https://www.pivotaltracker.com/story/show/104496334)



=====================================================
Timestamp:  2015-10-03T01:13:41Z
Repository: ConsultingMD/jarvis
PR #3856: [# 103156172] Beeper Opinion Review switch tasks.

Description:
[Tracker #103156172](https://www.pivotaltracker.com/story/show/103156172)

Frick PR: https://github.com/ConsultingMD/frick/pull/178



=====================================================
Timestamp:  2015-10-02T22:07:47Z
Repository: ConsultingMD/jarvis
PR #3854: [# 103156172] Beeper Opinion Review switch tasks.

Description:
remove 'Proofread expert's opinion' task

[Tracker #103156172](https://www.pivotaltracker.com/story/show/103156172)

Frick PR: https://github.com/ConsultingMD/frick/pull/178



=====================================================
Timestamp:  2015-10-02T22:07:41Z
Repository: ConsultingMD/frick
PR #178: [# 103156172] Beeper Opinion Review switch tasks.

Description:
remove 'Proofread expert's opinion' task

[Tracker #103156172](https://www.pivotaltracker.com/story/show/103156172)

Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3854



=====================================================
Timestamp:  2015-10-02T18:03:34Z
Repository: ConsultingMD/jarvis
PR #3851: [# 104571844] Files marked as not viewable by expert are displaying as "Other Files".

Description:
only display uploads viewable by the expert. update specs

[Tracker #104571844](https://www.pivotaltracker.com/story/show/104571844)



=====================================================
Timestamp:  2015-10-01T23:25:00Z
Repository: ConsultingMD/jarvis
PR #3847: [# 104496334] Paragraph Spacing issue with Expert Opinion delivery in Summary to Patient (from Zendesk #3593)

Description:
encapsulate medical summary inside div inside blockquote

[Tracker #104496334](https://www.pivotaltracker.com/story/show/104496334)



=====================================================
Timestamp:  2015-10-01T19:50:06Z
Repository: ConsultingMD/jarvis
PR #3841: [# 104384872] As Jarvis, remove the textset question 'patient family questions' from the medical summary

Description:
remove patient_family_questions from the medical summary questionnaire

[Tracker #104384872](https://www.pivotaltracker.com/story/show/104384872)



=====================================================
Timestamp:  2015-09-30T17:56:05Z
Repository: ConsultingMD/jarvis
PR #3826: [# 101791182] End of Epic Cleanup

Description:
Merge branch 'master' into chore/101791182/end-epic-cleanup

[Tracker #101791182](https://www.pivotaltracker.com/story/show/101791182)

Banyan PR: https://github.com/ConsultingMD/banyan/pull/237



=====================================================
Timestamp:  2015-09-30T17:55:16Z
Repository: ConsultingMD/banyan
PR #237: [# 101791182] End of Epic Cleanup

Description:
Merge branch 'master' into chore/101791182/end-epic-cleanup

[Tracker #101791182](https://www.pivotaltracker.com/story/show/101791182)

Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3826



=====================================================
Timestamp:  2015-09-30T01:10:52Z
Repository: ConsultingMD/jarvis
PR #3818: [# 104392012] Archived Opinions won't open.

Description:
archived opinions: display only if accepted and printed opinion resource has been generated

[Tracker #104392012](https://www.pivotaltracker.com/story/show/104392012)



=====================================================
Timestamp:  2015-09-29T22:51:40Z
Repository: ConsultingMD/jarvis
PR #3811: [# 104481644] Change the Expert NPS to have the right scale copy.

Description:
scale copy change for questionnaire

[Tracker #104481644](https://www.pivotaltracker.com/story/show/104481644)



=====================================================
Timestamp:  2015-09-29T22:10:07Z
Repository: ConsultingMD/banyan
PR #236: [# 104209022] As an SP, so I can know the Expert's perspective, I'd like the results of the diagnosis survey that Expert submitted to display at the bottom of the "Expert's Opinion" tab in Beeper Opinion Review.

Description:
[Tracker #104209022](https://www.pivotaltracker.com/story/show/104209022)



=====================================================
Timestamp:  2015-09-29T01:45:32Z
Repository: ConsultingMD/banyan
PR #235: [# 100172442] 3 minute refresh timer doesn't work.

Description:
also update the answer on the summernote div if questionnaire has rich-text-editor enabled

[Tracker #100172442](https://www.pivotaltracker.com/story/show/100172442)



=====================================================
Timestamp:  2015-09-28T18:31:02Z
Repository: ConsultingMD/jarvis
PR #3794: [# 104350900] Expert Survey cannot be completed on expert-write interface

Description:
rename class

[Tracker #104350900](https://www.pivotaltracker.com/story/show/104350900)

Banyan PR: https://github.com/ConsultingMD/banyan/pull/233



=====================================================
Timestamp:  2015-09-28T18:30:28Z
Repository: ConsultingMD/banyan
PR #233: [# 104350900] Expert Survey cannot be completed on expert-write interface

Description:
rename class

[Tracker #104350900](https://www.pivotaltracker.com/story/show/104350900)

Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3794



=====================================================
Timestamp:  2015-09-26T00:15:34Z
Repository: ConsultingMD/jarvis
PR #3790: [# 104209022] As an SP, so I can know the Expert's perspective, I'd like the results of the diagnosis survey that Expert submitted to display at the bottom of the "Expert's Opinion" tab in Beeper Opinion Review.

Description:
[Tracker #104209022](https://www.pivotaltracker.com/story/show/104209022)

Banyan PR: https://github.com/ConsultingMD/banyan/pull/231



=====================================================
Timestamp:  2015-09-26T00:15:19Z
Repository: ConsultingMD/banyan
PR #231: [# 104209022] As an SP, so I can know the Expert's perspective, I'd like the results of the diagnosis survey that Expert submitted to display at the bottom of the "Expert's Opinion" tab in Beeper Opinion Review.

Description:
style expert survey on expert_opinion_fields tab

[Tracker #104209022](https://www.pivotaltracker.com/story/show/104209022)

Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3790



=====================================================
Timestamp:  2015-09-25T21:49:15Z
Repository: ConsultingMD/jarvis
PR #3781: [# 104200136] As jarvis, rename route 'redirect_to_beeper' to 'beeper_redirect' and update all paths

Description:
redirect_to_beeper --> beeper_redirect

[Tracker #104200136](https://www.pivotaltracker.com/story/show/104200136)



=====================================================
Timestamp:  2015-09-25T18:48:10Z
Repository: ConsultingMD/jarvis
PR #3776: [# 104028834] As jarvis, rename Api::CasesController archived_opinions to archived_cases

Description:
archived_opinions --> archived_cases

[Tracker #104028834](https://www.pivotaltracker.com/story/show/104028834)

Banyan PR: https://github.com/ConsultingMD/banyan/pull/230



=====================================================
Timestamp:  2015-09-25T18:47:46Z
Repository: ConsultingMD/banyan
PR #230: [# 104028834] As jarvis, rename Api::CasesController archived_opinions to archived_cases

Description:
archived_opinions --> archived_cases

[Tracker #104028834](https://www.pivotaltracker.com/story/show/104028834)

Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3776



=====================================================
Timestamp:  2015-09-24T23:40:33Z
Repository: ConsultingMD/jarvis
PR #3772: As an expert, the first time I log in, I need to be redirected to the instructional walkthrough.

Description:
[Tracker #101156398](https://www.pivotaltracker.com/story/show/101156398)



=====================================================
Timestamp:  2015-09-24T19:16:09Z
Repository: ConsultingMD/jarvis
PR #3768: As a first-time Expert, so I can see an instructional walk-through, create the slides and layout for the walkthrough. [#101147100] 

Description:



=====================================================
Timestamp:  2015-09-24T02:33:24Z
Repository: ConsultingMD/banyan
PR #225: [# 93053892] As an Expert, so that I can give feedback after completing an opinion, I'd like an NPS form in the opinion submission confirmation modal.

Description:
Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3763



=====================================================
Timestamp:  2015-09-24T02:32:57Z
Repository: ConsultingMD/jarvis
PR #3763: [# 93053892] As an Expert, so that I can give feedback after completing an opinion, I'd like an NPS form in the opinion submission confirmation modal.

Description:
Banyan PR: https://github.com/ConsultingMD/banyan/pull/225



=====================================================
Timestamp:  2015-09-24T00:55:08Z
Repository: ConsultingMD/jarvis
PR #3756: [# 95673810] As an Expert, so that I can see my archived cases, I'd like an Interface page for my archived cases.

Description:
[Tracker #95673810](https://www.pivotaltracker.com/story/show/95673810)



=====================================================
Timestamp:  2015-09-23T21:10:59Z
Repository: ConsultingMD/jarvis
PR #3746: [# 93053892] As an Expert, so that I can give feedback after completing an opinion, I'd like an NPS form in the opinion submission confirmation modal.

Description:
[Tracker #93053892](https://www.pivotaltracker.com/story/show/93053892)



=====================================================
Timestamp:  2015-09-23T03:04:29Z
Repository: ConsultingMD/jarvis
PR #3739: As an expert, the first time I log in, I need to be redirected to the instructional walkthrough.

Description:
[Tracker #101156398](https://www.pivotaltracker.com/story/show/101156398)



=====================================================
Timestamp:  2015-09-23T02:26:04Z
Repository: ConsultingMD/jarvis
PR #3738: [# 95673810] As an Expert, so that I can see my archived cases, I'd like an Interface page for my archived cases.

Description:
[Tracker #95673810](https://www.pivotaltracker.com/story/show/95673810)

Banyan PR: https://github.com/ConsultingMD/banyan/pull/223



=====================================================
Timestamp:  2015-09-23T02:25:26Z
Repository: ConsultingMD/banyan
PR #223: [# 95673810] As an Expert, so that I can see my archived cases, I'd like an Interface page for my archived cases.

Description:
allow expert to view archived opinion page. refactor case card partial

[Tracker #95673810](https://www.pivotaltracker.com/story/show/95673810)

Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3738



=====================================================
Timestamp:  2015-09-21T21:01:37Z
Repository: ConsultingMD/banyan
PR #221: [# 93053892] As an Expert, so that I can give feedback after completing an opinion, I'd like an NPS form in the opinion submission confirmation modal.

Description:



=====================================================
Timestamp:  2015-09-21T19:10:17Z
Repository: ConsultingMD/jarvis
PR #3717: [# 93053892] As an Expert, so that I can give feedback after completing an opinion, I'd like an NPS form in the opinion submission confirmation modal.

Description:
[Tracker #93053892](https://www.pivotaltracker.com/story/show/93053892)

Banyan PR: https://github.com/ConsultingMD/banyan/pull/220



=====================================================
Timestamp:  2015-09-21T19:09:31Z
Repository: ConsultingMD/banyan
PR #220: [# 93053892] As an Expert, so that I can give feedback after completing an opinion, I'd like an NPS form in the opinion submission confirmation modal.

Description:
[Tracker #93053892](https://www.pivotaltracker.com/story/show/93053892)

Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3717



=====================================================
Timestamp:  2015-09-18T21:54:53Z
Repository: ConsultingMD/jarvis
PR #3705: [# 93053892] As an Expert, so that I can give feedback after completing an opinion, I'd like an NPS form in the opinion submission confirmation modal.

Description:
[Tracker #93053892](https://www.pivotaltracker.com/story/show/93053892)

Banyan PR: https://github.com/ConsultingMD/banyan/pull/219



=====================================================
Timestamp:  2015-09-18T21:54:13Z
Repository: ConsultingMD/banyan
PR #219: [# 93053892] As an Expert, so that I can give feedback after completing an opinion, I'd like an NPS form in the opinion submission confirmation modal.

Description:
style survey

[Tracker #93053892](https://www.pivotaltracker.com/story/show/93053892)

Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3705



=====================================================
Timestamp:  2015-09-16T22:54:49Z
Repository: ConsultingMD/banyan
PR #218: [# 103139350] Can submit opinion without filling out required fields (For GR Only)

Description:
[Tracker #103139350](https://www.pivotaltracker.com/story/show/103139350)

Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3677



=====================================================
Timestamp:  2015-09-16T22:54:15Z
Repository: ConsultingMD/jarvis
PR #3677: [# 103139350] Can submit opinion without filling out required fields (For GR Only)

Description:
url instead of path

[Tracker #103139350](https://www.pivotaltracker.com/story/show/103139350)

Banyan PR: https://github.com/ConsultingMD/banyan/pull/218



=====================================================
Timestamp:  2015-09-16T21:16:46Z
Repository: ConsultingMD/jarvis
PR #3676: [# 96847606] As an analyst, so I can track expert experiences, I need a model for an NPS survey.

Description:
add nps_survey questionnaire helper to opinion

[Tracker #96847606](https://www.pivotaltracker.com/story/show/96847606)



=====================================================
Timestamp:  2015-09-16T01:32:33Z
Repository: ConsultingMD/jarvis
PR #3669: [# 102944400] As an SP, I need some default text in the Opinion's background info field.

Description:
[Tracker #102944400](https://www.pivotaltracker.com/story/show/102944400)



=====================================================
Timestamp:  2015-09-16T00:15:13Z
Repository: ConsultingMD/jarvis
PR #3666: [# 103145620] As an SP, so I can pre-fill fields on the Opinion, I need a link to a fields-only opinion form in the API response.

Description:
[Tracker #103145620](https://www.pivotaltracker.com/story/show/103145620)



=====================================================
Timestamp:  2015-09-15T17:33:58Z
Repository: ConsultingMD/jarvis
PR #3659: [# 102944400] As an SP, I need some default text in the Opinion's background info field.

Description:
[Tracker #102944400](https://www.pivotaltracker.com/story/show/102944400)



=====================================================
Timestamp:  2015-09-14T18:48:35Z
Repository: ConsultingMD/banyan
PR #212: [#103145372] Opinion submission redirects to old Expert interface if user attempts to submit twice.

Description:
[Tracker #103145372](https://www.pivotaltracker.com/story/show/103145372)



=====================================================
Timestamp:  2015-09-12T00:58:01Z
Repository: ConsultingMD/banyan
PR #211: [# 96847522] As an SP, so I can pre-fill the expert's opinion, add the Opinion form as a new tab to the Medical Summary form.

Description:
fix specs

[Tracker #96847522](https://www.pivotaltracker.com/story/show/96847522)



=====================================================
Timestamp:  2015-09-11T22:43:13Z
Repository: ConsultingMD/banyan
PR #210: [# 103145620] As an SP, so I can pre-fill fields on the Opinion, I need a link to a fields-only opinion form in the API response.

Description:
[Tracker #103145620](https://www.pivotaltracker.com/story/show/103145620)

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3634



=====================================================
Timestamp:  2015-09-11T22:41:45Z
Repository: ConsultingMD/jarvis
PR #3634: [# 103145620] As an SP, so I can pre-fill fields on the Opinion, I need a link to a fields-only opinion form in the API response.

Description:
fix regex

[Tracker #103145620](https://www.pivotaltracker.com/story/show/103145620)

Corresponding Banyan PR: https://github.com/ConsultingMD/banyan/pull/210



=====================================================
Timestamp:  2015-09-11T19:47:06Z
Repository: ConsultingMD/jarvis
PR #3631: [# 103140642] When CC/SP/CTL/SSP submits Opinion via "expert impersonation", they get redirected to Admin dashboard, but should instead get redirected back to Stark Case Details for case.

Description:
redirect to stark case details if not doctor. update spec

[Tracker #103140642](https://www.pivotaltracker.com/story/show/103140642)



=====================================================
Timestamp:  2015-09-11T18:48:06Z
Repository: ConsultingMD/jarvis
PR #3629: [# 103123332] Unable to submit opinion view - Error: Opinion.Opinion Review.Staff Physician Note: staff_physician_note cannot be nil.

Description:
remove sp note validation

[Tracker #103123332](https://www.pivotaltracker.com/story/show/103123332)



=====================================================
Timestamp:  2015-09-11T01:08:13Z
Repository: ConsultingMD/banyan
PR #209: [#103145372] Opinion submission redirects to old Expert interface if user attempts to submit twice.

Description:
prevent double click on opinion submit button

[Tracker #103145372](https://www.pivotaltracker.com/story/show/103145372)



=====================================================
Timestamp:  2015-09-10T21:04:39Z
Repository: ConsultingMD/jarvis
PR #3625: As an expert, the first time I log in, I need to be redirected to the instructional walkthrough.

Description:
add specs

[Tracker #101156398](https://www.pivotaltracker.com/story/show/101156398)



=====================================================
Timestamp:  2015-09-09T23:55:17Z
Repository: ConsultingMD/jarvis
PR #3619: As a first-time Expert, so I can see an instructional walk-through, add a new walkthroughs controller.

Description:
add spec for d/walkthrough#show

[Tracker #101146914](https://www.pivotaltracker.com/story/show/101146914)



=====================================================
Timestamp:  2015-09-09T19:35:22Z
Repository: ConsultingMD/banyan
PR #207: As a staff user, so that I can reference the Expert's original submitted Opinion while I edit the Opinion, I'd like the Expert's original Opinion to display in Panel A's "Expert's Opinion" Tab.

Description:
[Tracker #92982258](https://www.pivotaltracker.com/story/show/92982258)

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3615

![screenshot from 2015-09-09 12 40 33](https://cloud.githubusercontent.com/assets/1312796/9772286/0286c722-56f0-11e5-92eb-3f435e88873a.png)



=====================================================
Timestamp:  2015-09-09T19:34:38Z
Repository: ConsultingMD/jarvis
PR #3615: As a staff user, so that I can reference the Expert's original submitted Opinion while I edit the Opinion, I'd like the Expert's original Opinion to display in Panel A's "Expert's Opinion" Tab.

Description:
add expert info to archived opinion view

[Tracker #92982258](https://www.pivotaltracker.com/story/show/92982258)

Corresponding Banyan PR:https://github.com/ConsultingMD/banyan/pull/207



=====================================================
Timestamp:  2015-09-08T22:52:59Z
Repository: ConsultingMD/jarvis
PR #3607: As an SP, so I can see the original expert opinion, I need a Stark API endpoint.

Description:
[Tracker #97589098](https://www.pivotaltracker.com/story/show/97589098)



=====================================================
Timestamp:  2015-09-04T19:35:00Z
Repository: ConsultingMD/jarvis
PR #3595: As an SP, so I can write the SP note in my Beeper workflow, add a form field for it.

Description:
[Tracker #96904954](https://www.pivotaltracker.com/story/show/96904954)



=====================================================
Timestamp:  2015-09-04T02:16:20Z
Repository: ConsultingMD/banyan
PR #203: As an SP, so I can write the SP note in my Beeper workflow, add a form field for it.

Description:
[Tracker #96904954](https://www.pivotaltracker.com/story/show/96904954)

DO NOT MERGE YET.



=====================================================
Timestamp:  2015-09-02T22:33:22Z
Repository: ConsultingMD/jarvis
PR #3576: As an SP or CC, so I can leave a patient note on a specific opinion, make Opinion acts_as_commentable.

Description:
Merge branch 'master' into feature/2002630/99094328/an-sp-patient-opinion-acts-as-commentable

[Tracker #99094328](https://www.pivotaltracker.com/story/show/99094328)



=====================================================
Timestamp:  2015-09-02T01:32:42Z
Repository: ConsultingMD/banyan
PR #201: Rich text has a bug.

Description:
disable drag and drop

[Tracker #101804976](https://www.pivotaltracker.com/story/show/101804976)



=====================================================
Timestamp:  2015-09-01T21:38:41Z
Repository: ConsultingMD/jarvis
PR #3569: Patient avatar/image broken on beeper

Description:
use correct url

[Tracker #100834428](https://www.pivotaltracker.com/story/show/100834428)



=====================================================
Timestamp:  2015-09-01T19:21:35Z
Repository: ConsultingMD/jarvis
PR #3567: As an SP, so I can record the deficiencies of an opinion, regenerate the associated deficiency relationships when the opinion review form is submitted through the API. #3480

Description:
[Tracker #98997460](https://www.pivotaltracker.com/story/show/98997460)



=====================================================
Timestamp:  2015-08-21T20:03:42Z
Repository: ConsultingMD/banyan
PR #189: As beeper, on views without etags (opinion-write, opinion-review), an autosave response causes an javascript error

Description:
attempt to set etag only if data._links is defined

[Tracker #101731716](https://www.pivotaltracker.com/story/show/101731716)



=====================================================
Timestamp:  2015-08-21T19:00:45Z
Repository: ConsultingMD/banyan
PR #188: Remove Search Bar in Beeper nav bar

Description:
do not display search bar in beeper views.

[Tracker #101551246](https://www.pivotaltracker.com/story/show/101551246)



=====================================================
Timestamp:  2015-08-21T00:20:16Z
Repository: ConsultingMD/jarvis
PR #3510: When CC/SP/CTL/SSP clicks "Launch Expert's Opinion" button on Expert's Opinion accordion, it gets 403 Forbidden error.

Description:
[Tracker #101550692](https://www.pivotaltracker.com/story/show/101550692)
Corresponding Banyan PR: https://github.com/ConsultingMD/banyan/pull/186



=====================================================
Timestamp:  2015-08-21T00:20:11Z
Repository: ConsultingMD/banyan
PR #186: When CC/SP/CTL/SSP clicks "Launch Expert's Opinion" button on Expert's Opinion accordion, it gets 403 Forbidden error.

Description:
updating permissions for: CC/SP/CTL/SSP. Modify specs

[Tracker #101550692](https://www.pivotaltracker.com/story/show/101550692)

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3510



=====================================================
Timestamp:  2015-08-19T23:41:03Z
Repository: ConsultingMD/jarvis
PR #3503: redirect_to for old opinion interface. fix specs.

Description:



=====================================================
Timestamp:  2015-08-19T22:18:55Z
Repository: ConsultingMD/jarvis
PR #3499: New expert UI not shown when expert logs in with login link.

Description:
use correct opinion path. beeper for all experts that dont use ie9, old opinion interface for experts that use ie9.

[Tracker #101622420](https://www.pivotaltracker.com/story/show/101622420)



=====================================================
Timestamp:  2015-08-17T21:26:39Z
Repository: ConsultingMD/jarvis
PR #3480: As an SP, so I can record the deficiencies of an opinion, regenerate the associated deficiency relationships when the opinion review form is submitted through the API.

Description:
[Tracker #98997460](https://www.pivotaltracker.com/story/show/98997460)



=====================================================
Timestamp:  2015-08-14T17:29:08Z
Repository: ConsultingMD/puppet
PR #96: As a Release Sheriff, so that I can bring up a new stack, fix the issue with sethostname/init.pp and name variable reassignment.

Description:
rename name --> short_name. name is a reserved word

[Tracker #101258732](https://www.pivotaltracker.com/story/show/101258732)



=====================================================
Timestamp:  2015-08-12T20:03:11Z
Repository: ConsultingMD/jarvis
PR #3455: As an SP, so I can save my work while writing an opinion review in Beeper, I need a Stark API endpoint for editing an opinion review.

Description:
[Tracker #97590906](https://www.pivotaltracker.com/story/show/97590906)



=====================================================
Timestamp:  2015-08-11T21:34:43Z
Repository: ConsultingMD/jarvis
PR #3449: Subsequent indexed records not showing in beeper

Description:
updating ability for expert

[Tracker #100839332](https://www.pivotaltracker.com/story/show/100839332)



=====================================================
Timestamp:  2015-08-11T20:34:34Z
Repository: ConsultingMD/jarvis
PR #3445: As an Expert, so that I can use Beeper, send me to Beeper instead of old expert interface.

Description:
remove doctor impersonation specs

[Tracker #100771710](https://www.pivotaltracker.com/story/show/100771710)



=====================================================
Timestamp:  2015-08-11T01:29:07Z
Repository: ConsultingMD/jarvis
PR #3438: Subsequent indexed records not showing in beeper

Description:
allow path to be accessible from beeper

[Tracker #100839332](https://www.pivotaltracker.com/story/show/100839332)



=====================================================
Timestamp:  2015-08-10T23:28:41Z
Repository: ConsultingMD/banyan
PR #173: Dicom Grid iframe is too short/wrong size.

Description:
resize on tab change

[Tracker #100965800](https://www.pivotaltracker.com/story/show/100965800)



=====================================================
Timestamp:  2015-08-10T22:09:21Z
Repository: ConsultingMD/jarvis
PR #3434: Subsequent indexed records not showing in beeper

Description:
use my_records_case_path

[Tracker #100839332](https://www.pivotaltracker.com/story/show/100839332)



=====================================================
Timestamp:  2015-08-08T01:40:36Z
Repository: ConsultingMD/jarvis
PR #3425: Remove role and any code supporting restrictions based on the role 'coupon_report_receiver'

Description:
https://www.pivotaltracker.com/story/show/96510496

Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/60

For reference purposes:
Old jarvis PR (closed): https://github.com/ConsultingMD/ConsultingMD/pull/3412



=====================================================
Timestamp:  2015-08-07T01:09:42Z
Repository: ConsultingMD/warehouse
PR #60: Remove role and any code supporting restrictions based on the role 'coupon_report_receiver'

Description:
https://www.pivotaltracker.com/story/show/96510496

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3412



=====================================================
Timestamp:  2015-08-07T01:08:24Z
Repository: ConsultingMD/jarvis
PR #3412: Remove role and any code supporting restrictions based on the role 'coupon_report_receiver'

Description:
https://www.pivotaltracker.com/story/show/96510496

Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/60



=====================================================
Timestamp:  2015-08-06T19:56:09Z
Repository: ConsultingMD/jarvis
PR #3405: **[Due 7/31]**"Medical history summary", "Answers from your expert", and "Recommendations from your expert" being displayed in blue, overlapping boxes

Description:
align triangle

[Tracker #99184804](https://www.pivotaltracker.com/story/show/99184804)



=====================================================
Timestamp:  2015-08-06T00:11:45Z
Repository: ConsultingMD/jarvis
PR #3400: As Brizo, I need my Rails.cache.fetch to take a block that reads the brizo-cache from S3 and refresh the cache.

Description:
add block that reads the brizo-cache from S3 and refreshes the cache

[Tracker #100578454](https://www.pivotaltracker.com/story/show/100578454)



=====================================================
Timestamp:  2015-08-05T20:32:07Z
Repository: ConsultingMD/jarvis
PR #3397: As a Case Viewer or a Customer Success Manager, I need a default avatar, so that the patient doesn't see a 500 if I leave a message or am added as a Team Member.

Description:
https://www.pivotaltracker.com/story/show/100574464



=====================================================
Timestamp:  2015-08-05T18:44:04Z
Repository: ConsultingMD/jarvis
PR #3393: As a CTL, so my password is more secure than an 8 character password, I should be required to have a staff length password.

Description:
[Tracker #100332518](https://www.pivotaltracker.com/story/show/100332518)



=====================================================
Timestamp:  2015-08-04T19:45:17Z
Repository: ConsultingMD/jarvis
PR #3381: **[Due 7/31]**"Medical history summary", "Answers from your expert", and "Recommendations from your expert" being displayed in blue, overlapping boxes

Description:
add .row-fluid

[Tracker #99184804](https://www.pivotaltracker.com/story/show/99184804)



=====================================================
Timestamp:  2015-08-03T23:36:40Z
Repository: ConsultingMD/jarvis
PR #3375: **[Due 7/31]** Coupon index should display the exact discount percentage we apply when creating a case. It should not round to thousandth digit when displaying. 

Description:
display exact discount value

[Tracker #99801296](https://www.pivotaltracker.com/story/show/99801296)



=====================================================
Timestamp:  2015-08-03T21:25:29Z
Repository: ConsultingMD/jarvis
PR #3364: Unable to CC an email address on reports

Description:
require cc param

[Tracker #100448404](https://www.pivotaltracker.com/story/show/100448404)



=====================================================
Timestamp:  2015-07-31T02:47:03Z
Repository: ConsultingMD/banyan
PR #158: As a staff user, so that I can grade the Expert Opinion's quality, I'd like scoring form fields at the bottom of Panel B during SP-Review.

Description:
[Tracker #92981972](https://www.pivotaltracker.com/story/show/92981972)

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3346



=====================================================
Timestamp:  2015-07-31T02:46:02Z
Repository: ConsultingMD/jarvis
PR #3346: As a staff user, so that I can grade the Expert Opinion's quality, I'd like scoring form fields at the bottom of Panel B during SP-Review.

Description:
fix opinion review links

[Tracker #92981972](https://www.pivotaltracker.com/story/show/92981972)

Corresponding Banyan PR: https://github.com/ConsultingMD/banyan/pull/158



=====================================================
Timestamp:  2015-07-30T22:11:30Z
Repository: ConsultingMD/banyan
PR #157: Beeper 8 EOE

Description:
https://www.pivotaltracker.com/story/show/99475684



=====================================================
Timestamp:  2015-07-30T21:14:54Z
Repository: ConsultingMD/jarvis
PR #3340: In Expert interface, "Questions from the Patient" section and "Summary of Next Steps" section are in the wrong order. Should be reversed.

Description:
https://www.pivotaltracker.com/story/show/100239754



=====================================================
Timestamp:  2015-07-30T18:22:21Z
Repository: ConsultingMD/jarvis
PR #3334: As an SP, so that I can write an Opinion Review, I need Stark to return a form for it.

Description:
[Tracker #96905418](https://www.pivotaltracker.com/story/show/96905418)



=====================================================
Timestamp:  2015-07-28T22:58:44Z
Repository: ConsultingMD/jarvis
PR #3320: As a SP, so that I can edit an Opinion Review, I need an OpinionReviewRepresenter.

Description:
create OpinionReviewRepresenter. rename controller: reviews --> opinion_reviews. Add specs. implement opinion_reviews#show

[Tracker #97590334](https://www.pivotaltracker.com/story/show/97590334)



=====================================================
Timestamp:  2015-07-28T22:10:51Z
Repository: ConsultingMD/jarvis
PR #3319: As an SP, so I can access the opinion review form, I need an endpoint for opinion reviews.

Description:
add new endpoint for opinion review. begin implementation of api/reviews. added specs

[Tracker #98997914](https://www.pivotaltracker.com/story/show/98997914)



=====================================================
Timestamp:  2015-07-28T00:40:29Z
Repository: ConsultingMD/jarvis
PR #3312: Bug/1905262/99817488/beeper 500s dicom fix 99632586

Description:
https://www.pivotaltracker.com/story/show/99817488



=====================================================
Timestamp:  2015-07-27T21:01:57Z
Repository: ConsultingMD/banyan
PR #149: As an Expert, so that I can quickly scan a case's details from the Case Index list, display case summary details in the case cards.

Description:
[Tracker #94905800](https://www.pivotaltracker.com/story/show/94905800)



=====================================================
Timestamp:  2015-07-27T20:37:03Z
Repository: ConsultingMD/banyan
PR #148: Log out drop-down link is misaligned with rest of Nav Bar links.

Description:
[Tracker #99833396](https://www.pivotaltracker.com/story/show/99833396)



=====================================================
Timestamp:  2015-07-24T23:05:25Z
Repository: ConsultingMD/banyan
PR #145: As an Expert, so that I can quickly scan a case's details from the Case Index list, display case summary details in the case cards.

Description:
[Tracker #94905800](https://www.pivotaltracker.com/story/show/94905800)



=====================================================
Timestamp:  2015-07-23T23:48:03Z
Repository: ConsultingMD/banyan
PR #143: As an Expert, so that the Case Index page is more intuitive, display different content when I do vs. don't have active cases.

Description:
[Tracker #94904530](https://www.pivotaltracker.com/story/show/94904530)



=====================================================
Timestamp:  2015-07-23T00:40:05Z
Repository: ConsultingMD/banyan
PR #140: As an Expert, so that I can more easily contact GR for help on Beeper, I'd like a "Contact Grand Rounds" modal in Beeper Case Interface.

Description:
https://www.pivotaltracker.com/story/show/99462816



=====================================================
Timestamp:  2015-07-22T22:25:45Z
Repository: ConsultingMD/jarvis
PR #3276: As an expert, so I can see a list of cases I've worked on, I need a Stark API endpoint for listing my cases.

Description:
https://www.pivotaltracker.com/story/show/99485660



=====================================================
Timestamp:  2015-07-22T18:50:13Z
Repository: ConsultingMD/jarvis
PR #3271: As an expert, so I know when I submitted my opinion, add due_at and completed_at attributes to the representer.

Description:
https://www.pivotaltracker.com/story/show/99536350



=====================================================
Timestamp:  2015-07-22T00:31:27Z
Repository: ConsultingMD/banyan
PR #137: As an expert, so I know when I submitted my opinion, add due_at and completed_at attributes to the representer.

Description:
https://www.pivotaltracker.com/story/show/99536350

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3266



=====================================================
Timestamp:  2015-07-22T00:31:20Z
Repository: ConsultingMD/jarvis
PR #3266: As an expert, so I know when I submitted my opinion, add due_at and completed_at attributes to the representer.

Description:
https://www.pivotaltracker.com/story/show/99536350

Corresponding Banyan PR: https://github.com/ConsultingMD/banyan/pull/137



=====================================================
Timestamp:  2015-07-18T01:26:07Z
Repository: ConsultingMD/banyan
PR #135: As an expert, so that I don't accidentally submit my opinion, I'd like a confirmation modal to appear when I try to submit the Opinion.

Description:



=====================================================
Timestamp:  2015-07-17T22:07:44Z
Repository: ConsultingMD/jarvis
PR #3245: As an expert, so that I don't accidentally submit my opinion, I'd like a confirmation modal to appear when I try to submit the Opinion.

Description:
https://www.pivotaltracker.com/story/show/98762588

Corresponding Banyan PR: https://github.com/ConsultingMD/banyan/pull/133



=====================================================
Timestamp:  2015-07-17T22:06:34Z
Repository: ConsultingMD/banyan
PR #133: As an expert, so that I don't accidentally submit my opinion, I'd like a confirmation modal to appear when I try to submit the Opinion.

Description:
https://www.pivotaltracker.com/story/show/98762588

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3245



=====================================================
Timestamp:  2015-07-17T01:38:17Z
Repository: ConsultingMD/jarvis
PR #3240: As an expert, so I can complete an NPS survey before submitting my opinion, I need a form and endpoint for this survey.

Description:
https://www.pivotaltracker.com/story/show/99268820



=====================================================
Timestamp:  2015-07-16T23:15:22Z
Repository: ConsultingMD/jarvis
PR #3236: As an SP, so I know that I've submitted my OpinionReview, add two flags to the OpinionRepresenter.

Description:
https://www.pivotaltracker.com/story/show/99174386

Corresponding Banyan PR: https://github.com/ConsultingMD/banyan/pull/132



=====================================================
Timestamp:  2015-07-16T23:14:38Z
Repository: ConsultingMD/banyan
PR #132: As an SP, so I know that I've submitted my OpinionReview, add two flags to the OpinionRepresenter.

Description:
https://www.pivotaltracker.com/story/show/99174386

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3236



=====================================================
Timestamp:  2015-07-15T20:07:48Z
Repository: ConsultingMD/jarvis
PR #3223: As an expert, so I can be greeted with my own name while writing an opinion, I need my first and last name included in the Opinion model.

Description:
https://www.pivotaltracker.com/story/show/99167216

Corresponding Banyan PR: https://github.com/ConsultingMD/banyan/pull/129



=====================================================
Timestamp:  2015-07-15T20:06:38Z
Repository: ConsultingMD/banyan
PR #129: As an expert, so I can be greeted with my own name while writing an opinion, I need my first and last name included in the Opinion model.

Description:
https://www.pivotaltracker.com/story/show/99167216

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3223



=====================================================
Timestamp:  2015-07-15T02:10:35Z
Repository: ConsultingMD/banyan
PR #128: As an expert, so I can view and edit an opinion, I need an Opinion model in Beeper.

Description:
https://www.pivotaltracker.com/story/show/96913254

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3218



=====================================================
Timestamp:  2015-07-15T02:09:52Z
Repository: ConsultingMD/jarvis
PR #3218: As an expert, so I can view and edit an opinion, I need an Opinion model in Beeper.

Description:
https://www.pivotaltracker.com/story/show/96913254

Corresponding Banyan PR: https://github.com/ConsultingMD/banyan/pull/128



=====================================================
Timestamp:  2015-07-14T20:16:09Z
Repository: ConsultingMD/jarvis
PR #3207: As an Expert, so that I can edit an opinion, I need Stark API endpoints which return the Opinion form and opinion JSON representation.

Description:
https://www.pivotaltracker.com/story/show/97253800



=====================================================
Timestamp:  2015-07-14T01:19:02Z
Repository: ConsultingMD/jarvis
PR #3205: As an expert, so that I can view and edit an opinion, I need an OpinionRepresenter.

Description:
https://www.pivotaltracker.com/story/show/97590154



=====================================================
Timestamp:  2015-07-14T00:01:36Z
Repository: ConsultingMD/jarvis
PR #3203: As an expert, so I don't overwrite newer opinion fields, add an etag attribute to the Opinion model.

Description:
https://www.pivotaltracker.com/story/show/98761518



=====================================================
Timestamp:  2015-07-13T20:04:03Z
Repository: ConsultingMD/banyan
PR #126: As a Beeper user, so that I can see the patient's Medical Summary, I'd like Panel A's "Medical Summary" Tab to display Medical Summary content.

Description:
https://www.pivotaltracker.com/story/show/92982236



=====================================================
Timestamp:  2015-07-09T19:25:51Z
Repository: ConsultingMD/jarvis
PR #3187: Update CaseRepresenter to use grnds-service to display the medical images link.

Description:
https://www.pivotaltracker.com/story/show/98764402



=====================================================
Timestamp:  2015-07-08T01:19:37Z
Repository: ConsultingMD/jarvis
PR #3168: updating grnds deploy to have the right zuul namespace

Description:



=====================================================
Timestamp:  2015-07-08T00:47:25Z
Repository: ConsultingMD/jarvis
PR #3167: updating grnds deploy to have the right zuul namespace

Description:



=====================================================
Timestamp:  2015-07-08T00:42:56Z
Repository: ConsultingMD/deploy
PR #7: namespace is hard

Description:
-Justin



=====================================================
Timestamp:  2015-07-07T21:44:00Z
Repository: ConsultingMD/jarvis
PR #3164: As an SP, so that the Beeper Medical Summary form fields are more useful to me, I'd like some form fields to be changed in format.

Description:
https://www.pivotaltracker.com/story/show/98578950



=====================================================
Timestamp:  2015-07-07T19:59:23Z
Repository: ConsultingMD/jarvis
PR #3160: As an SP, so I can view a patient's medical imaging while writing a medical summary, create a Beeper::MedicalImage model.

Description:
https://www.pivotaltracker.com/story/show/97039768

Correspondent Banyan PR: https://github.com/ConsultingMD/banyan/pull/117



=====================================================
Timestamp:  2015-07-07T19:57:54Z
Repository: ConsultingMD/banyan
PR #117: As an SP, so I can view a patient's medical imaging while writing a medical summary, create a Beeper::MedicalImage model.

Description:
https://www.pivotaltracker.com/story/show/97039768

Correspondent Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3160



=====================================================
Timestamp:  2015-07-02T18:11:41Z
Repository: ConsultingMD/jarvis
PR #3143: As an SP, so I can view a patient's medical imaging while writing a medical summary, I need the Stark API to include a link to the DICOM studies.

Description:
https://www.pivotaltracker.com/story/show/96827916



=====================================================
Timestamp:  2015-06-30T20:09:25Z
Repository: ConsultingMD/jarvis
PR #3126: As an SP, so I can view a patient's medical records while writing a medical summary, I need the Stark API to include a link to the indexed record.

Description:
https://www.pivotaltracker.com/story/show/96241300



=====================================================
Timestamp:  2015-06-29T21:51:52Z
Repository: ConsultingMD/banyan
PR #109: As a beeper user, so I have a chance to manually save my work when there is an autosave conflict, display the modal only once, and display a banner at the top of the page warning me to refresh the page.

Description:
https://www.pivotaltracker.com/story/show/97912894



=====================================================
Timestamp:  2015-06-26T23:18:58Z
Repository: ConsultingMD/banyan
PR #108: As a beeper user, so I don't accidentally lose unsaved work, I'd like a dismissible modal that alerts me when there's an autosave error.

Description:
https://www.pivotaltracker.com/story/show/96243406



=====================================================
Timestamp:  2015-06-25T22:24:02Z
Repository: ConsultingMD/jarvis
PR #3098: Chapter/1837186/etags for beeper

Description:



=====================================================
Timestamp:  2015-06-25T22:23:27Z
Repository: ConsultingMD/banyan
PR #107: Chapter/1837186/etags for beeper

Description:



=====================================================
Timestamp:  2015-06-22T20:53:24Z
Repository: ConsultingMD/jarvis
PR #3067: As Stark, so that I enforce some form of concurrency control on question answers, require and check the ETags on all Question PUTs.

Description:
https://www.pivotaltracker.com/story/show/96135388



=====================================================
Timestamp:  2015-06-20T02:57:24Z
Repository: ConsultingMD/jarvis
PR #3063: As Stark, so that I enforce some form of concurrency control on question answers, require and check the ETags on all Question PUTs.

Description:
https://www.pivotaltracker.com/story/show/96135388

Correspondent Banyan PR: https://github.com/ConsultingMD/banyan/pull/99



=====================================================
Timestamp:  2015-06-20T02:57:15Z
Repository: ConsultingMD/banyan
PR #99: As Stark, so that I enforce some form of concurrency control on question answers, require and check the ETags on all Question PUTs.

Description:
https://www.pivotaltracker.com/story/show/96135388

Correspondent Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/3063



=====================================================
Timestamp:  2015-06-19T22:45:48Z
Repository: ConsultingMD/jarvis
PR #3057: As Stark, so conflicting question answers may be resolved later, return an ETag per question in the Questionnaire API response.

Description:
https://www.pivotaltracker.com/story/show/96135076



=====================================================
Timestamp:  2015-06-16T20:17:18Z
Repository: ConsultingMD/banyan
PR #93: As a beeper user, so I understand what work has been saved, I would like UI notifications.

Description:
https://www.pivotaltracker.com/story/show/96578862



=====================================================
Timestamp:  2015-06-13T00:14:11Z
Repository: ConsultingMD/banyan
PR #91: As a Staff User, so that I can enter itemized patient questions when creating a Medical Summary, provide me with an Add Another Question ability

Description:
https://www.pivotaltracker.com/story/show/94607268



=====================================================
Timestamp:  2015-06-11T22:31:58Z
Repository: ConsultingMD/banyan
PR #86: As a beeper user, so that checklist items are more legible, I'd like checklist answers to be separated by a new line.

Description:
https://www.pivotaltracker.com/story/show/96722532



=====================================================
Timestamp:  2015-06-10T18:20:14Z
Repository: ConsultingMD/jarvis
PR #3002: Adolescent Patient Questionnaire displaying wrong copy.

Description:
https://www.pivotaltracker.com/story/show/96509792



=====================================================
Timestamp:  2015-06-10T01:18:33Z
Repository: ConsultingMD/jarvis
PR #2998: As an SP, so I'm not confused about where to write my medical summary, don't show the medical summary text box if there is an incomplete medical summary questionnaire on the case.

Description:
https://www.pivotaltracker.com/story/show/96315518

@andrewpurcell 



=====================================================
Timestamp:  2015-06-09T21:33:41Z
Repository: ConsultingMD/jarvis
PR #2993: As an SP, so I'm not confused about where to write my medical summary, don't show the medical summary text box if there is an incomplete medical summary questionnaire on the case.

Description:
https://www.pivotaltracker.com/story/show/96315518



=====================================================
Timestamp:  2015-06-08T22:45:30Z
Repository: ConsultingMD/banyan
PR #83: User Image URL from Jarvis is not correct

Description:
https://www.pivotaltracker.com/story/show/96472308

Corresponding Jarvis PR: https://github.com/ConsultingMD/ConsultingMD/pull/2986



=====================================================
Timestamp:  2015-06-08T22:45:20Z
Repository: ConsultingMD/jarvis
PR #2986: User Image URL from Jarvis is not correct

Description:
https://www.pivotaltracker.com/story/show/96472308

Corresponding Beeper PR: https://github.com/ConsultingMD/banyan/pull/83



=====================================================
Timestamp:  2015-06-05T23:18:07Z
Repository: ConsultingMD/jarvis
PR #2979: As a beeper user, so I can post my edits to stark, I need an 'edit' link in the HAL+JSON representation for each question in the medical summary.

Description:
https://www.pivotaltracker.com/story/show/96317552



=====================================================
Timestamp:  2015-06-04T23:47:15Z
Repository: ConsultingMD/jarvis
PR #2970: As Stark, so questionnaires can be completed by other services, add an API endpoint for writing the answer to a question.

Description:
https://www.pivotaltracker.com/story/show/94025696



=====================================================
Timestamp:  2015-06-03T00:03:05Z
Repository: ConsultingMD/banyan
PR #78: As Beeper, so I can deal with medical summaries from Stark, create a MedicalSummary accessor

Description:
https://www.pivotaltracker.com/story/show/94511392



=====================================================
Timestamp:  2015-06-02T19:39:11Z
Repository: ConsultingMD/banyan
PR #77: As a staff user, so that I can see the patient's responses to Patient Questionnaire, I'd like Panel A's "Patient Questionnaire" tab display the relevant content.

Description:
https://www.pivotaltracker.com/story/show/92982222



=====================================================
Timestamp:  2015-06-02T02:18:07Z
Repository: ConsultingMD/banyan
PR #76: As a Beeper user, so that I can quickly scan the patient's basic info, I'd like patient details to be displayed at the top of Panel A's Patient Questionnaire tab.

Description:
https://www.pivotaltracker.com/story/show/93072584



=====================================================
Timestamp:  2015-05-30T01:22:52Z
Repository: ConsultingMD/banyan
PR #71: As Beeper, so I have a case model to work with, create Beeper::Case.

Description:
https://www.pivotaltracker.com/story/show/94022276



=====================================================
Timestamp:  2015-05-28T19:32:24Z
Repository: ConsultingMD/service
PR #18: Epic/1837186/beeper api

Description:



=====================================================
Timestamp:  2015-05-28T17:44:49Z
Repository: ConsultingMD/banyan
PR #69: As a Beeper Developer, so that I can securely communicate with Jarvis, add service secrets to client calls

Description:
https://www.pivotaltracker.com/story/show/95565094



=====================================================
Timestamp:  2015-05-23T00:58:48Z
Repository: ConsultingMD/jarvis
PR #2910: As a Jarvis Admin, so I can accommodate the needs of an EL Customer's transactional email preferences, I want the ability to turn off any one of the transactional emails on a per customer basis.

Description:
https://www.pivotaltracker.com/story/show/94604744



=====================================================
Timestamp:  2015-05-22T19:58:23Z
Repository: ConsultingMD/service
PR #17: As Jarvis, so that I can identify requests from the Banyan service, add a Banyan secret to Grnds::Service 

Description:
https://www.pivotaltracker.com/story/show/94709402



=====================================================
Timestamp:  2015-05-22T19:57:13Z
Repository: ConsultingMD/service
PR #16: Fix Secret default in Grnds::Service for Frick

Description:
https://www.pivotaltracker.com/story/show/94709504



=====================================================
Timestamp:  2015-05-22T19:50:08Z
Repository: ConsultingMD/service
PR #15: As Jarvis, so that I can identify requests from the Banyan service, add a Banyan secret to Grnds::Service 

Description:
https://www.pivotaltracker.com/story/show/94709402



=====================================================
Timestamp:  2015-05-22T19:42:25Z
Repository: ConsultingMD/service
PR #14: Fix Secret default in Grnds::Service for Frick

Description:
https://www.pivotaltracker.com/story/show/94709504



=====================================================
Timestamp:  2015-05-22T18:14:35Z
Repository: ConsultingMD/jarvis
PR #2903: As a prospective GR customer, so I have context about GR's offering in-line with the Account creation form, please create a sign-up up form that can be embedded in a wordpress page that does not assume a customer affiliation

Description:
https://www.pivotaltracker.com/story/show/93643090



=====================================================
Timestamp:  2015-05-21T18:35:47Z
Repository: ConsultingMD/jarvis
PR #2897: As a covered user who is creating a case on the mobile app, I should not see the message "Thank you, we have received your payment" if I have not made a payment.

Description:
https://www.pivotaltracker.com/story/show/94619612



=====================================================
Timestamp:  2015-05-20T01:18:29Z
Repository: ConsultingMD/jarvis
PR #2887: As a Jarvis Admin, so I can accommodate the needs of an EL Customer's transactional email preferences, I want the ability to turn off any one of the transactional emails on a per customer basis.

Description:
https://www.pivotaltracker.com/story/show/94604744

PD: There's so many files and diffs in this PR because had to recreate the vcr_cassettes.



=====================================================
Timestamp:  2015-05-15T22:08:49Z
Repository: ConsultingMD/banyan
PR #60: EOE Cleanup

Description:
https://www.pivotaltracker.com/story/show/93658216



=====================================================
Timestamp:  2015-05-14T21:21:26Z
Repository: ConsultingMD/banyan
PR #59: As a Beeper user, so that I can see only the relevant information for my use case, I'd like individual secured routes for each use case available only for the roles acting on them.

Description:
https://www.pivotaltracker.com/story/show/92969522



=====================================================
Timestamp:  2015-05-12T01:36:21Z
Repository: ConsultingMD/banyan
PR #58: As a Beeper user, so that I can easily navigate within Beeper, I'd like a navigation bar with a home logo at the top of my layout. 

Description:
https://www.pivotaltracker.com/story/show/92960030



=====================================================
Timestamp:  2015-05-11T23:13:12Z
Repository: ConsultingMD/banyan
PR #57: As a Beeper user, so that I can manage my login session while not cluttering the navbar, I'd like to see my user name and have the ability to log-out through a dropdown menu.

Description:
https://www.pivotaltracker.com/story/show/93225154



=====================================================
Timestamp:  2015-05-08T18:27:56Z
Repository: ConsultingMD/banyan
PR #56: As a Beeper user, so that I can consume more content through the Interface, I'd like the Panels to have Tabs.

Description:
https://www.pivotaltracker.com/story/show/92967070



=====================================================
Timestamp:  2015-05-07T01:26:05Z
Repository: ConsultingMD/banyan
PR #51: As a Beeper user, so that I can simultaneously read and write content related to an Opinion, I'd like two Panels in the Interface.

Description:
https://www.pivotaltracker.com/story/show/92965984

Thanks @webflint  for that enriching panel auto resizing pairing session.



=====================================================
Timestamp:  2015-05-05T19:31:42Z
Repository: ConsultingMD/banyan
PR #47: As a staff user, so that I can't access Beeper's Case Index/Archived Cases pages, I'd like to be redirected to Banyan when I access the Case Index/Archived Cases page.

Description:
https://www.pivotaltracker.com/story/show/93463242



=====================================================
Timestamp:  2015-05-05T18:07:19Z
Repository: ConsultingMD/banyan
PR #45: As a staff user, so that I can't access Beeper's Case Index/Archived Cases pages, I'd like to be redirected to Banyan when I access the Case Index/Archived Cases page.

Description:
https://www.pivotaltracker.com/story/show/93463242

-Adding CanCan support to Banyan



=====================================================
Timestamp:  2015-05-01T23:41:04Z
Repository: ConsultingMD/banyan
PR #44: As an Expert, so that I can navigate to my Active Cases and Archived Cases, I'd like the Nav Bar to link to "Active Cases" and "Archived Cases".

Description:
https://www.pivotaltracker.com/story/show/92960474



=====================================================
Timestamp:  2015-05-01T21:57:42Z
Repository: ConsultingMD/banyan
PR #43: As an Expert, so that I can navigate to my Active Cases and Archived Cases, I'd like the Nav Bar to link to "Active Cases" and "Archived Cases".

Description:
https://www.pivotaltracker.com/story/show/92960474



=====================================================
Timestamp:  2015-05-01T19:14:13Z
Repository: ConsultingMD/banyan
PR #42: As a Beeper user, so that I can manage my login session while not cluttering the navbar, I'd like to see my user name and have the ability to log-out through a dropdown menu.

Description:
https://www.pivotaltracker.com/story/show/93225154



=====================================================
Timestamp:  2015-04-29T01:05:09Z
Repository: ConsultingMD/banyan
PR #40: As an Expert, so that I have a landing place after signing in, I'd like an index page

Description:
https://www.pivotaltracker.com/story/show/93390676



=====================================================
Timestamp:  2015-04-24T21:39:20Z
Repository: ConsultingMD/jarvis
PR #2769: As an accountant processing entries in the Expert Payments table, so that I keep an accurate record of payments made, I want the ability to enter a Date Paid for entries marked paid.

Description:
https://www.pivotaltracker.com/story/show/91836404



=====================================================
Timestamp:  2015-04-24T01:21:09Z
Repository: ConsultingMD/jarvis
PR #2767: As an accountant processing entries in the Expert Payments table, so that I keep a record of payments made, I want the ability to edit the Paid column between Paid and Unpaid status.

Description:
https://www.pivotaltracker.com/story/show/91836280



=====================================================
Timestamp:  2015-04-23T19:48:35Z
Repository: ConsultingMD/jarvis
PR #2762: As an accountant reviewing the Expert Payments table, so that I can distinguish unpaid entries that wont be paid from those not yet processed, I would like option to mark unpaid entries wont pay.

Description:
https://www.pivotaltracker.com/story/show/91836198



=====================================================
Timestamp:  2015-04-21T00:28:14Z
Repository: ConsultingMD/jarvis
PR #2733: As an accountant processing entries in the Expert Payments table, because Ill want to keep an a record of when payments were made, update the Expert Payment model to include a column for date paid.

Description:
https://www.pivotaltracker.com/story/show/91836288



=====================================================
Timestamp:  2015-04-20T23:57:08Z
Repository: ConsultingMD/jarvis
PR #2732: As an accountant, so that I can quickly distinguish entries in the Expert Payment table that generally require payment, I would like all entries where the state transition is opinion_written to opinion_reviewed to be bolded.

Description:
https://www.pivotaltracker.com/story/show/91836254



=====================================================
Timestamp:  2015-04-15T19:04:15Z
Repository: ConsultingMD/jarvis
PR #2689: As Questionnaire, so I can support enum fields with 'other' entries, I need to support saving the other text as well as the enum data when other is selected.

Description:
https://www.pivotaltracker.com/story/show/92394874



=====================================================
Timestamp:  2015-04-13T23:21:46Z
Repository: ConsultingMD/jarvis
PR #2686: As a SP, so that I can store the content of my short-term follow-up call with Visits patients, I'd like a Visits form in the "Short-term follow-up" accordion.

Description:
https://www.pivotaltracker.com/story/show/89751860



=====================================================
Timestamp:  2015-04-11T03:54:39Z
Repository: ConsultingMD/jarvis
PR #2681: As a SP, so that I can store the content of my short-term follow-up call with Opinion patients, I'd like an Opinions form in the "Short-term follow-up" accordion.

Description:
https://www.pivotaltracker.com/story/show/89751836



=====================================================
Timestamp:  2015-04-10T00:33:34Z
Repository: ConsultingMD/jarvis
PR #2673: As Jarvis, so questionnaire-based forms can be saved automatically, I'd like support for autosave added to Questionnaire DSL

Description:
https://www.pivotaltracker.com/story/show/92064140



=====================================================
Timestamp:  2015-04-06T17:47:28Z
Repository: ConsultingMD/tp
PR #80: Epic/1769326/tp7_heap_npi

Description:
https://www.pivotaltracker.com/epic/show/1769326



=====================================================
Timestamp:  2015-04-04T00:16:34Z
Repository: ConsultingMD/tp
PR #79: As a TP user, so I can find specific physicians, add a search field for NPI underneath "Search by Physician"

Description:
https://www.pivotaltracker.com/story/show/91463290

cleaning up the view



=====================================================
Timestamp:  2015-04-03T23:53:16Z
Repository: ConsultingMD/tp
PR #78: As a TP user, so I can find specific physicians, add a search field for NPI underneath "Search by Physician"

Description:
https://www.pivotaltracker.com/story/show/91463290



=====================================================
Timestamp:  2015-04-03T22:35:58Z
Repository: ConsultingMD/tp
PR #77: As a TP user, so I can find specific physicians, allow searching by NPI

Description:
https://www.pivotaltracker.com/story/show/91463768



=====================================================
Timestamp:  2015-04-03T20:13:18Z
Repository: ConsultingMD/tp
PR #76: As a TP user, so that I can uniquely identify each physician, surface the NPI number in the physician details screen

Description:
https://www.pivotaltracker.com/story/show/91463074



=====================================================
Timestamp:  2015-04-03T19:12:08Z
Repository: ConsultingMD/tp
PR #75: As a GR PM, so that I can make data driven decisions, implement Heap tracking on TP

Description:
https://www.pivotaltracker.com/story/show/91463928



=====================================================
Timestamp:  2015-04-01T23:27:50Z
Repository: ConsultingMD/tim
PR #55: New lines are not properly handled 

Description:
https://www.pivotaltracker.com/story/show/91561118



=====================================================
Timestamp:  2015-04-01T20:10:06Z
Repository: ConsultingMD/tim
PR #53: New lines are not properly handled 

Description:
https://www.pivotaltracker.com/story/show/91561118



=====================================================
Timestamp:  2015-04-01T19:37:04Z
Repository: ConsultingMD/tim
PR #52: New lines are not properly handled 

Description:
https://www.pivotaltracker.com/story/show/91561118

'\hfill \break' is a safer way than '\newline' to do a line break in latex. The former did a line break on the specific section where it was called and it did not fill the other part of the line with blank spacing. This was causing the pdf's to not generate in the correct format.



=====================================================
Timestamp:  2015-04-01T19:25:03Z
Repository: ConsultingMD/jarvis
PR #2612: Redelivering the opinion does not generate a new PDF 

Description:
https://www.pivotaltracker.com/story/show/91622834

-The old behavior was that we were only generating the printed opinion pdf the first time the opinion transitioned to a 'delivered' state. If an opinion was then modified then Tim would not bake the new printed opinion pdf because it already had one generated. This fixes that.



=====================================================
Timestamp:  2015-04-01T05:43:14Z
Repository: ConsultingMD/tim
PR #49: Commas are not displayed in pdf generated by tim 

Description:
https://www.pivotaltracker.com/story/show/91566734



=====================================================
Timestamp:  2015-04-01T03:37:40Z
Repository: ConsultingMD/tim
PR #48: New lines are not properly handled 

Description:
https://www.pivotaltracker.com/story/show/91561118



=====================================================
Timestamp:  2015-03-31T23:43:39Z
Repository: ConsultingMD/jarvis
PR #2604: As an Opinion Patient with a completed opinion, I would like to access my Opinion PDF  by pushing a button

Description:
Epic:[Opinion Printout](https://www.pivotaltracker.com/epic/show/1739074)
Story: [#90319324](https://www.pivotaltracker.com/story/show/90319324)

-fixes permission



=====================================================
Timestamp:  2015-03-31T02:21:59Z
Repository: ConsultingMD/jarvis
PR #2595: As an Opinion Patient with a completed opinion, I would like to access my Opinion PDF  by pushing a button

Description:
Epic:[Opinion Printout](https://www.pivotaltracker.com/epic/show/1739074)
Story: [#90319324](https://www.pivotaltracker.com/story/show/90319324)



=====================================================
Timestamp:  2015-03-30T23:13:10Z
Repository: ConsultingMD/tim
PR #45: As an Opinion Patient with a completed opinion, I would like a well formatted first page on my delivered opinion.

Description:
Epic:[Opinion Printout](https://www.pivotaltracker.com/epic/show/1739074)
Story:[#90319046](https://www.pivotaltracker.com/story/show/90319046)



=====================================================
Timestamp:  2015-03-26T19:26:47Z
Repository: ConsultingMD/jarvis
PR #2548: Medical release is re-written by browser plugin causing latex to pdf to fail

Description:
[#88283764](https://www.pivotaltracker.com/story/show/88283764)

-It was decided to prevent the Skype plugin from reformatting the phone numbers on the dom. Using a vendor specific meta tag on the head section of the webpage. 



=====================================================
Timestamp:  2015-03-20T23:09:19Z
Repository: ConsultingMD/jarvis
PR #2501: As an Opinion Patient with a completed opinion, I would like a basic pdf of the text of my delivered opinion.

Description:
Epic: [Opinion Printout](https://www.pivotaltracker.com/epic/show/1739074)
Story: [#90318586](https://www.pivotaltracker.com/story/show/90318586)

This PR is related to [#90459966](https://github.com/ConsultingMD/tim/pull/39) on Tim.



=====================================================
Timestamp:  2015-03-18T22:15:51Z
Repository: ConsultingMD/tim
PR #39: Create an endpoint on Tim and figure out what resources are necessary.  Tim should accept these.

Description:
Epic:[Opinion Printout](https://www.pivotaltracker.com/epic/show/1739074)
Story:[#90459966](https://www.pivotaltracker.com/story/show/90459966)

-create the endpoint on Tim in order to be able to receive an opinion printout post with the required ingredients
-create printed opinion recipe



=====================================================
Timestamp:  2015-03-17T00:56:38Z
Repository: ConsultingMD/tim
PR #38: Feature/90331802/basic opinion template

Description:
Epic: [Opinion Printout](https://www.pivotaltracker.com/epic/show/1739074)
Story: [#90331802](https://www.pivotaltracker.com/story/show/90331802)

-created basic opinion written template



=====================================================
Timestamp:  2015-03-16T23:34:30Z
Repository: ConsultingMD/tim
PR #37: create basic printed opinion template

Description:
Epic: [Opinion Printout](https://www.pivotaltracker.com/epic/show/1739074)
Story: [#90331802](https://www.pivotaltracker.com/story/show/90331802)

-created basic opinion written template



=====================================================
Timestamp:  2015-03-12T08:49:24Z
Repository: ConsultingMD/jarvis
PR #2435: When I want to view the page "Expert Payment", as an Expert Engagement Manager or Accountant, I would like to view the information sorted and paginated by date of transition so that I don't have a never ending page.

Description:
Epic:[ Expert Payments](https://www.pivotaltracker.com/epic/show/1601898)

[Story](https://www.pivotaltracker.com/story/show/86809532)



=====================================================
Timestamp:  2015-03-11T20:18:47Z
Repository: ConsultingMD/jarvis
PR #2426: Update the prompt for the last question on the expert interface Opinion tab [3/20]

Description:
[Story](https://www.pivotaltracker.com/story/show/88965764)

-Fixed typo

cc @webflint 



=====================================================
Timestamp:  2015-03-11T00:40:18Z
Repository: ConsultingMD/jarvis
PR #2414: When I want to check what experts need to be paid, as a Expert Engagement Manager, I would like a table indicating which experts need to be paid, how much they need to be paid and relevant payment information so that I only need to look at one place for information to make the payment.

Description:
Epic: [Expert Payment](https://www.pivotaltracker.com/epic/show/1601898) 
Feature: [Expert Payment Table](https://www.pivotaltracker.com/story/show/85671286)

@soonahn Please CR.




=====================================================
Timestamp:  2019-02-28T01:40:20Z
Repository: ConsultingMD/tp
PR #1173: [# 164262148] As TP, so stakeholders can access the most up to date insurance information, **Export the insurance_plans and provider_networks table after any PDM update.**

Description:
As TP, so stakeholders can access the most up to date insurance information, **Export the insurance_plans and provider_networks table after any PDM update.**

[Tracker #164262148](https://www.pivotaltracker.com/story/show/164262148)

@nfoen 


=====================================================
Timestamp:  2019-02-25T22:27:12Z
Repository: ConsultingMD/metropolis
PR #840: [# 164228987] ERROR - value too long for type character varying(255)

Description:
ERROR - value too long for type character varying(255)

[Tracker #164228987](https://www.pivotaltracker.com/story/show/164228987)

@nfoen @richardstanley @rakadutta-gr 


=====================================================
Timestamp:  2019-02-12T08:00:11Z
Repository: ConsultingMD/cross-check
PR #31: [# 163276277] As Grand Rounds, so that html data can be analyzed, create a parser from html to a csv file

Description:
As Grand Rounds, so that html data can be analyzed, create a parser from html to a csv file

[Tracker #163276277](https://www.pivotaltracker.com/story/show/163276277)

@rakadutta-gr 


=====================================================
Timestamp:  2019-02-07T23:35:00Z
Repository: ConsultingMD/engineering-deep
PR #806: [# 163806434] **Rekey engineering repo** so that Andy can keep working

Description:
**Rekey engineering repo** so that Andy can keep working

[Tracker #163806434](https://www.pivotaltracker.com/story/show/163806434)

@AndrewRayCode 


=====================================================
Timestamp:  2019-02-01T22:52:06Z
Repository: ConsultingMD/stone
PR #724: [# 163576758] Member doesnt see any HRA spending info

Description:
Member doesnt see any HRA spending info

[Tracker #163576758](https://www.pivotaltracker.com/story/show/163576758)

@bryanyee @mattfrey-gr 


=====================================================
Timestamp:  2019-01-16T20:05:51Z
Repository: ConsultingMD/jarvis
PR #11383: [# 163271082] Add alpha_prefix mapping for missing BCBS network for Walmart

Description:
Add alpha_prefix mapping for missing BCBS network for Walmart

[Tracker #163271082](https://www.pivotaltracker.com/story/show/163271082)

@bryanyee @mattfrey-gr @kartik-gr @jstrater 


=====================================================
Timestamp:  2019-01-16T07:18:18Z
Repository: ConsultingMD/tp
PR #1148: [# 162897721] Account for zip_codes longer than 5 digits for a member

Description:
Account for zip_codes longer than 5 digits for a member

[Tracker #162897721](https://www.pivotaltracker.com/story/show/162897721)

@bryanyee @kartik-gr 


=====================================================
Timestamp:  2019-01-05T01:52:01Z
Repository: ConsultingMD/tp
PR #1141: [# 162999410] ActionView::Template::Error: undefined method `downcase for #<Hash:0x000000000805eee0>

Description:
ActionView::Template::Error: undefined method `downcase for #<Hash:0x000000000805eee0>

[Tracker #162999410](https://www.pivotaltracker.com/story/show/162999410)

@bryanyee @kartik-gr 


=====================================================
Timestamp:  2019-01-05T00:19:43Z
Repository: ConsultingMD/jarvis
PR #11322: [# 162994229] NoMethodError: undefined method `  for nil:NilClass

Description:
NoMethodError: undefined method `  for nil:NilClass

[Tracker #162994229](https://www.pivotaltracker.com/story/show/162994229)

@bryanyee @kartik-gr @wyattEpp @mattfrey-gr 


=====================================================
Timestamp:  2018-12-31T23:50:37Z
Repository: ConsultingMD/tp
PR #1137: [# 162897721] Account for zip_codes longer than 5 digits for a member

Description:
Account for zip_codes longer than 5 digits for a member

[Tracker #162897721](https://www.pivotaltracker.com/story/show/162897721)

@bryanyee @nfoen @timz1290 @kartik-gr 


=====================================================
Timestamp:  2018-12-18T02:31:34Z
Repository: ConsultingMD/jarvis
PR #11244: [# 162721327] Add FF to display detailed plan_name in health_card_id for Walmart members

Description:
Add FF to display detailed plan_name in health_card_id for Walmart members

[Tracker #162721327](https://www.pivotaltracker.com/story/show/162721327)

@bryanyee @kartik-gr @mattfrey-gr @richardstanley 


=====================================================
Timestamp:  2018-12-18T01:05:35Z
Repository: ConsultingMD/jarvis
PR #11242: [# 162711581] Hide the TP link on the member profile for Phillips 66

Description:
Hide the TP link on the member profile for Phillips 66

[Tracker #162711581](https://www.pivotaltracker.com/story/show/162711581)

@bryanyee @kartik-gr @mattfrey-gr @richardstanley 


=====================================================
Timestamp:  2018-12-15T00:47:47Z
Repository: ConsultingMD/tp
PR #1133: [# 162627931] Grey out age and gender dropdowns on TP for facility searches

Description:
Grey out age and gender dropdowns on TP for facility searches

[Tracker #162627931](https://www.pivotaltracker.com/story/show/162627931)

@kartik-gr 


=====================================================
Timestamp:  2018-12-13T21:25:44Z
Repository: ConsultingMD/jarvis
PR #11217: [# 162650739] As a member without alpha prefix, so my plan info doesnt return a 500, **send null for alpha prefix in the requeset**

Description:
As a member without alpha prefix, so my plan info doesnt return a 500, **send null for alpha prefix in the requeset**

[Tracker #162650739](https://www.pivotaltracker.com/story/show/162650739)

@bryanyee @kartik-gr 
 


=====================================================
Timestamp:  2018-12-13T08:11:47Z
Repository: ConsultingMD/tp
PR #1130: [# 162628261] Show consistent # of decimal places on price ranges for TP

Description:
Show consistent # of decimal places on price ranges for TP

[Tracker #162628261](https://www.pivotaltracker.com/story/show/162628261)

@kartik-gr @bryanyee 


=====================================================
Timestamp:  2018-12-13T06:47:33Z
Repository: ConsultingMD/tp
PR #1129: [# 162626773] RuntimeError: Unrecognized type  for PublishSearchResultJob

Description:
RuntimeError: Unrecognized type  for PublishSearchResultJob

[Tracker #162626773](https://www.pivotaltracker.com/story/show/162626773)

@kartik-gr 


=====================================================
Timestamp:  2018-12-13T03:17:06Z
Repository: ConsultingMD/jarvis
PR #11210: [# 162627586] Send a 270 ping when a dependent has no primary

Description:
Send a 270 ping when a dependent has no primary

[Tracker #162627586](https://www.pivotaltracker.com/story/show/162627586)

@bryanyee @kartik-gr @wyattEpp @mattfrey-gr 


=====================================================
Timestamp:  2018-12-12T01:10:33Z
Repository: ConsultingMD/stone
PR #716: [# 162146377] As an engineer, so that all Walmart members contained in an eligibility file have insurance information, **update the PROVIDERS hash of the Walmart spec**

Description:
As an engineer, so that all Walmart members contained in an eligibility file have insurance information, **update the PROVIDERS hash of the Walmart spec**

[Tracker #162146377](https://www.pivotaltracker.com/story/show/162146377)

@coleleahy @cobbr2 @bryanyee @kartik-gr 


=====================================================
Timestamp:  2018-12-08T02:21:29Z
Repository: ConsultingMD/jarvis
PR #11182: [# 162523184] Send the correct relationship_code when youre a dependent

Description:
Send the correct relationship_code when youre a dependent

[Tracker #162523184](https://www.pivotaltracker.com/story/show/162523184)

@bryanyee @wyattEpp @mattfrey-gr @jstrater @kartik-gr 


=====================================================
Timestamp:  2018-12-06T22:20:27Z
Repository: ConsultingMD/tp
PR #1125: [# 162432139] Add service_id mappings for new procedure terms

Description:
Add service_id mappings for new procedure terms

[Tracker #162432139](https://www.pivotaltracker.com/story/show/162432139)

@kartik-gr @bryanyee @holly-do 

Adding the service_id mappings for the newly mapped procedure terms


=====================================================
Timestamp:  2018-12-05T18:55:37Z
Repository: ConsultingMD/tp
PR #1123: [# 162457819] Update CCH URL for Prod environment

Description:
Update CCH URL for Prod environment

[Tracker #162457819](https://www.pivotaltracker.com/story/show/162457819)

@bryanyee @kartik-gr 


=====================================================
Timestamp:  2018-12-03T23:33:37Z
Repository: ConsultingMD/tp
PR #1122: [# 162400460] Update expiration_date of FFs

Description:
Update expiration_date of FFs

[Tracker #162400460](https://www.pivotaltracker.com/story/show/162400460)

@eveshum @kartik-gr 


=====================================================
Timestamp:  2018-11-28T22:57:25Z
Repository: ConsultingMD/jarvis
PR #11116: [# 162103529] As a user, so I can view my health card id, **create a mapping for group_number**

Description:
As a user, so I can view my health card id, **create a mapping for group_number**

[Tracker #162103529](https://www.pivotaltracker.com/story/show/162103529)

@kartik-gr @bryanyee @mattfrey-gr @wyattEpp @jstrater 


=====================================================
Timestamp:  2018-11-27T21:42:50Z
Repository: ConsultingMD/metropolis
PR #752: [# 162254059] improve performance of load_canonical

Description:
improve performance of load_canonical

[Tracker #162254059](https://www.pivotaltracker.com/story/show/162254059)

@coleleahy few changes I did this past weekend to make this go after. Felt that they should be committed in.


=====================================================
Timestamp:  2018-11-22T01:18:44Z
Repository: ConsultingMD/jarvis
PR #11086: Feature/162106287/add alpha prefix mapping p66

Description:
Add alpha prefix mapping for P66

[Tracker #162106287](https://www.pivotaltracker.com/story/show/162106287)

@kartik-gr @bryanyee @wyattEpp @mattfrey-gr @jstrater 


=====================================================
Timestamp:  2018-11-16T23:04:44Z
Repository: ConsultingMD/metropolis
PR #742: [# 162026765] UnicodeEncodeError: ascii codec cant encode characters in position 98-101: ordinal not in range(128)

Description:
UnicodeEncodeError: ascii codec cant encode characters in position 98-101: ordinal not in range(128)

[Tracker #162026765](https://www.pivotaltracker.com/story/show/162026765)

@coleleahy @timz1290 


=====================================================
Timestamp:  2018-11-15T23:49:11Z
Repository: ConsultingMD/tp
PR #1105: [# 162001179] Add rack_mini_profiler to TP

Description:
Add rack_mini_profiler to TP

[Tracker #162001179](https://www.pivotaltracker.com/story/show/162001179)


=====================================================
Timestamp:  2018-11-13T18:58:33Z
Repository: ConsultingMD/jarvis
PR #11038: [# 161932406] As jarvis, so I can make calls to CCHs APIs, **store P66 payer_id mappings**

Description:
As jarvis, so I can make calls to CCHs APIs, **store P66 payer_id mappings**

[Tracker #161932406](https://www.pivotaltracker.com/story/show/161932406)

@kartik-gr @bryanyee @jstrater @mattfrey-gr @wyattEpp 


=====================================================
Timestamp:  2018-11-13T00:11:19Z
Repository: ConsultingMD/jarvis
PR #11034: [# 160436352] As TP, so that CCH client sends the correct request params, **pass real request fields to FairPrice and PriceRange endpoints**

Description:
As TP, so that CCH client sends the correct request params, **pass real request fields to FairPrice and PriceRange endpoints**

[Tracker #160436352](https://www.pivotaltracker.com/story/show/160436352)
TP PR: https://github.com/ConsultingMD/tp/pull/1091
@kartik-gr 


=====================================================
Timestamp:  2018-11-08T02:04:19Z
Repository: ConsultingMD/tp
PR #1096: [# 161007280] Add FF to use hashed customer_id from UAT in Dev

Description:
Add FF to use hashed customer_id from UAT in Dev

[Tracker #161007280](https://www.pivotaltracker.com/story/show/161007280)

Based off of https://github.com/ConsultingMD/tp/pull/1091 (To be merged after that PR)

@bryanyee @kartik-gr @wyattEpp @mattfrey-gr @jstrater 


=====================================================
Timestamp:  2018-11-07T01:12:57Z
Repository: ConsultingMD/tp
PR #1095: [# 161671535] Augment the existing PublishSearchResultJob to include information about the FP/PR for each individual provider

Description:
Augment the existing PublishSearchResultJob to include information about the FP/PR for each individual provider

[Tracker #161671535](https://www.pivotaltracker.com/story/show/161671535)

@kartik-gr @bryanyee @wyattEpp @jstrater @mattfrey-gr 

To be released (deployed) after Warehouse counterpart.

Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/465


=====================================================
Timestamp:  2018-11-07T00:43:24Z
Repository: ConsultingMD/warehouse
PR #465: [# 161671535] Augment the existing PublishSearchResultJob to include information about the FP/PR for each individual provider

Description:
Augment the existing PublishSearchResultJob to include information about the FP/PR for each individual provider

[Tracker #161671535](https://www.pivotaltracker.com/story/show/161671535)

@kartik-gr @bryanyee @ajuvekar @wyattEpp @jstrater @mattfrey-gr 

To be released (deployed) first before the TP counterpart.

TP PR: https://github.com/ConsultingMD/tp/pull/1095


=====================================================
Timestamp:  2018-11-06T21:23:41Z
Repository: ConsultingMD/jarvis
PR #11005: [# 161169811] As Jarvis, so that CCH client sends the correct request params, **pass real request fields to the member plan information request**

Description:
As Jarvis, so that CCH client sends the correct request params, **pass real request fields to the member plan information request**

[Tracker #161169811](https://www.pivotaltracker.com/story/show/161169811)

@bryanyee @wyattEpp @jstrater @mattfrey-gr @kartik-gr 


=====================================================
Timestamp:  2018-11-06T06:49:33Z
Repository: ConsultingMD/tp
PR #1091: [# 160436352] As TP, so that CCH client sends the correct request params, **pass real request fields to FairPrice and PriceRange endpoints**

Description:
As TP, so that CCH client sends the correct request params, **pass real request fields to FairPrice and PriceRange endpoints**

[Tracker #160436352](https://www.pivotaltracker.com/story/show/160436352)
Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/11034

@kartik-gr @bryanyee @wyattEpp @jstrater @mattfrey-gr 


=====================================================
Timestamp:  2018-10-10T21:36:17Z
Repository: ConsultingMD/marley
PR #984: [# 161135007] As marley, so that thoracic_park_filters_spec is fixed, edit the SF location to use a zipcode.

Description:
As marley, so that thoracic_park_filters_spec is fixed, edit the SF location to use a zipcode.

[Tracker #161135007](https://www.pivotaltracker.com/story/show/161135007)
@brianclin 


=====================================================
Timestamp:  2018-10-10T19:26:41Z
Repository: ConsultingMD/tp
PR #1069: [# 161034170] Update the grnds-feature_flag gem

Description:
Update the grnds-feature_flag gem

[Tracker #161034170](https://www.pivotaltracker.com/story/show/161034170)

@bryanyee @kartik-gr @richardstanley @jstrater @wyattEpp 


=====================================================
Timestamp:  2018-10-04T18:01:52Z
Repository: ConsultingMD/tp
PR #1064: [# 160996173] Update insurance_plans#hsa from boolean type to string

Description:
Update insurance_plans#hsa from boolean type to string

[Tracker #160996173](https://www.pivotaltracker.com/story/show/160996173)

@bryanyee @richardstanley @kartik-gr @jstrater @wyattEpp 


=====================================================
Timestamp:  2018-09-29T01:02:38Z
Repository: ConsultingMD/jarvis
PR #10777: [# 160863757] Use the CCH ApiKey from Vault

Description:
Use the CCH ApiKey from Vault

[Tracker #160863757](https://www.pivotaltracker.com/story/show/160863757)

@kartik-gr @richardstanley @bryanyee @jstrater @wyattEpp 

TP PR: https://github.com/ConsultingMD/tp/pull/1056


=====================================================
Timestamp:  2018-09-29T00:52:05Z
Repository: ConsultingMD/tp
PR #1056: [# 160863757] Use the CCH ApiKey from Vault

Description:
Use the CCH ApiKey from Vault

[Tracker #160863757](https://www.pivotaltracker.com/story/show/160863757)

@kartik-gr @richardstanley @bryanyee @jstrater @wyattEpp 

Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/10777


=====================================================
Timestamp:  2018-09-29T00:47:41Z
Repository: ConsultingMD/vault-tools
PR #7: [# 160500782] Configure CCH ApiKeys in Vault

Description:
Configure CCH ApiKeys in Vault

[Tracker #160500782](https://www.pivotaltracker.com/story/show/160500782)



=====================================================
Timestamp:  2018-09-13T22:50:56Z
Repository: ConsultingMD/metropolis
PR #709: [# 160496941] create_indices doesnt work for tables that have multiple indices

Description:
create_indices doesnt work for tables that have multiple indices

[Tracker #160496941](https://www.pivotaltracker.com/story/show/160496941)

@richardstanley @rsoma-grounds 


=====================================================
Timestamp:  2018-09-12T06:08:31Z
Repository: ConsultingMD/tp
PR #1051: [# 159610282] Augment TPs results page to optionally display FP  and  PR information

Description:
Augment TPs results page to optionally display FP  and  PR information

[Tracker #159610282](https://www.pivotaltracker.com/story/show/159610282)

@richardstanley @kartik-gr @bryanyee 


=====================================================
Timestamp:  2018-09-04T21:02:19Z
Repository: ConsultingMD/vault-tools
PR #5: [# 160268288] Configure LD per app basis and do not use a global token

Description:
Configure LD per app basis and do not use a global token

[Tracker #160268288](https://www.pivotaltracker.com/story/show/160268288)

@masonleung @kartik-gr @AndrewRayCode 


=====================================================
Timestamp:  2018-08-30T21:47:31Z
Repository: ConsultingMD/tp
PR #1045: [# 160080719] Remove references of DoctorImage

Description:
Remove references of DoctorImage

[Tracker #160080719](https://www.pivotaltracker.com/story/show/160080719)


=====================================================
Timestamp:  2018-08-27T23:08:07Z
Repository: ConsultingMD/tp
PR #1042: [# 160076979] Surface provider_images instead of doctor_images

Description:
Surface provider_images instead of doctor_images

[Tracker #160076979](https://www.pivotaltracker.com/story/show/160076979)

@bryanyee @richardstanley @timz1290 @nfoen @kartik-gr 


=====================================================
Timestamp:  2018-08-24T23:19:13Z
Repository: ConsultingMD/tp
PR #1041: [# 155447526] Add new input fields for expert query to enable non-MD/facility searches for TP CCs

Description:
Add new input fields for expert query to enable non-MD/facility searches for TP CCs

[Tracker #155447526](https://www.pivotaltracker.com/story/show/155447526)

@kartik-gr @richardstanley @bryanyee 


=====================================================
Timestamp:  2018-08-16T07:24:40Z
Repository: ConsultingMD/metropolis
PR #695: [# 159817243] An update to python-daemon is breaking deploys of airflow

Description:
An update to python-daemon is breaking deploys of airflow

[Tracker #159817243](https://www.pivotaltracker.com/story/show/159817243)
@macklin 


=====================================================
Timestamp:  2018-08-15T23:15:15Z
Repository: ConsultingMD/tp
PR #1035: [# 159609388]  Store a mapping between the gr procedure code to CCH service id

Description:
 Store a mapping between the gr procedure code to CCH service id

[Tracker #159609388](https://www.pivotaltracker.com/story/show/159609388)

@bryanyee @kartik-gr @richardstanley 


=====================================================
Timestamp:  2018-08-15T00:38:04Z
Repository: ConsultingMD/tp
PR #1034: [# 157438047] Remove unneeded network import methods from TP Importer::CsvImporter

Description:
Remove unneeded network import methods from TP Importer::CsvImporter

[Tracker #157438047](https://www.pivotaltracker.com/story/show/157438047)

@timz1290 


=====================================================
Timestamp:  2018-08-15T00:20:51Z
Repository: ConsultingMD/tp
PR #1033: [# 152153070] Remove remember_user_token for TP Rollbars

Description:
Remove remember_user_token for TP Rollbars

[Tracker #152153070](https://www.pivotaltracker.com/story/show/152153070)

@timz1290 @suwyn @abrons 


=====================================================
Timestamp:  2018-08-14T23:58:08Z
Repository: ConsultingMD/tp
PR #1032: [# 159379387] As a TP developer, so that I can use feature flags in TP, **add the feature-flagging gem to TPs Gemfile**

Description:
As a TP developer, so that I can use feature flags in TP, **add the feature-flagging gem to TPs Gemfile**

[Tracker #159379387](https://www.pivotaltracker.com/story/show/159379387)

@shaldengeki @kartik-gr 


=====================================================
Timestamp:  2018-08-13T22:30:21Z
Repository: ConsultingMD/tp
PR #1028: [# 159703133] When sourcing photos via an NPI list, **only source for providers that dont have provider images**

Description:
When sourcing photos via an NPI list, **only source for providers that dont have provider images**

[Tracker #159703133](https://www.pivotaltracker.com/story/show/159703133)

@richardstanley 


=====================================================
Timestamp:  2018-08-10T02:28:20Z
Repository: ConsultingMD/metropolis
PR #688: [# 159677317] Filter out non-MD providers where address_confidence != 1

Description:
Filter out non-MD providers where address_confidence != 1

[Tracker #159677317](https://www.pivotaltracker.com/story/show/159677317)

@richardstanley 


=====================================================
Timestamp:  2018-08-09T23:59:08Z
Repository: ConsultingMD/tp
PR #1026: [# 159538219] Create FP (Fair Price) Client

Description:
Create FP (Fair Price) Client

[Tracker #159538219](https://www.pivotaltracker.com/story/show/159538219)

@bryanyee @kartik-gr @richardstanley 


=====================================================
Timestamp:  2018-08-02T21:38:30Z
Repository: ConsultingMD/tp
PR #1021: [# 159506528] NoMethodError: undefined method `description for nil:NilClass

Description:
NoMethodError: undefined method `description for nil:NilClass

[Tracker #159506528](https://www.pivotaltracker.com/story/show/159506528)


=====================================================
Timestamp:  2018-08-02T00:28:28Z
Repository: ConsultingMD/tp
PR #1019: [# 157704672] Drop the doctor_searches materialized view

Description:
Drop the doctor_searches materialized view

[Tracker #157704672](https://www.pivotaltracker.com/story/show/157704672)

THIS SHOULD BE MERGED AFTER https://github.com/ConsultingMD/tp/pull/1018


=====================================================
Timestamp:  2018-08-01T20:43:41Z
Repository: ConsultingMD/tp
PR #1018: [# 157979019] Remove all mentions and uses of the doctor_searches table and DoctorSearchMatview class in TP

Description:
Remove all mentions and uses of the doctor_searches table and DoctorSearchMatview class in TP

[Tracker #157979019](https://www.pivotaltracker.com/story/show/157979019)

@timz1290 @kartik-gr @nfoen @richardstanley 


=====================================================
Timestamp:  2018-07-26T18:40:26Z
Repository: ConsultingMD/paparazzo
PR #11: [# 159323465] Add paparazzo to Circle CI

Description:
Add paparazzo to Circle CI

[Tracker #159323465](https://www.pivotaltracker.com/story/show/159323465)

@RoryO @kartik-gr @timz1290 @richardstanley 


=====================================================
Timestamp:  2018-07-25T22:23:44Z
Repository: ConsultingMD/paparazzo
PR #10: [# 155451182] Update doctor image importer to save provider images

Description:
Update doctor image importer to save provider images

[Tracker #155451182](https://www.pivotaltracker.com/story/show/155451182)

@nfoen @timz1290 @kartik-gr 


=====================================================
Timestamp:  2018-07-16T20:44:31Z
Repository: ConsultingMD/tp
PR #1011: [# 159086803] Add seeds for provider_sanctions

Description:
Add seeds for provider_sanctions

[Tracker #159086803](https://www.pivotaltracker.com/story/show/159086803)

@timz1290 @ethomson1 @bryanyee 


=====================================================
Timestamp:  2018-07-11T17:19:15Z
Repository: ConsultingMD/metropolis
PR #651: [# 158648190] Epic branch for generating gr_audits for provider based models from raw_audit_events

Description:
Epic branch for generating gr_audits for provider based models from raw_audit_events

[Tracker #158648190](https://www.pivotaltracker.com/story/show/158648190)

@richardstanley @timz1290 


=====================================================
Timestamp:  2018-07-10T01:31:00Z
Repository: ConsultingMD/tp
PR #1003: [# 158931808] Unable to enter fields in the medical tab

Description:
Unable to enter fields in the medical tab

[Tracker #158931808](https://www.pivotaltracker.com/story/show/158931808)

@bryanyee @RoryO @amulder87 


=====================================================
Timestamp:  2018-06-28T22:38:00Z
Repository: ConsultingMD/metropolis
PR #634: [# 158503013] Ship canonical.providers `never_recommend` column during refresh_tp_consumer and upload_world

Description:
Ship canonical.providerss `never_recommend` column during refresh_tp_consumer and upload_world

[Tracker #158503013](https://www.pivotaltracker.com/story/show/158503013)

@timz1290 @richardstanley @pwrose21 


=====================================================
Timestamp:  2018-06-28T21:33:40Z
Repository: ConsultingMD/tp
PR #990: [# 158502943] Add `never_recommend ` boolean column to providers

Description:
Add `never_recommend ` boolean column to providers

[Tracker #158502943](https://www.pivotaltracker.com/story/show/158502943)

@timz1290 @nfoen 


=====================================================
Timestamp:  2018-06-28T00:23:18Z
Repository: ConsultingMD/metropolis
PR #632: [# 155422685] Augment the load_gr_audits DAG so Providers are populated from the provider Warehouse Audit Events

Description:
Augment the load_gr_audits DAG so Providers are populated from the provider Warehouse Audit Events

[Tracker #155422685](https://www.pivotaltracker.com/story/show/155422685)

@richardstanley @timz1290 


=====================================================
Timestamp:  2018-06-27T01:39:41Z
Repository: ConsultingMD/metropolis
PR #630: [# 158649816] Reverse-TP records in the floyd. load history table are sometimes inserted with a NULL created_at timestamp

Description:
Reverse-TP records in the floyd. load history table are sometimes inserted with a NULL created_at timestamp

[Tracker #158649816](https://www.pivotaltracker.com/story/show/158649816)

@grlehman @BenLiyanage 


=====================================================
Timestamp:  2018-06-26T02:26:59Z
Repository: ConsultingMD/metropolis
PR #628: [# 158543589] Providers with a quality of -99 should be displayed with a score-rating of Not Recommended in a TP NPI Lookup

Description:
Providers with a quality of -99 should be displayed with a score-rating of Not Recommended in a TP NPI Lookup

[Tracker #158543589](https://www.pivotaltracker.com/story/show/158543589)

@dianeivy @pwrose21 @nfoen @richardstanley @timz1290 


=====================================================
Timestamp:  2018-06-25T19:38:49Z
Repository: ConsultingMD/tp
PR #986: [# 158543589] Providers with a quality of -99 should be displayed with a score-rating of Not Recommended in a TP NPI Lookup

Description:
Providers with a quality of -99 should be displayed with a score-rating of Not Recommended in a TP NPI Lookup

[Tracker #158543589](https://www.pivotaltracker.com/story/show/158543589)
@nfoen 


=====================================================
Timestamp:  2018-06-20T19:04:57Z
Repository: ConsultingMD/tp
PR #980: [# 158502943] Add `not_scorable` boolean column to providers

Description:
Add `not_scorable` boolean column to providers

[Tracker #158502943](https://www.pivotaltracker.com/story/show/158502943)

@kartik-gr @nfoen @richardstanley 


let's wait for a green pancakes stack before merging this


=====================================================
Timestamp:  2018-06-20T03:54:21Z
Repository: ConsultingMD/engineering-deep
PR #589: [# 158482699] As a developer, so that I can have access to stuff, re-key the engineering repo

Description:
As a developer, so that I can have access to stuff, re-key the engineering repo

[Tracker #158482699](https://www.pivotaltracker.com/story/show/158482699)

@vinaygoel make sure you can decrypt some of the files before merging.


=====================================================
Timestamp:  2018-06-14T07:16:42Z
Repository: ConsultingMD/tp
PR #973: [# 158300913] Getting 502 error when trying to save doctor_selection in reverse tp

Description:
Getting 502 error when trying to save doctor_selection in reverse tp

[Tracker #158300913](https://www.pivotaltracker.com/story/show/158300913)

This should fix all the timeout issues with reverse tp!

The previous query to fetch the Doctor was using unnecessary stuff and was very inefficient. Changed to use `includes` instead of `eager_load`. Using `includes` "smartly" decides what to use under the hood. [See this page for more info.](http://blog.scoutapp.com/articles/2017/01/24/activerecord-includes-vs-joins-vs-preload-vs-eager_load-when-and-where)

Verified this by fetching for many of the doctors that exhibited the timeout behavior from the helpdesk tickets on UAT and saw the request return substantially faster.

@nfoen @AndrewRayCode 


=====================================================
Timestamp:  2018-06-13T03:44:38Z
Repository: ConsultingMD/metropolis
PR #618: [# 158315697] AttributeError: NoneType object has no attribute fetchall

Description:
AttributeError: NoneType object has no attribute fetchall

[Tracker #158315697](https://www.pivotaltracker.com/story/show/158315697)

@richardstanley @dianeivy this cleanup I forgot to do in the original PR. I modified the code on the box and it ran successfully.


=====================================================
Timestamp:  2018-06-12T05:59:05Z
Repository: ConsultingMD/tp
PR #925: [# 157712614] TP GraphQL surfaces sanction data in the Provider Interface

Description:
TP GraphQL surfaces sanction data in the Provider Interface

[Tracker #157712614](https://www.pivotaltracker.com/story/show/157712614)

Alright my first graphql pr!

@nfoen @kartik-gr 

Let me know if this needs specs.


=====================================================
Timestamp:  2018-06-11T23:02:56Z
Repository: ConsultingMD/tp
PR #924: [# 158276641] We're displaying soft-deleted locations in the tp provider modal

Description:
Were displaying soft-deleted locations in the tp provider modal

[Tracker #158276641](https://www.pivotaltracker.com/story/show/158276641)

@nfoen @kartik-gr @timz1290 


=====================================================
Timestamp:  2018-06-11T23:00:55Z
Repository: ConsultingMD/tp
PR #923: [# 158269567] Locations added to a case are defaulting to the `encl` namespace

Description:
Locations added to a case are defaulting to the `encl` namespace

[Tracker #158269567](https://www.pivotaltracker.com/story/show/158269567)

@nfoen @kartik-gr @timz1290 

We're hardcoding the gr location to `encl` which was breaking the rtp update for those locations.


=====================================================
Timestamp:  2018-06-05T19:18:15Z
Repository: ConsultingMD/tp
PR #915: [# 158103704] TP filters search using location, specialty and insurance broken on pancakes 

Description:
TP filters search using location, specialty and insurance broken on pancakes 

[Tracker #158103704](https://www.pivotaltracker.com/story/show/158103704)

@madeleinegr 


=====================================================
Timestamp:  2018-06-04T21:53:56Z
Repository: ConsultingMD/tp
PR #913: [# 157945272] In TP, create tables to store sanction related data

Description:
In TP, create tables to store sanction related data

[Tracker #157945272](https://www.pivotaltracker.com/story/show/157945272)

@timz1290 @richardstanley @nfoen @kartik-gr 


=====================================================
Timestamp:  2018-06-01T22:19:29Z
Repository: ConsultingMD/metropolis
PR #598: [# 157712543] The provider pipeline should ship sanction data csvs during refresh_tp_consumer and upload_world

Description:
The provider pipeline should ship sanction data csvs during refresh_tp_consumer and upload_world

[Tracker #157712543](https://www.pivotaltracker.com/story/show/157712543)

To be merged after https://github.com/ConsultingMD/metropolis/pull/597

@richardstanley @timz1290 


=====================================================
Timestamp:  2018-06-01T22:13:41Z
Repository: ConsultingMD/metropolis
PR #597: [# 157712464] In Metropolis, augment the provider pipeline to surface sanction data in canonical

Description:
In Metropolis, augment the provider pipeline to surface sanction data in canonical

[Tracker #157712464](https://www.pivotaltracker.com/story/show/157712464)

@richardstanley @timz1290 


=====================================================
Timestamp:  2018-05-31T18:33:47Z
Repository: ConsultingMD/metropolis
PR #596: [# 151821496] Recreated materialized views during refresh_tp_consumer DAG do not have read permissions for the analytics team

Description:
Recreated materialized views during refresh_tp_consumer DAG do not have read permissions for the analytics team

[Tracker #151821496](https://www.pivotaltracker.com/story/show/151821496)

@timz1290 @richardstanley 


=====================================================
Timestamp:  2018-05-24T01:10:43Z
Repository: ConsultingMD/metropolis
PR #582: [# 157756579] Augment load_canonical profile_tables task to include more verifications for provider tables and doctor_practice_location_networks

Description:
Augment load_canonical profile_tables task to include more verifications for provider tables and provider_location_networks

[Tracker #157756579](https://www.pivotaltracker.com/story/show/157756579)

@timz1290 @richardstanley 


=====================================================
Timestamp:  2018-05-23T23:34:42Z
Repository: ConsultingMD/metropolis
PR #581: [# 157750043] Split load_gr_audits `load_audits` sql into individual tasks

Description:
Split load_gr_audits `load_audits` sql into individual tasks

[Tracker #157750043](https://www.pivotaltracker.com/story/show/157750043)

@timz1290 @richardstanley 


=====================================================
Timestamp:  2018-05-23T22:46:36Z
Repository: ConsultingMD/metropolis
PR #580: [# 157750012] Split load_enclaritys `load_normalized` task into individual tasks

Description:
Split load_enclaritys `load_normalized` task into individual tasks

[Tracker #157750012](https://www.pivotaltracker.com/story/show/157750012)

@timz1290 @richardstanley 


=====================================================
Timestamp:  2018-05-22T22:51:38Z
Repository: ConsultingMD/metropolis
PR #579: [# 155375065] Fix Airflow to read from s3 logs

Description:
Fix Airflow to read from s3 logs

[Tracker #155375065](https://www.pivotaltracker.com/story/show/155375065)

@timz1290 @richardstanley @runongirlrunon 


=====================================================
Timestamp:  2018-05-22T01:21:13Z
Repository: ConsultingMD/metropolis
PR #578: [# 157688501] augment load_visits_access to fail if there are duplicate entries.

Description:
augment load_visits_access to fail if there are duplicate entries.

[Tracker #157688501](https://www.pivotaltracker.com/story/show/157688501)

@timz1290 @richardstanley 


=====================================================
Timestamp:  2018-05-21T18:59:48Z
Repository: ConsultingMD/metropolis
PR #576: [# 157750834] Ship out all the medical_terms (physician, non_physician, facility)

Description:
Ship out all the medical_terms (physician, non_physician, facility)

[Tracker #157750834](https://www.pivotaltracker.com/story/show/157750834)

@dianeivy @timz1290 @richardstanley 


=====================================================
Timestamp:  2018-05-18T20:11:34Z
Repository: ConsultingMD/metropolis
PR #575: [# 157687099] Add onetime script to populate provider_location_id_mappings for gr_audits.provider_locations of type gr that have an entry in canonical.gr_location_to_encl_matches for an enclarity addr_key we no longer ship

Description:
Add onetime script to populate provider_location_id_mappings for gr_audits.provider_locations of type gr that have an entry in canonical.gr_location_to_encl_matches for an enclarity addr_key we no longer ship

[Tracker #157687099](https://www.pivotaltracker.com/story/show/157687099)

@timz1290 @richardstanley 


=====================================================
Timestamp:  2018-05-18T17:33:06Z
Repository: ConsultingMD/metropolis
PR #574: [# 157704044] ERROR - column reference "provider_id" is ambiguous

Description:
ERROR - column reference "provider_id" is ambiguous

[Tracker #157704044](https://www.pivotaltracker.com/story/show/157704044)

@Tiffanycheng14 


=====================================================
Timestamp:  2018-05-18T17:19:17Z
Repository: ConsultingMD/metropolis
PR #573: [# 157704044] ERROR - column reference "provider_id" is ambiguous

Description:
ERROR - column reference "provider_id" is ambiguous

[Tracker #157704044](https://www.pivotaltracker.com/story/show/157704044)

@Tiffanycheng14 


=====================================================
Timestamp:  2018-05-18T01:49:47Z
Repository: ConsultingMD/metropolis
PR #572: [# 157684931] ERROR - syntax error at or near "s"

Description:
ERROR - syntax error at or near "s"

[Tracker #157684931](https://www.pivotaltracker.com/story/show/157684931)

@timz1290 


=====================================================
Timestamp:  2018-05-18T00:46:23Z
Repository: ConsultingMD/frick
PR #476: [# 157670256] Warehouse and TP and Frick seem to be missing the X-Warehouse-Secret on Prod

Description:
Warehouse and TP and Frick seem to be missing the X-Warehouse-Secret on Prod

[Tracker #157670256](https://www.pivotaltracker.com/story/show/157670256)

@masonleung 


=====================================================
Timestamp:  2018-05-16T23:43:09Z
Repository: ConsultingMD/metropolis
PR #570: [# 157489130] So load_canonical is more performant, split all the sql scripts into separate tasks

Description:
So load_canonical is more performant, split all the sql scripts into separate tasks

[Tracker #157489130](https://www.pivotaltracker.com/story/show/157489130)

@timz1290 @richardstanley 

As step 1 split them all out into separate task, next step would be to have some of them run in parallel. (if we go forward with that approach, will be implemented in a separate story)


=====================================================
Timestamp:  2018-05-16T23:27:28Z
Repository: ConsultingMD/metropolis
PR #569: [# 157648117] augment medical_terms in refresh_tp_consumer to also export provider_type

Description:
augment medical_terms in refresh_tp_consumer to also export provider_type

[Tracker #157648117](https://www.pivotaltracker.com/story/show/157648117)

@timz1290 @richardstanley 


=====================================================
Timestamp:  2018-05-11T18:43:43Z
Repository: ConsultingMD/tp
PR #873: [# 157166776] Regenerate seeds dataset using the pancake end-to-end for demo purposes

Description:
Regenerate seeds dataset using the pancake end-to-end for demo purposes

[Tracker #157166776](https://www.pivotaltracker.com/story/show/157166776)

@timz1290 @nfoen @kartik-gr @etripier @bryanyee @haven-gr 


=====================================================
Timestamp:  2018-05-10T19:04:43Z
Repository: ConsultingMD/metropolis
PR #562: [# 157488633] pygrounds dependency is causing circleci builds to fail

Description:
pygrounds dependency is causing circleci builds to fail

[Tracker #157488633](https://www.pivotaltracker.com/story/show/157488633)

@timz1290 @dianeivy @macklin 


=====================================================
Timestamp:  2018-05-10T17:29:06Z
Repository: ConsultingMD/metropolis
PR #560: [# 157487261] ERROR - relation "gr_audit_locations" already exists

Description:
ERROR - relation "gr_audit_locations" already exists

[Tracker #157487261](https://www.pivotaltracker.com/story/show/157487261)

@timz1290 


=====================================================
Timestamp:  2018-05-10T01:28:31Z
Repository: ConsultingMD/metropolis
PR #559: [# 157440252] Add onetime script to populate <aetna/enclarity/zelis/visits_access>.provider_location_networks to successfully generate provider seeds

Description:
Add onetime script to populate <aetna/enclarity/zelis/visits_access>.provider_location_networks to successfully generate provider seeds

[Tracker #157440252](https://www.pivotaltracker.com/story/show/157440252)

@timz1290 @richardstanley 


=====================================================
Timestamp:  2018-05-04T00:08:00Z
Repository: ConsultingMD/metropolis
PR #547: [# 156776427] Augment the load_canonical DAG so provider_location_networks are populated

Description:
Augment the load_canonical DAG so provider_location_networks are populated

[Tracker #156776427](https://www.pivotaltracker.com/story/show/156776427)

@timz1290 @richardstanley 


=====================================================
Timestamp:  2018-04-26T22:27:40Z
Repository: ConsultingMD/jarvis
PR #9568: [# 157106311] Adding an insurance plan to the provider directory of a customer crashes Active Admin

Description:
Adding an insurance plan to the provider directory of a customer crashes Active Admin

[Tracker #157106311](https://www.pivotaltracker.com/story/show/157106311)

@timz1290 @etripier @nfoen 


=====================================================
Timestamp:  2018-04-17T22:15:30Z
Repository: ConsultingMD/metropolis
PR #522: [# 155422709] Integrate gr_audits Providers with Canonical

Description:
Integrate gr_audits Providers with Canonical

[Tracker #155422709](https://www.pivotaltracker.com/story/show/155422709)

@richardstanley @timz1290 


=====================================================
Timestamp:  2018-04-17T06:16:14Z
Repository: ConsultingMD/metropolis
PR #518: [# 155422565] Augment the load_canonical DAG so Provider_locations are populated from Zelis, Enclarity, and AMA

Description:
Augment the load_canonical DAG so Provider_locations are populated from Zelis, Enclarity, and AMA

[Tracker #155422565](https://www.pivotaltracker.com/story/show/155422565)

@richardstanley @timz1290 


=====================================================
Timestamp:  2018-04-16T19:44:28Z
Repository: ConsultingMD/tp
PR #839: [# 156713451] Regenerate seeds for provider models

Description:
Regenerate seeds for provider models

[Tracker #156713451](https://www.pivotaltracker.com/story/show/156713451)
@nfoen @timz1290 


=====================================================
Timestamp:  2018-04-16T19:04:43Z
Repository: ConsultingMD/tp
PR #838: [# 153306700] DNP Release 3

Description:
DNP Release 3

[Tracker #153306700](https://www.pivotaltracker.com/story/show/153306700)

@timz1290 @nfoen 


=====================================================
Timestamp:  2018-04-10T18:16:44Z
Repository: ConsultingMD/metropolis
PR #512: [# 156584807] Airflow load_enclarity DAG has been failing on update_geolocations

Description:
Airflow load_enclarity DAG has been failing on update_geolocations

[Tracker #156584807](https://www.pivotaltracker.com/story/show/156584807)

@timz1290 


=====================================================
Timestamp:  2018-04-04T04:09:38Z
Repository: ConsultingMD/metropolis
PR #506: [# 156491849] TemplateNotFound: enclarity/normalize_data/load_link_tables.sqlenclarity/normalize_data/load_doctor_practice_location_networks.sql

Description:
TemplateNotFound: enclarity/normalize_data/load_link_tables.sqlenclarity/normalize_data/load_doctor_practice_location_networks.sql

[Tracker #156491849](https://www.pivotaltracker.com/story/show/156491849)

@timz1290 https://rollbar.com/GrandRounds/airflow/items/152/


=====================================================
Timestamp:  2018-04-04T03:00:54Z
Repository: ConsultingMD/metropolis
PR #505: [# 156491195] NameError: name ReverseTpLoadHistoryDetail is not defined

Description:
NameError: name ReverseTpLoadHistoryDetail is not defined

[Tracker #156491195](https://www.pivotaltracker.com/story/show/156491195)

@timz1290 


=====================================================
Timestamp:  2018-03-29T03:35:05Z
Repository: ConsultingMD/metropolis
PR #501: [# 155422680] gr_audits provider models are generated from doctor models

Description:
gr_audits provider models are generated from doctor models

[Tracker #155422680](https://www.pivotaltracker.com/story/show/155422680)

@timz1290 @richardstanley 



=====================================================
Timestamp:  2018-03-26T00:10:23Z
Repository: ConsultingMD/metropolis
PR #493: [# 155422203] Augment the load_canonical DAG so Providers are populated from Zelis, Enclarity, and AMA

Description:
Augment the load_canonical DAG so Providers are populated from Zelis, Enclarity, and AMA

[Tracker #155422203](https://www.pivotaltracker.com/story/show/155422203)

@richardstanley @timz1290 


=====================================================
Timestamp:  2018-03-16T00:24:19Z
Repository: ConsultingMD/metropolis
PR #479: [# 155961417] Augment **load_canonical** to populate **canonical.provider_id_mappings** and **canonical.provider_location_id_mappings** with new ids

Description:
Augment **load_canonical** to populate **canonical.provider_id_mappings** and **canonical.provider_location_id_mappings** with new ids

[Tracker #155961417](https://www.pivotaltracker.com/story/show/155961417)

@richardstanley @timz1290 @nfoen 


=====================================================
Timestamp:  2018-03-14T03:28:18Z
Repository: ConsultingMD/engineering-deep
PR #492: [# 155963011] Add updated key to engineering repo

Description:
Add updated key to engineering repo

[Tracker #155963011](https://www.pivotaltracker.com/story/show/155963011)

@timz1290 @richardstanley @nfoen 


=====================================================
Timestamp:  2018-03-14T02:54:10Z
Repository: ConsultingMD/metropolis
PR #476: [# 155961190] Create **canonical.provider_id_mappings** and ** canonical.provider_location_id_mappings** to have unique ids for each provider_uid and provider_location uid

Description:
Create **canonical.provider_id_mappings** and ** canonical.provider_location_id_mappings** to have unique ids for each provider_uid and provider_location uid

[Tracker #155961190](https://www.pivotaltracker.com/story/show/155961190)

@richardstanley @timz1290 @nfoen 


=====================================================
Timestamp:  2018-03-10T01:42:22Z
Repository: ConsultingMD/metropolis
PR #472: [# 155422198] Investigate and deliver SQL script testing strategy for non-MD

Description:
Investigate and deliver SQL script testing strategy for non-MD

[Tracker #155422198](https://www.pivotaltracker.com/story/show/155422198)

@timz1290 @richardstanley 


=====================================================
Timestamp:  2018-03-02T19:45:38Z
Repository: ConsultingMD/metropolis
PR #457: [# 155664262] Get rid of duplicate (doctor_uid, network_uid, address_uid) triplets in doctor_practice_location_networks

Description:
Get rid of duplicate (doctor_uid, network_uid, address_uid) triplets in doctor_practice_location_networks

[Tracker #155664262](https://www.pivotaltracker.com/story/show/155664262)

@timz1290 


=====================================================
Timestamp:  2018-02-28T07:46:18Z
Repository: ConsultingMD/metropolis
PR #451: [# 155422116] Add migrations to create Provider baseball card tables

Description:
Add migrations to create Provider baseball card tables

[Tracker #155422116](https://www.pivotaltracker.com/story/show/155422116)

To be merged after https://github.com/ConsultingMD/metropolis/pull/450

@timz1290 @richardstanley @nfoen @kartik-gr @richardhaven-grandrounds 


=====================================================
Timestamp:  2018-02-28T07:19:08Z
Repository: ConsultingMD/metropolis
PR #450: [# 155422113] Add migrations to create misc provider tables

Description:
Add migrations to create misc provider tables

[Tracker #155422113](https://www.pivotaltracker.com/story/show/155422113)

To be merged after https://github.com/ConsultingMD/metropolis/pull/449

@timz1290 @richardstanley @nfoen @kartik-gr @richardhaven-grandrounds 


=====================================================
Timestamp:  2018-02-28T02:48:26Z
Repository: ConsultingMD/metropolis
PR #449: [# 155422104] Add migrations to create the Provider base tables

Description:
Add migrations to create the Provider base tables

[Tracker #155422104](https://www.pivotaltracker.com/story/show/155422104)

@timz1290 @richardstanley @nfoen @richardhaven-grandrounds @kartik-gr 

To be merged before https://github.com/ConsultingMD/metropolis/pull/450


=====================================================
Timestamp:  2018-02-23T08:48:27Z
Repository: ConsultingMD/metropolis
PR #444: [# 155459271] metropolis is red on circleci

Description:

[Tracker #155459271](https://www.pivotaltracker.com/story/show/155459271)

@timz1290 @richardstanley 


=====================================================
Timestamp:  2018-02-23T02:05:48Z
Repository: ConsultingMD/metropolis
PR #443: [# 155453984] Convert existing specs to pytest

Description:
Convert existing specs to pytest

[Tracker #155453984](https://www.pivotaltracker.com/story/show/155453984)

@timz1290 @rsoma-grounds @richardstanley 


=====================================================
Timestamp:  2018-02-21T20:16:48Z
Repository: ConsultingMD/metropolis
PR #440: [# 155408163] We dont need to run the airflow scheduler with `-n 5` anymore

Description:
We dont need to run the airflow scheduler with `-n 5` anymore

[Tracker #155408163](https://www.pivotaltracker.com/story/show/155408163)

@timz1290 @erccarls 


=====================================================
Timestamp:  2018-02-15T01:42:23Z
Repository: ConsultingMD/tp
PR #777: [# 155206127] Providers not in TP

Description:
Providers not in TP

[Tracker #155206127](https://www.pivotaltracker.com/story/show/155206127)

@timz1290 @nfoen 


=====================================================
Timestamp:  2018-02-14T00:10:55Z
Repository: ConsultingMD/metropolis
PR #433: [# 155207243] UnicodeEncodeError: ascii codec cant encode character \u2013 in position X

Description:
UnicodeEncodeError: ascii codec cant encode character \u2013 in position X

[Tracker #155207243](https://www.pivotaltracker.com/story/show/155207243)

@timz1290 @erccarls 


=====================================================
Timestamp:  2018-02-13T08:13:09Z
Repository: ConsultingMD/metropolis
PR #431: [# 155177192] PicklingError: Cant pickle <class boto3.resources.factory.s3.ObjectSummary>: attribute lookup s3.ObjectSummary on boto3.resources.factory failed

Description:
PicklingError: Cant pickle <class boto3.resources.factory.s3.ObjectSummary>: attribute lookup s3.ObjectSummary on boto3.resources.factory failed

[Tracker #155177192](https://www.pivotaltracker.com/story/show/155177192)

@timz1290 @erccarls @richardstanley 


=====================================================
Timestamp:  2018-02-10T01:03:11Z
Repository: ConsultingMD/metropolis
PR #428: [# 154950107] As airflow, so the national claims models continue to work, **update the national claims med views to work with the new schema**

Description:
As airflow, so the national claims models continue to work, **update the national claims med views to work with the new schema**

[Tracker #154950107](https://www.pivotaltracker.com/story/show/154950107)

@timz1290 @erccarls @richardstanley @rsoma-grounds 

To be merged after https://github.com/ConsultingMD/metropolis/pull/425


=====================================================
Timestamp:  2018-02-06T04:28:38Z
Repository: ConsultingMD/metropolis
PR #425: [# 154425531] As airflow, so the national claims models continue to work, **update the national claims pharma views to work with the new schema**

Description:
As airflow, so the national claims models continue to work, **update the national claims pharma views to work with the new schema**

[Tracker #154425531](https://www.pivotaltracker.com/story/show/154425531)

@timz1290 @richardstanley 

cc @erccarls 

To be merged after https://github.com/ConsultingMD/metropolis/pull/424


=====================================================
Timestamp:  2018-02-06T04:14:28Z
Repository: ConsultingMD/metropolis
PR #424: [# 154424420] As airflow, so I can ingest the claims/pharma files from Change Health, **update the national claims dags to work with the new schema**

Description:
As airflow, so I can ingest the claims/pharma files from Change Health, **update the national claims dags to work with the new schema**

[Tracker #154424420](https://www.pivotaltracker.com/story/show/154424420)
@timz1290 @richardstanley 

cc @erccarls 


=====================================================
Timestamp:  2018-02-01T03:15:43Z
Repository: ConsultingMD/metropolis
PR #420: [# 153646456] Add metropolis to Circle/CI

Description:
Add metropolis to Circle/CI

[Tracker #153646456](https://www.pivotaltracker.com/story/show/153646456)


=====================================================
Timestamp:  2018-01-31T02:43:36Z
Repository: ConsultingMD/tp
PR #771: [# 154789977] manifest has null values

Description:
manifest has null values

[Tracker #154789977](https://www.pivotaltracker.com/story/show/154789977)

@nfoen 


=====================================================
Timestamp:  2018-01-22T23:57:59Z
Repository: ConsultingMD/warehouse
PR #387: [# 152975933] drop expert_queries#network_group column

Description:
drop expert_queries#network_group column

[Tracker #152975933](https://www.pivotaltracker.com/story/show/152975933)

@timz1290 @nfoen 

TP PR: https://github.com/ConsultingMD/tp/pull/766


=====================================================
Timestamp:  2018-01-22T23:57:25Z
Repository: ConsultingMD/tp
PR #766: [# 152975933] drop expert_queries#network_group column

Description:
drop expert_queries#network_group column

[Tracker #152975933](https://www.pivotaltracker.com/story/show/152975933)

@timz1290 @nfoen 

Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/387


=====================================================
Timestamp:  2018-01-19T21:42:16Z
Repository: ConsultingMD/tp
PR #764: [# 154384554] Allow sourcing photos via list of NPIs

Description:
Allow sourcing photos via list of NPIs

[Tracker #154384554](https://www.pivotaltracker.com/story/show/154384554)

Also includes https://www.pivotaltracker.com/story/show/154384640

@nfoen @timz1290 


=====================================================
Timestamp:  2018-01-19T20:24:03Z
Repository: ConsultingMD/metropolis
PR #414: [# 152526716] DNP epic branch

Description:
DNP epic branch

[Tracker #152526716](https://www.pivotaltracker.com/story/show/152526716)

@timz1290 @nfoen 


=====================================================
Timestamp:  2018-01-17T01:09:13Z
Repository: ConsultingMD/tp
PR #761: [# 154385099] tp-setup failing in pancakes

Description:
tp-setup failing in pancakes

[Tracker #154385099](https://www.pivotaltracker.com/story/show/154385099)

@ryangilbert @ldinh1984 @timz1290 


=====================================================
Timestamp:  2018-01-11T19:39:14Z
Repository: ConsultingMD/tp
PR #759: [# 153933686] Add slugs to insurance plans

Description:
Add slugs to insurance plans

[Tracker #153933686](https://www.pivotaltracker.com/story/show/153933686)

@wyattEpp @jstrater @timz1290 

Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/8948


=====================================================
Timestamp:  2018-01-11T19:39:02Z
Repository: ConsultingMD/jarvis
PR #8948: [# 153933686] Add slugs to insurance plans

Description:
Add slugs to insurance plans

[Tracker #153933686](https://www.pivotaltracker.com/story/show/153933686)

@wyattEpp @jstrater @timz1290 

TP PR: https://github.com/ConsultingMD/tp/pull/759


=====================================================
Timestamp:  2018-01-11T01:15:20Z
Repository: ConsultingMD/engineering-deep
PR #456: [# 154233936] Rekey engineering for Richard Stanley keys

Description:
Rekey engineering for Richard Stanley keys

[Tracker #154233936](https://www.pivotaltracker.com/story/show/154233936)

@richardstanley 


=====================================================
Timestamp:  2017-12-21T01:19:44Z
Repository: ConsultingMD/metropolis
PR #410: [# 153273041] Change the flow for trigger canonical

Description:
Change the flow for trigger canonical

[Tracker #153273041](https://www.pivotaltracker.com/story/show/153273041)

@timz1290 @dianeivy 


=====================================================
Timestamp:  2017-12-21T00:02:51Z
Repository: ConsultingMD/metropolis
PR #409: [# 152134330] As a user of rTP, so I don't lose `doctor_networks` cc edits, **incorporate these into `gr_audits`

Description:
[Tracker #152134330](https://www.pivotaltracker.com/story/show/152134330)

@timz1290 @nfoen @alexaltair 


=====================================================
Timestamp:  2017-12-15T22:17:46Z
Repository: ConsultingMD/jarvis
PR #8875: [# 153268597] DNP Release 2

Description:
DNP Release 2

[Tracker #153268597](https://www.pivotaltracker.com/story/show/153268597)

@nfoen @timz1290 @alexaltair 

TP PR: https://github.com/ConsultingMD/tp/pull/755


=====================================================
Timestamp:  2017-12-15T22:15:39Z
Repository: ConsultingMD/tp
PR #755: [# 153268597] DNP Release 2

Description:
DNP Release 2

[Tracker #153268597](https://www.pivotaltracker.com/story/show/153268597)

@nfoen @timz1290 @alexaltair 

Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/8875


=====================================================
Timestamp:  2017-12-15T00:39:05Z
Repository: ConsultingMD/tp
PR #754: [# 153534865] ActiveRecord::StatementInvalid: PG::DuplicateTable: ERROR:  relation "doctor_searches_temp" already exists: CREATE MATERIALIZED VIEW doctor_searches_temp ASSELECT d.uid as doctor_uid,       d.first_name,       d.last_name,       d.gender,       d.qu

Description:

[Tracker #153534865](https://www.pivotaltracker.com/story/show/153534865)

@timz1290 


=====================================================
Timestamp:  2017-12-15T00:27:14Z
Repository: ConsultingMD/tp
PR #753: [# 153263585] We no longer need `db:seed` as a deploy task in TP

Description:
We no longer need `db:seed` as a deploy task in TP

[Tracker #153263585](https://www.pivotaltracker.com/story/show/153263585)

@timz1290 


=====================================================
Timestamp:  2017-12-15T00:17:50Z
Repository: ConsultingMD/tp
PR #752: [# 152134998] Drop `provider_networks#network_group`

Description:
[Tracker #152134998](https://www.pivotaltracker.com/story/show/152134998)
@nfoen @timz1290 


=====================================================
Timestamp:  2017-12-14T23:43:57Z
Repository: ConsultingMD/tp
PR #751: [# 152134931] Remove `network_group_uids` column from the `doctor_searches` materialized view

Description:
[Tracker #152134931](https://www.pivotaltracker.com/story/show/152134931)

@nfoen @timz1290 


=====================================================
Timestamp:  2017-12-13T10:06:05Z
Repository: ConsultingMD/tp
PR #750: [# 153628534] update provider_networks schlepper to backfill new combined network for walmart

Description:
update provider_networks schlepper to backfill new combined network for walmart

[Tracker #153628534](https://www.pivotaltracker.com/story/show/153628534)

@nfoen @timz1290 


=====================================================
Timestamp:  2017-12-12T02:27:47Z
Repository: ConsultingMD/jarvis
PR #8861: [# 151505006] send doctor_networks audit_events to warehouse

Description:
[Tracker #151505006](https://www.pivotaltracker.com/story/show/151505006)

@nfoen @timz1290 


=====================================================
Timestamp:  2017-12-12T02:27:40Z
Repository: ConsultingMD/tp
PR #749: [# 151505006] send doctor_networks audit_events to warehouse

Description:
[Tracker #151505006](https://www.pivotaltracker.com/story/show/151505006)

@nfoen @timz1290 


=====================================================
Timestamp:  2017-12-07T19:14:40Z
Repository: ConsultingMD/metropolis
PR #403: [# 152134276] As a user of canonical models, so I generate the latest canonical.doctor_practice_location_networks, **augment `load_canonical` dag to create `canonical.doctor_practice_location_networks`**

Description:
[Tracker #152134276](https://www.pivotaltracker.com/story/show/152134276)

@timz1290 @alexaltair @nfoen 


=====================================================
Timestamp:  2017-12-07T01:40:58Z
Repository: ConsultingMD/tp
PR #745: [# 153464443] query params from a batch request are not parsed correctly via grape

Description:

[Tracker #153464443](https://www.pivotaltracker.com/story/show/153464443)

@nfoen @timz1290 @alexaltair 


=====================================================
Timestamp:  2017-11-30T20:37:29Z
Repository: ConsultingMD/engineering-deep
PR #430: [# 153298368] Rekey for Ben

Description:
Rekey for Ben

[Tracker #153298368](https://www.pivotaltracker.com/story/show/153298368)

@BenLiyanage 


=====================================================
Timestamp:  2017-11-17T23:22:31Z
Repository: ConsultingMD/metropolis
PR #390: [# 152134651] As a user of canonical models, so I can ship `canonical.doctor_practice_location_networks` to TP, **augment `refresh_tp_consumer` dag to include the `canonical.doctor_practice_location_networks`** 

Description:
[Tracker #152134651](https://www.pivotaltracker.com/story/show/152134651)

@timz1290 @alexaltair @nfoen 


=====================================================
Timestamp:  2017-11-17T21:04:06Z
Repository: ConsultingMD/warehouse
PR #375: [# 146046823] deprecate expert_queries#network_group column

Description:
deprecate expert_queries#network_group column

[Tracker #146046823](https://www.pivotaltracker.com/story/show/146046823)
@timz1290  @nfoen 

TP PR: https://github.com/ConsultingMD/tp/pull/720


=====================================================
Timestamp:  2017-11-17T20:10:34Z
Repository: ConsultingMD/warehouse
PR #374: [# 151505006] send doctor_networks audit_events to warehouse

Description:
send doctor_networks audit_events to warehouse

[Tracker #151505006](https://www.pivotaltracker.com/story/show/151505006)
@timz1290  @nfoen 

TP PR: https://github.com/ConsultingMD/tp/pull/720


=====================================================
Timestamp:  2017-11-17T00:52:54Z
Repository: ConsultingMD/tp
PR #720: [# 146046823] deprecate expert_queries#network_group column

Description:

[Tracker #146046823](https://www.pivotaltracker.com/story/show/146046823)

@timz1290 @nfoen according to http://jakeyesbeck.com/2016/02/07/how-to-remove-a-column-with-zero-downtime-in-ruby-on-rails/ We don't need to remove the column from the cache anymore (TP is on Rails 4.2) so only need to remove any remaining references and drop the column.


=====================================================
Timestamp:  2017-11-16T03:03:42Z
Repository: ConsultingMD/metropolis
PR #389: [# 152130888] As a developer, so I can load the provider networks from a detected zelis file, **augment `load_zelis` dag to create the `zelis.doctor_practice_location_networks` table from that detected file**

Description:

[Tracker #152130888](https://www.pivotaltracker.com/story/show/152130888)

@timz1290 @alexaltair @nfoen 


=====================================================
Timestamp:  2017-11-14T23:09:07Z
Repository: ConsultingMD/tp
PR #718: [# 152868175] bump grnds-paparazzo gem on TP

Description:
bump grnds-paparazzo gem on TP

[Tracker #152868175](https://www.pivotaltracker.com/story/show/152868175)

@nfoen 


=====================================================
Timestamp:  2017-11-14T22:49:09Z
Repository: ConsultingMD/paparazzo
PR #9: [# 152833969] some google cs results dont have a title or snippet

Description:
some google cs results dont have a title or snippet

[Tracker #152833969](https://www.pivotaltracker.com/story/show/152833969)

@nfoen 


=====================================================
Timestamp:  2017-11-14T20:18:58Z
Repository: ConsultingMD/paparazzo
PR #8: [# 152833969] some google cs results dont have a title or snippet

Description:
some google cs results dont have a title or snippet

[Tracker #152833969](https://www.pivotaltracker.com/story/show/152833969)

@nfoen @timz1290 

```
[61] pry(main)> results.first
=> {"kind"=>"customsearch#result",
 "link"=>"https://www.abingtonhealth.org/app/files/public/img-doctor-FonslickJaneeA.jpg",
 "displayLink"=>"www.abingtonhealth.org",
 "snippet"=>"",
 "htmlSnippet"=>"",
 "mime"=>"image/jpeg",
 "image"=>
  {"contextLink"=>"https://www.abingtonhealth.org/our-locations/aoga/doctor-profile/doctor-janee-fonslick/",
   "height"=>200,
   "width"=>150,
   "byteSize"=>10525,
   "thumbnailLink"=>"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRV7RKG10jFplo_VGxzH6hd7cqvw1mKtXD4KwO2KxN725XV0ueqN0yEog",
   "thumbnailHeight"=>104,
   "thumbnailWidth"=>78}}
[62] pry(main)> results.first['title']
=> nil
```


=====================================================
Timestamp:  2017-11-14T01:04:23Z
Repository: ConsultingMD/metropolis
PR #386: [# 152130499] As a developer, so I can load newly detected Visits Access files, **create a `load_visits_access` dag**

Description:

[Tracker #152130499](https://www.pivotaltracker.com/story/show/152130499)

@timz1290 @alexaltair @nfoen 


=====================================================
Timestamp:  2017-11-09T03:14:14Z
Repository: ConsultingMD/jarvis
PR #8673: [# 151505006] send doctor_networks audit_events to warehouse

Description:
[Tracker #151505006](https://www.pivotaltracker.com/story/show/151505006)
@timz1290 

TP PR: https://github.com/ConsultingMD/tp/pull/713


=====================================================
Timestamp:  2017-11-07T01:52:25Z
Repository: ConsultingMD/tp
PR #713: [# 151505006] send doctor_networks audit_events to warehouse

Description:
send doctor_networks audit_events to warehouse

[Tracker #151505006](https://www.pivotaltracker.com/story/show/151505006)

Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/8673

@timz1290 @alexaltair 


=====================================================
Timestamp:  2017-11-04T00:14:41Z
Repository: ConsultingMD/metropolis
PR #383: [# 152130342] Create raw aetna file table

Description:
[Tracker #152130342](https://www.pivotaltracker.com/story/show/152130342)
@timz1290 @alexaltair 


=====================================================
Timestamp:  2017-11-03T00:38:59Z
Repository: ConsultingMD/metropolis
PR #379: [# 152130365] Create raw visits_access file table

Description:

[Tracker #152130365](https://www.pivotaltracker.com/story/show/152130365)
@timz1290 @alexaltair 


=====================================================
Timestamp:  2017-11-02T22:30:13Z
Repository: ConsultingMD/metropolis
PR #378: [# 152130840] As a developer, so I can load the provider networks from a detected enclarity file, **augment `load_enclarity` dag to create the `enclarity.doctor_practice_location_networks` table from that detected file**

Description:

[Tracker #152130840](https://www.pivotaltracker.com/story/show/152130840)
@timz1290 @alexaltair 

Created to an Epic branch given that we want all these changes to go in after https://www.pivotaltracker.com/story/show/152134672


=====================================================
Timestamp:  2017-10-31T23:58:25Z
Repository: ConsultingMD/metropolis
PR #374: [# 152130435] Create **<canonical/zelis/aetna/visits_access/enclarity>.doctor_practice_location_networks** tables

Description:

[Tracker #152130435](https://www.pivotaltracker.com/story/show/152130435)
@timz1290 @alexaltair @kartik-gr 


=====================================================
Timestamp:  2017-10-30T23:47:04Z
Repository: ConsultingMD/metropolis
PR #373: [# 152423403] As airflow, so I don't fill up the queue with a gazillion load_gr_audits dag runs, **only trigger the `load_gr_audits` dag if there isn't one already in the queue that's not running**

Description:

[Tracker #152423403](https://www.pivotaltracker.com/story/show/152423403)
@timz1290 


=====================================================
Timestamp:  2017-10-28T00:19:26Z
Repository: ConsultingMD/metropolis
PR #372: [# 152134169] As airflow, so I don't fill up the queue with a gazillion load_canonical dag runs, **only trigger the `load_canonical` dag if there isn't one already in the queue that's not running**

Description:

[Tracker #152134169](https://www.pivotaltracker.com/story/show/152134169)

@timz1290 @wenever 


=====================================================
Timestamp:  2017-10-25T01:55:38Z
Repository: ConsultingMD/metropolis
PR #365: [# 145635123] So a Provider Pipeline admin doesn't have to manually upload files to s3://grnds-analytics/imports, add tooling to DS/DE pipeline and airflow to automate delivery of enclarity FTP files to airflow

Description:

[Tracker #145635123](https://www.pivotaltracker.com/story/show/145635123)

@timz1290 


=====================================================
Timestamp:  2017-10-23T19:54:51Z
Repository: ConsultingMD/jarvis
PR #8603: [# 151773457] Unable to view reverse TP notes within case after saving rows

Description:
[Tracker #151773457](https://www.pivotaltracker.com/story/show/151773457)

@timz1290 

This is yet another one of the bugs found after ripping off DJ and only saving the doctor_selections on the jarvis side if all of the TP request were successful.

Issue at hand here is that before, we were not checking if the network checkbox was actually changed from it's current value, we would just add it. This would generate a request TpCommand to (add/delete doctor_network) and it would fail in some cases because that visits_access network was deleted (replaced with a new doctor_network import that didn't have it) from TP (due to our current way of doing imports, which will be fixed with DNP). 


=====================================================
Timestamp:  2017-10-20T07:22:50Z
Repository: ConsultingMD/tp
PR #709: [# 151503023] Add tp_verified to TP API for specialties, conditions and procedures

Description:

[Tracker #151503023](https://www.pivotaltracker.com/story/show/151503023)

@timz1290 


=====================================================
Timestamp:  2017-10-19T20:32:29Z
Repository: ConsultingMD/tp
PR #705: [# 152125495] Add quality and quality percent rank to physician representer

Description:

[Tracker #152125495](https://www.pivotaltracker.com/story/show/152125495)

@timz1290 


=====================================================
Timestamp:  2017-10-18T05:08:39Z
Repository: ConsultingMD/tp
PR #703: [# 152022544] As a member, if I am part of an Alt Network, I should only have access to the Alt Network when searching for providers in my home network and not add the Blue Card Network

Description:

[Tracker #152022544](https://www.pivotaltracker.com/story/show/152022544)

@timz1290 

Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/8569


=====================================================
Timestamp:  2017-10-18T05:08:07Z
Repository: ConsultingMD/jarvis
PR #8569: [# 152022544] As a member, if I am part of an Alt Network, I should only have access to the Alt Network when searching for providers in my home network and not add the Blue Card Network

Description:
[Tracker #152022544](https://www.pivotaltracker.com/story/show/152022544)

@timz1290 This will be hot-patched or cherry-picked to the current uat branch `rc/branch/2017-10-12 `

Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/703

![image](https://user-images.githubusercontent.com/1312796/31650208-2a80c4b0-b2cb-11e7-92ad-db314771c837.png)



=====================================================
Timestamp:  2017-10-12T19:06:55Z
Repository: ConsultingMD/tp
PR #700: [# 151925440] allow option to specify a `quality_lt` option in the query

Description:

[Tracker #151925440](https://www.pivotaltracker.com/story/show/151925440)

@timz1290 


=====================================================
Timestamp:  2017-10-10T21:53:23Z
Repository: ConsultingMD/tp
PR #699: [# 151029594] As a CC, so that I know about errors in saving doctor selections, **flash error messages on doctor selections**

Description:

[Tracker #151029594](https://www.pivotaltracker.com/story/show/151029594)
@timz1290 @wenever 

Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/8502


=====================================================
Timestamp:  2017-10-10T00:03:55Z
Repository: ConsultingMD/tp
PR #698: [# 151625240] When adding a practice location, check if there is a matching 'encl:' address_key (by geolocation) before generating a new 'gr:'

Description:

[Tracker #151625240](https://www.pivotaltracker.com/story/show/151625240)
@wenever @timz1290 


=====================================================
Timestamp:  2017-10-07T02:59:03Z
Repository: ConsultingMD/jarvis
PR #8516: [# 150937570] As a CC, so that I can make minor address edits to practice locations, **allow editing of the address_line_2 and display name fields**

Description:

[Tracker #150937570](https://www.pivotaltracker.com/story/show/150937570)
@wenever @timz1290 
Should be merged after https://github.com/ConsultingMD/jarvis/pull/8515

Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/697


=====================================================
Timestamp:  2017-10-07T02:58:52Z
Repository: ConsultingMD/tp
PR #697: [# 150937570] As a CC, so that I can make minor address edits to practice locations, **allow editing of the address_line_2 and display name fields**

Description:
[Tracker #150937570](https://www.pivotaltracker.com/story/show/150937570)
@wenever @timz1290 
Should be merged after https://github.com/ConsultingMD/tp/pull/696

Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/8516


=====================================================
Timestamp:  2017-10-07T00:38:46Z
Repository: ConsultingMD/jarvis
PR #8515: [# 151665777] As a CC, so that I can make edits on the address fields of practice locations, **surface `address_line_1`, `address_line_2`, city`,`state`, `zip` to the doctor selection model in TP (and Jarvis)**

Description:

[Tracker #151665777](https://www.pivotaltracker.com/story/show/151665777)
@wenever @timz1290 

Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/696


=====================================================
Timestamp:  2017-10-07T00:38:33Z
Repository: ConsultingMD/tp
PR #696: [# 151665777] As a CC, so that I can make edits on the address fields of practice locations, **surface `address_line_1`, `address_line_2`, city`,`state`, `zip` to the doctor selection model in TP (and Jarvis)**

Description:
[Tracker #151665777](https://www.pivotaltracker.com/story/show/151665777)
@wenever @timz1290 

Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/8515


=====================================================
Timestamp:  2017-10-05T00:11:19Z
Repository: ConsultingMD/jarvis
PR #8502: [# 151029594] As a CC, so that I know about errors in saving doctor selections, **flash error messages on doctor selections**

Description:

[Tracker #151029594](https://www.pivotaltracker.com/story/show/151029594)
@timz1290 @wenever 


=====================================================
Timestamp:  2017-10-04T03:03:34Z
Repository: ConsultingMD/jarvis
PR #8494: [# 151667005] Reverse TP Save Button Error

Description:

[Tracker #151667005](https://www.pivotaltracker.com/story/show/151667005)
@timz1290 @wenever 

Distance & Travel Time are only edited for the doctor selection (jarvis only), they don't generate TP Commands. We should've caught this one when testing.

https://rollbar.com/GrandRounds/jarvis/items/4887


=====================================================
Timestamp:  2017-10-03T01:53:48Z
Repository: ConsultingMD/tp
PR #688: [# 151618298] Improve photo quality by limiting how far down the list of search results we source from

Description:

[Tracker #151618298](https://www.pivotaltracker.com/story/show/151618298)

@timz1290 


=====================================================
Timestamp:  2017-09-29T21:03:31Z
Repository: ConsultingMD/jarvis
PR #8464: [# 150534833] As a CC, so that I can make edits on the address fields of practice locations, **surface `street`, `city`,`state`, `zip` to the doctor selection model in TP (and Jarvis)** 

Description:

[Tracker #150534833](https://www.pivotaltracker.com/story/show/150534833)

@timz1290 @wenever there was a bug in this story in that edits to old doctor_selections were broken, I restarted the story and here's the fix.


=====================================================
Timestamp:  2017-09-27T01:53:22Z
Repository: ConsultingMD/jarvis
PR #8447: [# 150534833] As a CC, so that I can make edits on the address fields of practice locations, **surface `street`, `city`,`state`, `zip` to the doctor selection model in TP (and Jarvis)** 

Description:

[Tracker #150534833](https://www.pivotaltracker.com/story/show/150534833)

@wenever @timz1290 

Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/685


=====================================================
Timestamp:  2017-09-27T01:53:00Z
Repository: ConsultingMD/tp
PR #685: [# 150534833] As a CC, so that I can make edits on the address fields of practice locations, **surface `street`, `city`,`state`, `zip` to the doctor selection model in TP (and Jarvis)** 

Description:
[Tracker #150534833](https://www.pivotaltracker.com/story/show/150534833)

@wenever @timz1290 

Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/8447


=====================================================
Timestamp:  2017-09-26T01:18:07Z
Repository: ConsultingMD/tp
PR #684: [# 151424987] We should only add to the manifest images that had a face detected on it or that are active images

Description:

[Tracker #151424987](https://www.pivotaltracker.com/story/show/151424987)

@timz1290 request by Rita. Although It just makes sense to do this


=====================================================
Timestamp:  2017-09-25T05:04:57Z
Repository: ConsultingMD/tp
PR #683: [# 151360465] manifest generated is not saving the right image_file_url

Description:

[Tracker #151360465](https://www.pivotaltracker.com/story/show/151360465)

@timz1290 


=====================================================
Timestamp:  2017-09-20T23:57:04Z
Repository: ConsultingMD/jarvis
PR #8408: [# 150535383] As a CC, so that I receive feedback right away on the success of my doctor selection edits, **modify the 'ResourceUpdatesJob' to be a direct request to TP**

Description:

[Tracker #150535383](https://www.pivotaltracker.com/story/show/150535383)

@wenever @timz1290 


=====================================================
Timestamp:  2017-09-19T22:44:58Z
Repository: ConsultingMD/tp
PR #682: [# 151233588] Add latest medical terms to TP dev seeds

Description:

[Tracker #151233588](https://www.pivotaltracker.com/story/show/151233588)

@jstrater 

Pancake Stack to AT: https://honesty.ci.grandrounds.com/pancakes/stacks/5467


=====================================================
Timestamp:  2017-09-19T20:34:37Z
Repository: ConsultingMD/tp
PR #681: [# 145655845] deprecate customer_plans

Description:

[Tracker #145655845](https://www.pivotaltracker.com/story/show/145655845)

@timz1290 


=====================================================
Timestamp:  2017-09-18T22:03:58Z
Repository: ConsultingMD/tp
PR #680: [# 147066051] Remove network_group_uid param from doctor match

Description:

[Tracker #147066051](https://www.pivotaltracker.com/story/show/147066051)

@timz1290 


=====================================================
Timestamp:  2017-09-18T22:03:54Z
Repository: ConsultingMD/jarvis
PR #8386: [# 147066051] Remove network_group_uid param from doctor match

Description:

[Tracker #147066051](https://www.pivotaltracker.com/story/show/147066051)

@timz1290 @etripier 


=====================================================
Timestamp:  2017-09-18T20:05:48Z
Repository: ConsultingMD/tp
PR #679: [# 151078875] As a CC, so that I can add practice locations that don't have an exact lat/long in google maps yet, **allow POSTS to the practice location endpoint that have street level information**

Description:

[Tracker #151078875](https://www.pivotaltracker.com/story/show/151078875)

@wenever @timz1290 


=====================================================
Timestamp:  2017-09-18T19:44:38Z
Repository: ConsultingMD/tp
PR #678: [# 151029519] As Sierra, so that I can get TP responses in one request, **implement batch api in TP**

Description:

[Tracker #151029519](https://www.pivotaltracker.com/story/show/151029519)

@timz1290 @wenever 


=====================================================
Timestamp:  2017-09-16T00:03:00Z
Repository: ConsultingMD/tp
PR #677: [# 151138991] As TP, So I have up to date provider data, update provider information with new network data from Enclarity for 9/2017

Description:

[Tracker #151138991](https://www.pivotaltracker.com/story/show/151138991)

@timz1290 


=====================================================
Timestamp:  2017-09-14T01:33:31Z
Repository: Netflix/batch_request_client
PR #5: use correct Ruby syntax to define the Hash

Description:
Addresses https://github.com/Netflix/batch_request_client/issues/4


=====================================================
Timestamp:  2017-09-13T22:54:21Z
Repository: ConsultingMD/tp
PR #676: [# 151072290] TP Insurance preferences auto-populating incorrectly

Description:

[Tracker #151072290](https://www.pivotaltracker.com/story/show/151072290)

@timz1290 


=====================================================
Timestamp:  2017-09-12T20:18:21Z
Repository: ConsultingMD/metropolis
PR #324: [# 150995919] Remove practice locations that are equal to or below a score of 89, so that we are not showing CCs and patients locations where a physician does not practice

Description:

[Tracker #150995919](https://www.pivotaltracker.com/story/show/150995919)
@timz1290 @dianeivy 


=====================================================
Timestamp:  2017-08-31T19:07:06Z
Repository: ConsultingMD/metropolis
PR #314: [# 149200699] If the last rTP action on a doctor_practice_location was a delete, when it's processed by the Provider Pipeline it hard deletes this record. Therefore, CCs can not restore this record anymore

Description:
[Tracker #149200699](https://www.pivotaltracker.com/story/show/149200699)

@wenever @timz1290 @dianeivy 


=====================================================
Timestamp:  2017-08-30T18:12:11Z
Repository: ConsultingMD/tp
PR #668: [# 149834967] As Jarvis, so that I can create a new doctor practice location, **create POST endpoint in TP to create practice locations for doctors**

Description:

[Tracker #149834967](https://www.pivotaltracker.com/story/show/149834967)

@wenever @timz1290 


=====================================================
Timestamp:  2017-08-29T18:50:31Z
Repository: ConsultingMD/tp
PR #666: [# 150504670] As TP, so that I can create new practice locations for physicians, ***create a gruid generation service***. 

Description:

[Tracker #150504670](https://www.pivotaltracker.com/story/show/150504670)

@timz1290 @wenever 


=====================================================
Timestamp:  2017-08-29T00:02:27Z
Repository: ConsultingMD/tp
PR #664: [# 150565522] As TP, So I have up to date provider data, update provider information with new network data from Enclarity for 8/2017

Description:

[Tracker #150565522](https://www.pivotaltracker.com/story/show/150565522)

@timz1290 


=====================================================
Timestamp:  2017-08-25T21:37:49Z
Repository: ConsultingMD/tp
PR #663: [# 145167905] As a PM / QA so that I can test features before UAT, add more doctor seed data to pancakes

Description:

[Tracker #145167905](https://www.pivotaltracker.com/story/show/145167905)

@timz1290 @jstrater @etripier 

I've added all the distinct doctors in Bay Area (from the zip_code list provided by @jwbd) to help you guys with testing.

Pancake stack created for acceptance testing: https://honesty.ci.grandrounds.com/pancakes/stacks/5135


=====================================================
Timestamp:  2017-08-23T22:15:03Z
Repository: ConsultingMD/tp
PR #661: [# 150498276] manifest file is not being uploaded

Description:

[Tracker #150498276](https://www.pivotaltracker.com/story/show/150498276)

@timz1290 


=====================================================
Timestamp:  2017-08-23T02:30:38Z
Repository: ConsultingMD/metropolis
PR #303: [# 149856501] As a user of canonical models, so that the models take the addition of new addresses into account, **readjust the canonical doctor_practice_location resolution including the temp table including new practice locations**

Description:

[Tracker #149856501](https://www.pivotaltracker.com/story/show/149856501)

@timz1290 @wenever


=====================================================
Timestamp:  2017-08-18T18:34:56Z
Repository: apache/airflow
PR #2533: add Grand Rounds to companies list

Description:
Dear Airflow maintainers,

Please accept this PR. I added Grand Rounds to the companies list. Also moved another one up to maintain the alphabetization.


=====================================================
Timestamp:  2017-08-17T23:19:04Z
Repository: ConsultingMD/engineering-deep
PR #379: [# 150347928] Symlink Richard Garcia's public key to the 'production-ipsec' directory

Description:

[Tracker #150347928](https://www.pivotaltracker.com/story/show/150347928)

@mfergus1 @matthewdpklanier @whiskeyjimbo @masonleung 


=====================================================
Timestamp:  2017-08-17T21:59:27Z
Repository: ConsultingMD/jarvis
PR #8176: [# 150342979] Add Spaces to Customer Names in TP

Description:

[Tracker #150342979](https://www.pivotaltracker.com/story/show/150342979)

@timz1290 


=====================================================
Timestamp:  2017-08-16T23:43:09Z
Repository: ConsultingMD/metropolis
PR #299: [# 149834587] Within the canonical resolution, **match and replace gr:uids with enclarity address_uids by latitude longitude**

Description:

[Tracker #149834587](https://www.pivotaltracker.com/story/show/149834587)

@timz1290 @wenever 


=====================================================
Timestamp:  2017-08-14T23:36:45Z
Repository: ConsultingMD/tp
PR #654: [# 150235139] When we get to one of these sites, stop sourcing licdn.com and googleusercontent.com, so that we do not end up with incorrect photos

Description:

[Tracker #150235139](https://www.pivotaltracker.com/story/show/150235139)

@timz1290 


=====================================================
Timestamp:  2017-08-14T22:37:50Z
Repository: ConsultingMD/paparazzo
PR #7: [# 150234902] Add additional websites to the blacklist so we are not sourcing from low quality sites

Description:

[Tracker #150234902](https://www.pivotaltracker.com/story/show/150234902)

@timz1290 
There's no need to bump up the version for this change. This is only for bookkeeping. I already applied the changes on the CSE API itself.

![image](https://user-images.githubusercontent.com/1312796/29294925-84a8b70a-8106-11e7-86cf-48cd924f883c.png)



=====================================================
Timestamp:  2017-08-11T00:16:45Z
Repository: ConsultingMD/metropolis
PR #293: [# 150155700] Add lat/long to gr_audit practice location table and corresponding load script.

Description:
[Tracker #150155700](https://www.pivotaltracker.com/story/show/150155700)
@wenever @timz1290 @dianeivy 


=====================================================
Timestamp:  2017-08-09T22:05:50Z
Repository: ConsultingMD/tp
PR #648: [# 150115594] add `doctor_photos` to the doctor_join_tables includes for expert_queries and physician_matches

Description:

[Tracker #150115594](https://www.pivotaltracker.com/story/show/150115594)
@timz1290 


=====================================================
Timestamp:  2017-08-09T20:58:00Z
Repository: ConsultingMD/tp
PR #646: [# 150103945] In TP, after submitting a search, the insurance plans dropdown is not properly populated

Description:

[Tracker #150103945](https://www.pivotaltracker.com/story/show/150103945)

@timz1290 


=====================================================
Timestamp:  2017-08-07T22:13:32Z
Repository: ConsultingMD/metropolis
PR #291: [# 149830913] As a patient, so that my address can be matched to an accurate address, **create encl_geolocation and encl_location_matches tables in canonical schema**.

Description:

[Tracker #149830913](https://www.pivotaltracker.com/story/show/149830913)

@wenever 


=====================================================
Timestamp:  2017-08-05T00:21:09Z
Repository: ConsultingMD/tp
PR #642: [# 145715651] create seeds for insurance_plans and provider_networks

Description:

[Tracker #145715651](https://www.pivotaltracker.com/story/show/145715651)

@bryanyee @jstrater @etripier adding seed insurance_plan for the hogwarts user

Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/8079


=====================================================
Timestamp:  2017-08-05T00:20:58Z
Repository: ConsultingMD/jarvis
PR #8079: [# 145715651] create seeds for insurance_plans and provider_networks

Description:
[Tracker #145715651](https://www.pivotaltracker.com/story/show/145715651)

@bryanyee @jstrater @etripier adding seed insurance_plan for the hogwarts user

TP PR: https://github.com/ConsultingMD/tp/pull/642

Pancake Stack created to acceptance test: https://honesty.ci.grandrounds.com/pancakes/stacks/4770


=====================================================
Timestamp:  2017-08-05T00:03:27Z
Repository: ConsultingMD/stone
PR #399: [# 149970449] Data is not showing up in AA for Costco and Walmart 

Description:

[Tracker #149970449](https://www.pivotaltracker.com/story/show/149970449)

@pfarrell 


=====================================================
Timestamp:  2017-08-03T01:16:43Z
Repository: ConsultingMD/tp
PR #641: [# 147947915] Update the physician match API to include the active doctor photo URL

Description:
Update the physician match API to include the active doctor photo URL

[Tracker #147947915](https://www.pivotaltracker.com/story/show/147947915)

@timz1290 @wenever @grlehman 


=====================================================
Timestamp:  2017-08-03T00:27:27Z
Repository: ConsultingMD/tp
PR #640: [# 147947839] Add TP task modification to copy images from UAT to production

Description:
Add TP task modification to copy images from UAT to production

[Tracker #147947839](https://www.pivotaltracker.com/story/show/147947839)

@timz1290 @wenever @grlehman 


=====================================================
Timestamp:  2017-07-27T00:12:50Z
Repository: ConsultingMD/stone
PR #390: [# 149611967] Duplicate Carrier Name Displayed in Provider Directory Mapping

Description:

[Tracker #149611967](https://www.pivotaltracker.com/story/show/149611967)

@timz1290 


=====================================================
Timestamp:  2017-07-26T22:35:25Z
Repository: ConsultingMD/tp
PR #638: [# 148696441] Add resize support for doctor images

Description:

[Tracker #148696441](https://www.pivotaltracker.com/story/show/148696441)

@timz1290 


=====================================================
Timestamp:  2017-07-25T23:01:40Z
Repository: ConsultingMD/tp
PR #635: [# 147947787] To enable porting photos from UAT to prod, create a csv manifest file of the task results

Description:

[Tracker #147947787](https://www.pivotaltracker.com/story/show/147947787)

@timz1290 


=====================================================
Timestamp:  2017-07-22T01:33:56Z
Repository: ConsultingMD/paparazzo
PR #6: [# 149341209] We need to encode the doctor's last_name so it doesn't blow up when there's a doctor with multiple words as part of their last_name

Description:

[Tracker #149341209](https://www.pivotaltracker.com/story/show/149341209)
@timz1290 


=====================================================
Timestamp:  2017-07-21T02:26:32Z
Repository: ConsultingMD/jarvis
PR #7964: [# 149186279] display the patient friendly plan_name and carrier_name in the  insurance tab on Sierra

Description:

[Tracker #149186279](https://www.pivotaltracker.com/story/show/149186279)

@timz1290 


=====================================================
Timestamp:  2017-07-19T23:57:09Z
Repository: ConsultingMD/jarvis
PR #7941: [# 149199391] Anna::Models::EligibilityInsurancePlans#for_customer should parse the response before feeding it to the representer

Description:

[Tracker #149199391](https://www.pivotaltracker.com/story/show/149199391)
@timz1290 


=====================================================
Timestamp:  2017-07-19T22:37:57Z
Repository: ConsultingMD/tp
PR #633: [# 149138689] **Update distance blending weights**, so that as a DM patient I am more able to find doctors I would like to go to

Description:

[Tracker #149138689](https://www.pivotaltracker.com/story/show/149138689)

@timz1290 


=====================================================
Timestamp:  2017-07-19T18:30:59Z
Repository: ConsultingMD/tp
PR #630: [# 147944271] As a patient, so I get valid doctor photos, add face detection validation to paparazzo and add the step in the tp task

Description:

[Tracker #147944271](https://www.pivotaltracker.com/story/show/147944271)
@timz1290 


=====================================================
Timestamp:  2017-07-18T19:32:56Z
Repository: ConsultingMD/paparazzo
PR #5: [# 147944271] As a patient, so I get valid doctor photos, add face detection validation to paparazzo and add the step in the tp task

Description:

[Tracker #147944271](https://www.pivotaltracker.com/story/show/147944271)
@timz1290 


=====================================================
Timestamp:  2017-07-13T22:18:54Z
Repository: ConsultingMD/jarvis
PR #7888: [# 148851093] So CSMs have more clarity around what fields are required, put a star next to required fields

Description:

[Tracker #148851093](https://www.pivotaltracker.com/story/show/148851093)

@timz1290 


=====================================================
Timestamp:  2017-07-12T23:53:46Z
Repository: ConsultingMD/tp
PR #625: [# 148797309] formulate insurance_plans and provider_networks model validation error messages in the server instead of the client

Description:

[Tracker #148797309](https://www.pivotaltracker.com/story/show/148797309)

@timz1290 


=====================================================
Timestamp:  2017-07-12T01:23:00Z
Repository: ConsultingMD/jarvis
PR #7868: [Tracker #147634745] Merge provider-directory-mapping-aa

Description:
@timz1290 @RoryO 

This is the Active Admin branch of the provider directory epic.

[Tracker #147634745](https://www.pivotaltracker.com/story/show/147634745)


=====================================================
Timestamp:  2017-07-11T03:37:34Z
Repository: ConsultingMD/stone
PR #380: [# 147118179] As an Anna Service provider, create a new GET endpoint, so callers can retrieve Provider-Directory mapping information

Description:

[Tracker #147118179](https://www.pivotaltracker.com/story/show/147118179)

@timz1290 @pfarrell 


=====================================================
Timestamp:  2017-07-07T19:36:01Z
Repository: ConsultingMD/jarvis
PR #7844: [# 148431773] Insurance info not updating for BBNC users during case creation

Description:
Insurance info not updating for BBNC users during case creation

[Tracker #148431773](https://www.pivotaltracker.com/story/show/148431773)

@timz1290 @runongirlrunon 


=====================================================
Timestamp:  2017-06-29T20:04:30Z
Repository: ConsultingMD/jarvis
PR #7794: [# 147973973] Add back the patient_zip logic to Jarvis (AA, DoctorMatch)

Description:
[Tracker #147973973](https://www.pivotaltracker.com/story/show/147973973)

@timz1290 


=====================================================
Timestamp:  2017-06-29T18:33:54Z
Repository: ConsultingMD/jarvis
PR #7792: [# 147973973] Add back the patient_zip logic to Jarvis (AA, DoctorMatch)

Description:

[Tracker #147973973](https://www.pivotaltracker.com/story/show/147973973)

@timz1290 


=====================================================
Timestamp:  2017-06-28T00:36:12Z
Repository: ConsultingMD/tp
PR #613: [# 147972669] Add back the patient_zip logic to TP

Description:

[Tracker #147972669](https://www.pivotaltracker.com/story/show/147972669)

@timz1290 


=====================================================
Timestamp:  2017-06-27T23:03:08Z
Repository: ConsultingMD/tp
PR #612: [# 147776561] As TP, So I have up to date provider network data, update existing Enclarity network group tags in TP for 6/2017

Description:

[Tracker #147776561](https://www.pivotaltracker.com/story/show/147776561)

@timz1290 


=====================================================
Timestamp:  2017-06-23T22:56:15Z
Repository: ConsultingMD/tp
PR #608: [# 146885409] Load new Strenuus data to Doctor_networks **In Prod by 7/1**

Description:

[Tracker #146885409](https://www.pivotaltracker.com/story/show/146885409)

@timz1290 


=====================================================
Timestamp:  2017-06-23T22:34:38Z
Repository: ConsultingMD/jarvis
PR #7751: [# 144990955] In AA, implement the edit insurance_plan mapping page

Description:

[Tracker #144990955](https://www.pivotaltracker.com/story/show/144990955)

@timz1290 


=====================================================
Timestamp:  2017-06-22T01:19:44Z
Repository: ConsultingMD/tp
PR #607: [# 147654397] TP - insurance, location and specialty test returns more results than expected

Description:

[Tracker #147654397](https://www.pivotaltracker.com/story/show/147654397)

@timz1290 


=====================================================
Timestamp:  2017-06-20T23:15:10Z
Repository: ConsultingMD/jarvis
PR #7727: [# 147561081] Add new customer plans to Doctor Match for JPMC Clinics **Launch 07/01/17**

Description:

[Tracker #147561081](https://www.pivotaltracker.com/story/show/147561081)

@timz1290 

TP PR: https://github.com/ConsultingMD/tp/pull/605


=====================================================
Timestamp:  2017-06-20T23:14:48Z
Repository: ConsultingMD/tp
PR #605: [# 147561081] Add new customer plans to Doctor Match for JPMC Clinics **Launch 07/01/17**

Description:
[Tracker #147561081](https://www.pivotaltracker.com/story/show/147561081)

@timz1290 

Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/7727


=====================================================
Timestamp:  2017-06-20T00:42:39Z
Repository: ConsultingMD/tp
PR #604: [# 147480951] NoMemoryError: failed to allocate memory when exporting table to s3

Description:

[Tracker #147480951](https://www.pivotaltracker.com/story/show/147480951)

@nfoen 


=====================================================
Timestamp:  2017-06-15T22:01:47Z
Repository: ConsultingMD/tp
PR #603: [# 147304081] Searching for a medical term with a comma produces a 422

Description:

[Tracker #147304081](https://www.pivotaltracker.com/story/show/147304081)

@etripier 

Feel free to test via swagger or end to end


=====================================================
Timestamp:  2017-06-15T02:26:02Z
Repository: ConsultingMD/tp
PR #602: [# 146950847] In TP, add a soft_delete column to insurance_plans, make imported_carrier_name and imported_plan_name not required

Description:

[Tracker #146950847](https://www.pivotaltracker.com/story/show/146950847)

@timz1290 


=====================================================
Timestamp:  2017-06-15T00:48:57Z
Repository: ConsultingMD/tp
PR #601: [# 146951715] In TP, send the insurance_plan_id in the expert_query search kinesis event

Description:

[Tracker #146951715](https://www.pivotaltracker.com/story/show/146951715)

@timz1290 

Looker PR: https://github.com/ConsultingMD/looker-master/pull/262
Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/339


=====================================================
Timestamp:  2017-06-15T00:48:39Z
Repository: ConsultingMD/warehouse
PR #339: [# 146951715] In TP, send the insurance_plan_id in the expert_query search kinesis event

Description:
[Tracker #146951715](https://www.pivotaltracker.com/story/show/146951715)

@timz1290 

TP PR: https://github.com/ConsultingMD/tp/pull/601
Looker PR: https://github.com/ConsultingMD/looker-master/pull/262



=====================================================
Timestamp:  2017-06-15T00:48:08Z
Repository: ConsultingMD/looker-master
PR #262: [# 146951715] In TP, send the insurance_plan_id in the expert_query search kinesis event

Description:
[Tracker #146951715](https://www.pivotaltracker.com/story/show/146951715)

@timz1290 

Jarvis PR: https://github.com/ConsultingMD/tp/pull/601
Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/339


=====================================================
Timestamp:  2017-06-14T14:28:01Z
Repository: ConsultingMD/jarvis
PR #7683: [# 144990811] In AA, for the view insurance_plan mapping page, display the customer insurance plans and provider networks from TP

Description:

[Tracker #144990811](https://www.pivotaltracker.com/story/show/144990811)

@timz1290 


=====================================================
Timestamp:  2017-06-13T07:07:18Z
Repository: ConsultingMD/tp
PR #599: [# 147049291] Remove patient_zip logic from TP

Description:

[Tracker #147049291](https://www.pivotaltracker.com/story/show/147049291)

@timz1290 


=====================================================
Timestamp:  2017-06-09T02:03:49Z
Repository: ConsultingMD/tp
PR #598: [# 146904001] In TP, add a new column to InsurancePlan to store the carrier_name as it was received from the eligibility file

Description:
[Tracker #146904001](https://www.pivotaltracker.com/story/show/146904001)

@timz1290 

https://github.com/ConsultingMD/jarvis/pull/7648


=====================================================
Timestamp:  2017-06-06T22:57:42Z
Repository: ConsultingMD/jarvis
PR #7614: [# 146555703] Add new customer plans to TP for JPMC **Launch 07/01/17**

Description:

[Tracker #146555703](https://www.pivotaltracker.com/story/show/146555703)

@timz1290 

renaming customer name.


=====================================================
Timestamp:  2017-06-06T00:54:29Z
Repository: ConsultingMD/tp
PR #597: [# 145002959] In TP, load the insurance_plans for the customer and populate the insurance dropdowns

Description:
[Tracker #145002959](https://www.pivotaltracker.com/story/show/145002959)
@timz1290 

To be merged to the epic branch: `provider-directory-mapping`
Branched off of https://github.com/ConsultingMD/tp/pull/593, so that PR needs to go in before this one.



=====================================================
Timestamp:  2017-06-05T20:57:12Z
Repository: ConsultingMD/jarvis
PR #7602: [# 146555703] Add new customer plans to TP for JPMC **Launch 07/01/17**

Description:

[Tracker #146555703](https://www.pivotaltracker.com/story/show/146555703)

@etripier @jstrater @bryanyee @timz1290 



=====================================================
Timestamp:  2017-06-05T20:02:45Z
Repository: ConsultingMD/tp
PR #596: [# 146555703] Add new customer plans to TP for JPMC **Launch 07/01/17**

Description:

[Tracker #146555703](https://www.pivotaltracker.com/story/show/146555703)
@timz1290 


=====================================================
Timestamp:  2017-05-30T23:53:35Z
Repository: ConsultingMD/tp
PR #595: [# 144991321] In TP, add endpoint to bulk create/edit insurance_plans and provider_networks

Description:

[Tracker #144991321](https://www.pivotaltracker.com/story/show/144991321)

@timz1290 


=====================================================
Timestamp:  2017-05-26T00:22:54Z
Repository: ConsultingMD/tp
PR #593: [# 144991453] In TP, add a new insurance_plan_id scope on doctor_search_matview

Description:
[Tracker #144991453](https://www.pivotaltracker.com/story/show/144991453)

@timz1290 


=====================================================
Timestamp:  2017-05-23T18:19:06Z
Repository: ConsultingMD/tp
PR #591: [# 145898601] When doing a network import, don't use AWS env to determine bucket location and make sure that TP prod can write to grnds-external-data

Description:

[Tracker #145898601](https://www.pivotaltracker.com/story/show/145898601)

@timz1290 

Other part of this story is to get set permission to allow TP Prod to write to the `grnds-external-data` bucket.


=====================================================
Timestamp:  2017-05-23T04:56:51Z
Repository: ConsultingMD/tp
PR #590: [# 145905305] Update TP readme with latest doctor_networks s3 url

Description:

[Tracker #145905305](https://www.pivotaltracker.com/story/show/145905305)

@timz1290 


=====================================================
Timestamp:  2017-05-17T21:55:31Z
Repository: ConsultingMD/tp
PR #589: [# 144991117] In TP, add an endpoint to retrieve a list of insurance plans for a customer

Description:

[Tracker #144991117](https://www.pivotaltracker.com/story/show/144991117)

@timz1290 


=====================================================
Timestamp:  2017-05-16T06:56:42Z
Repository: ConsultingMD/jarvis
PR #7471: [# 144991431] Send the  customer_id, eligibility_plan_name (for the patient) via the case context attributes to TP

Description:

[Tracker #144991431](https://www.pivotaltracker.com/story/show/144991431)
@timz1290 

TP: https://github.com/ConsultingMD/tp/pull/588


=====================================================
Timestamp:  2017-05-16T06:56:34Z
Repository: ConsultingMD/tp
PR #588: [# 144991431] Send the  customer_id, eligibility_plan_name (for the patient) via the case context attributes to TP

Description:
[Tracker #144991431](https://www.pivotaltracker.com/story/show/144991431)
@timz1290 

Jarvis: https://github.com/ConsultingMD/jarvis/pull/7471


=====================================================
Timestamp:  2017-05-12T20:51:07Z
Repository: ConsultingMD/tp
PR #587: [# 144972541] In TP, add insurance_plan_id and patient_state to expert_queries

Description:

[Tracker #144972541](https://www.pivotaltracker.com/story/show/144972541)

@timz1290 


=====================================================
Timestamp:  2017-05-11T00:12:23Z
Repository: ConsultingMD/tp
PR #586: [# 144963401] In TP, create the provider_networks table and model

Description:

[Tracker #144963401](https://www.pivotaltracker.com/story/show/144963401)

@timz1290 


=====================================================
Timestamp:  2017-05-10T05:58:57Z
Repository: ConsultingMD/tp
PR #585: [# 144963123] In TP, create the insurance_plan table and model

Description:

[Tracker #144963123](https://www.pivotaltracker.com/story/show/144963123)

@timz1290 


=====================================================
Timestamp:  2017-05-03T18:20:36Z
Repository: ConsultingMD/jarvis
PR #7413: [# 144393351] Product card not displayed when ahoy throws an error

Description:

[Tracker #144393351](https://www.pivotaltracker.com/story/show/144393351)
@nfoen 


=====================================================
Timestamp:  2017-05-02T22:36:59Z
Repository: ConsultingMD/journal
PR #7: [# 144393351] Product card not displayed when ahoy throws an error

Description:

[Tracker #144393351](https://www.pivotaltracker.com/story/show/144393351)
@nfoen 


=====================================================
Timestamp:  2017-04-18T23:27:24Z
Repository: ConsultingMD/jarvis
PR #7325: [# 142271141] As a PM, so I can get metrics on the meridian product card, track product card displayed in meridian

Description:
[Tracker #142271141](https://www.pivotaltracker.com/story/show/142271141)

@nfoen 


=====================================================
Timestamp:  2017-04-18T22:26:11Z
Repository: ConsultingMD/journal
PR #6: [# 143916995] track_event shouldn't fail if target params are not passed

Description:

[Tracker #143916995](https://www.pivotaltracker.com/story/show/143916995)

@nfoen 


=====================================================
Timestamp:  2017-04-17T19:03:41Z
Repository: richddr/looker-master
PR #5: Dev richard garcia np2x

Description:



=====================================================
Timestamp:  2017-04-17T19:02:54Z
Repository: ConsultingMD/looker-master
PR #239: [# 142269513] As a PM, so I can visualize the new metrics data, create a looker view for the new analytics warehouse tables

Description:
As a PM, so I can visualize the new metrics data, create a looker view for the new analytics warehouse tables

[Tracker #142269513](https://www.pivotaltracker.com/story/show/142269513)

@nfoen 


=====================================================
Timestamp:  2017-04-14T19:33:26Z
Repository: ConsultingMD/journal
PR #5: [# 143696649] As an Engineer, so I can send the same information when tracking an event via JS, send the target_id and target_type via the properties hash

Description:

[Tracker #143696649](https://www.pivotaltracker.com/story/show/143696649)

@nfoen 


=====================================================
Timestamp:  2017-04-13T22:33:33Z
Repository: ConsultingMD/warehouse
PR #319: [# 143625035] bump grnds-service across all our services

Description:
[Tracker #143625035](https://www.pivotaltracker.com/story/show/143625035)
@nfoen @007 
* tp: https://github.com/ConsultingMD/tp/pull/581
* black: https://github.com/ConsultingMD/black/pull/55
* metal: https://github.com/ConsultingMD/metal/pull/353
* stone: https://github.com/ConsultingMD/stone/pull/336
* honesty: https://github.com/ConsultingMD/honesty/pull/248
* jarvis: https://github.com/ConsultingMD/jarvis/pull/7307
* rogers: https://github.com/ConsultingMD/rogers/pull/212
* frick: https://github.com/ConsultingMD/frick/pull/403
* warehouse: https://github.com/ConsultingMD/warehouse/pull/319


=====================================================
Timestamp:  2017-04-13T22:33:14Z
Repository: ConsultingMD/frick
PR #403: [# 143625035] bump grnds-service across all our services

Description:
[Tracker #143625035](https://www.pivotaltracker.com/story/show/143625035)
@nfoen @007 
* tp: https://github.com/ConsultingMD/tp/pull/581
* black: https://github.com/ConsultingMD/black/pull/55
* metal: https://github.com/ConsultingMD/metal/pull/353
* stone: https://github.com/ConsultingMD/stone/pull/336
* honesty: https://github.com/ConsultingMD/honesty/pull/248
* jarvis: https://github.com/ConsultingMD/jarvis/pull/7307
* rogers: https://github.com/ConsultingMD/rogers/pull/212
* frick: https://github.com/ConsultingMD/frick/pull/403
* warehouse: https://github.com/ConsultingMD/warehouse/pull/319


=====================================================
Timestamp:  2017-04-13T22:32:53Z
Repository: ConsultingMD/rogers
PR #212: [# 143625035] bump grnds-service across all our services

Description:
[Tracker #143625035](https://www.pivotaltracker.com/story/show/143625035)
@nfoen @007 
* tp: https://github.com/ConsultingMD/tp/pull/581
* black: https://github.com/ConsultingMD/black/pull/55
* metal: https://github.com/ConsultingMD/metal/pull/353
* stone: https://github.com/ConsultingMD/stone/pull/336
* honesty: https://github.com/ConsultingMD/honesty/pull/248
* jarvis: https://github.com/ConsultingMD/jarvis/pull/7307
* rogers: https://github.com/ConsultingMD/rogers/pull/212
* frick: https://github.com/ConsultingMD/frick/pull/403
* warehouse: https://github.com/ConsultingMD/warehouse/pull/319


=====================================================
Timestamp:  2017-04-13T22:32:28Z
Repository: ConsultingMD/jarvis
PR #7307: [# 143625035] bump grnds-service across all our services

Description:
[Tracker #143625035](https://www.pivotaltracker.com/story/show/143625035)
@nfoen @007 
* tp: https://github.com/ConsultingMD/tp/pull/581
* black: https://github.com/ConsultingMD/black/pull/55
* metal: https://github.com/ConsultingMD/metal/pull/353
* stone: https://github.com/ConsultingMD/stone/pull/336
* honesty: https://github.com/ConsultingMD/honesty/pull/248
* jarvis: https://github.com/ConsultingMD/jarvis/pull/7307
* rogers: https://github.com/ConsultingMD/rogers/pull/212
* frick: https://github.com/ConsultingMD/frick/pull/403
* warehouse: https://github.com/ConsultingMD/warehouse/pull/319


=====================================================
Timestamp:  2017-04-13T22:31:58Z
Repository: ConsultingMD/honesty
PR #248: [# 143625035] bump grnds-service across all our services

Description:
[Tracker #143625035](https://www.pivotaltracker.com/story/show/143625035)
@nfoen @007 

* tp: https://github.com/ConsultingMD/tp/pull/581
* black: https://github.com/ConsultingMD/black/pull/55
* metal: https://github.com/ConsultingMD/metal/pull/353
* stone: https://github.com/ConsultingMD/stone/pull/336
* honesty: https://github.com/ConsultingMD/honesty/pull/248
* jarvis: https://github.com/ConsultingMD/jarvis/pull/7307
* rogers: https://github.com/ConsultingMD/rogers/pull/212
* frick: https://github.com/ConsultingMD/frick/pull/403
* warehouse: https://github.com/ConsultingMD/warehouse/pull/319


=====================================================
Timestamp:  2017-04-13T22:31:38Z
Repository: ConsultingMD/stone
PR #336: [# 143625035] bump grnds-service across all our services

Description:
[Tracker #143625035](https://www.pivotaltracker.com/story/show/143625035)
@nfoen @007 
* tp: https://github.com/ConsultingMD/tp/pull/581
* black: https://github.com/ConsultingMD/black/pull/55
* metal: https://github.com/ConsultingMD/metal/pull/353
* stone: https://github.com/ConsultingMD/stone/pull/336
* honesty: https://github.com/ConsultingMD/honesty/pull/248
* jarvis: https://github.com/ConsultingMD/jarvis/pull/7307
* rogers: https://github.com/ConsultingMD/rogers/pull/212
* frick: https://github.com/ConsultingMD/frick/pull/403
* warehouse: https://github.com/ConsultingMD/warehouse/pull/319


=====================================================
Timestamp:  2017-04-13T22:31:10Z
Repository: ConsultingMD/metal
PR #353: [# 143625035] bump grnds-service across all our services

Description:
[Tracker #143625035](https://www.pivotaltracker.com/story/show/143625035)
@nfoen @007 
* tp: https://github.com/ConsultingMD/tp/pull/581
* black: https://github.com/ConsultingMD/black/pull/55
* metal: https://github.com/ConsultingMD/metal/pull/353
* stone: https://github.com/ConsultingMD/stone/pull/336
* honesty: https://github.com/ConsultingMD/honesty/pull/248
* jarvis: https://github.com/ConsultingMD/jarvis/pull/7307
* rogers: https://github.com/ConsultingMD/rogers/pull/212
* frick: https://github.com/ConsultingMD/frick/pull/403
* warehouse: https://github.com/ConsultingMD/warehouse/pull/319


=====================================================
Timestamp:  2017-04-13T22:30:31Z
Repository: ConsultingMD/black
PR #55: [# 143625035] bump grnds-service across all our services

Description:
[Tracker #143625035](https://www.pivotaltracker.com/story/show/143625035)

@nfoen @007 
* tp: https://github.com/ConsultingMD/tp/pull/581
* black: https://github.com/ConsultingMD/black/pull/55
* metal: https://github.com/ConsultingMD/metal/pull/353
* stone: https://github.com/ConsultingMD/stone/pull/336
* honesty: https://github.com/ConsultingMD/honesty/pull/248
* jarvis: https://github.com/ConsultingMD/jarvis/pull/7307
* rogers: https://github.com/ConsultingMD/rogers/pull/212
* frick: https://github.com/ConsultingMD/frick/pull/403
* warehouse: https://github.com/ConsultingMD/warehouse/pull/319


=====================================================
Timestamp:  2017-04-13T22:27:52Z
Repository: ConsultingMD/tp
PR #581: [# 143625035] bump grnds-service across all our services

Description:
[Tracker #143625035](https://www.pivotaltracker.com/story/show/143625035)

@nfoen @007 

* tp: https://github.com/ConsultingMD/tp/pull/581
* black: https://github.com/ConsultingMD/black/pull/55
* metal: https://github.com/ConsultingMD/metal/pull/353
* stone: https://github.com/ConsultingMD/stone/pull/336
* honesty: https://github.com/ConsultingMD/honesty/pull/248
* jarvis: https://github.com/ConsultingMD/jarvis/pull/7307
* rogers: https://github.com/ConsultingMD/rogers/pull/212
* frick: https://github.com/ConsultingMD/frick/pull/403
* warehouse: https://github.com/ConsultingMD/warehouse/pull/319


=====================================================
Timestamp:  2017-04-12T23:20:51Z
Repository: ConsultingMD/service
PR #122: [# 143464383] As an engineer, so I can easily determine the type of a metric, implement a way of determining the type of a product_analytics_event_details value field

Description:

[Tracker #143464383](https://www.pivotaltracker.com/story/show/143464383)

@nfoen 


=====================================================
Timestamp:  2017-04-12T20:44:14Z
Repository: ConsultingMD/journal
PR #4: [# 142316777] As a PM, so I can send warehouse metrics from the new gem, integrate it with grnds-service WarehouseLoggingEvent

Description:

[Tracker #142316777](https://www.pivotaltracker.com/story/show/142316777)

@nfoen 


=====================================================
Timestamp:  2017-04-10T23:49:36Z
Repository: ConsultingMD/journal
PR #3: [# 142316777] As a PM, so I can send warehouse metrics from the new gem, integrate it with grnds-service WarehouseLoggingEvent

Description:

[Tracker #142316777](https://www.pivotaltracker.com/story/show/142316777)

@nfoen 


=====================================================
Timestamp:  2017-04-10T18:50:54Z
Repository: ConsultingMD/tp
PR #580: [# 143444615] Add new customer Plans to TP for Ball, Merz, Salesforce, KKR, and Realtor.com

Description:

[Tracker #143444615](https://www.pivotaltracker.com/story/show/143444615)

@nfoen 


=====================================================
Timestamp:  2017-04-10T18:41:10Z
Repository: ConsultingMD/warehouse
PR #317: [# 143442813] Add **visit_id** to *product_analytics_events*, **type** to *product_analytics_event_details*

Description:

[Tracker #143442813](https://www.pivotaltracker.com/story/show/143442813)

@nfoen 


=====================================================
Timestamp:  2017-04-05T23:59:52Z
Repository: ConsultingMD/frick
PR #402: [# 142712797] bump grnds-service across all our services

Description:
[Tracker #142712797](https://www.pivotaltracker.com/story/show/142712797)
@007 @nfoen 

 - jarvis: https://github.com/ConsultingMD/jarvis/pull/7261
 - honesty: https://github.com/ConsultingMD/honesty/pull/246
 - rogers: https://github.com/ConsultingMD/rogers/pull/209
 - warehouse: https://github.com/ConsultingMD/warehouse/pull/316
 - metal: https://github.com/ConsultingMD/metal/pull/352
 - black: https://github.com/ConsultingMD/black/pull/54
 - stone: https://github.com/ConsultingMD/stone/pull/330
 - tp: https://github.com/ConsultingMD/tp/pull/579
 - frick: https://github.com/ConsultingMD/frick/pull/402


=====================================================
Timestamp:  2017-04-05T23:43:11Z
Repository: ConsultingMD/tp
PR #579: [# 142712797] bump grnds-service across all our services

Description:
[Tracker #142712797](https://www.pivotaltracker.com/story/show/142712797)
@007 @nfoen 
 - jarvis: https://github.com/ConsultingMD/jarvis/pull/7261
 - honesty: https://github.com/ConsultingMD/honesty/pull/246
 - rogers: https://github.com/ConsultingMD/rogers/pull/209
 - warehouse: https://github.com/ConsultingMD/warehouse/pull/316
 - metal: https://github.com/ConsultingMD/metal/pull/352
 - black: https://github.com/ConsultingMD/black/pull/54
 - stone: https://github.com/ConsultingMD/stone/pull/330
 - tp: https://github.com/ConsultingMD/tp/pull/579
 - frick: https://github.com/ConsultingMD/frick/pull/402


=====================================================
Timestamp:  2017-04-05T23:42:58Z
Repository: ConsultingMD/stone
PR #330: [# 142712797] bump grnds-service across all our services

Description:
[Tracker #142712797](https://www.pivotaltracker.com/story/show/142712797)
@007 @nfoen 
 - jarvis: https://github.com/ConsultingMD/jarvis/pull/7261
 - honesty: https://github.com/ConsultingMD/honesty/pull/246
 - rogers: https://github.com/ConsultingMD/rogers/pull/209
 - warehouse: https://github.com/ConsultingMD/warehouse/pull/316
 - metal: https://github.com/ConsultingMD/metal/pull/352
 - black: https://github.com/ConsultingMD/black/pull/54
 - stone: https://github.com/ConsultingMD/stone/pull/330
 - tp: https://github.com/ConsultingMD/tp/pull/579
 - frick: https://github.com/ConsultingMD/frick/pull/402


=====================================================
Timestamp:  2017-04-05T23:42:40Z
Repository: ConsultingMD/black
PR #54: [# 142712797] bump grnds-service across all our services

Description:
[Tracker #142712797](https://www.pivotaltracker.com/story/show/142712797)
@007 @nfoen 
 - jarvis: https://github.com/ConsultingMD/jarvis/pull/7261
 - honesty: https://github.com/ConsultingMD/honesty/pull/246
 - rogers: https://github.com/ConsultingMD/rogers/pull/209
 - warehouse: https://github.com/ConsultingMD/warehouse/pull/316
 - metal: https://github.com/ConsultingMD/metal/pull/352
 - black: https://github.com/ConsultingMD/black/pull/54
 - stone: https://github.com/ConsultingMD/stone/pull/330
 - tp: https://github.com/ConsultingMD/tp/pull/579
 - frick: https://github.com/ConsultingMD/frick/pull/402


=====================================================
Timestamp:  2017-04-05T23:42:26Z
Repository: ConsultingMD/honesty
PR #246: [# 142712797] bump grnds-service across all our services

Description:
[Tracker #142712797](https://www.pivotaltracker.com/story/show/142712797)
@007 @nfoen 
 - jarvis: https://github.com/ConsultingMD/jarvis/pull/7261
 - honesty: https://github.com/ConsultingMD/honesty/pull/246
 - rogers: https://github.com/ConsultingMD/rogers/pull/209
 - warehouse: https://github.com/ConsultingMD/warehouse/pull/316
 - metal: https://github.com/ConsultingMD/metal/pull/352
 - black: https://github.com/ConsultingMD/black/pull/54
 - stone: https://github.com/ConsultingMD/stone/pull/330
 - tp: https://github.com/ConsultingMD/tp/pull/579
 - frick: https://github.com/ConsultingMD/frick/pull/402


=====================================================
Timestamp:  2017-04-05T23:42:12Z
Repository: ConsultingMD/jarvis
PR #7261: [# 142712797] bump grnds-service across all our services

Description:
[Tracker #142712797](https://www.pivotaltracker.com/story/show/142712797)
@007 @nfoen 
 - jarvis: https://github.com/ConsultingMD/jarvis/pull/7261
 - honesty: https://github.com/ConsultingMD/honesty/pull/246
 - rogers: https://github.com/ConsultingMD/rogers/pull/209
 - warehouse: https://github.com/ConsultingMD/warehouse/pull/316
 - metal: https://github.com/ConsultingMD/metal/pull/352
 - black: https://github.com/ConsultingMD/black/pull/54
 - stone: https://github.com/ConsultingMD/stone/pull/330
 - tp: https://github.com/ConsultingMD/tp/pull/579
 - frick: https://github.com/ConsultingMD/frick/pull/402


=====================================================
Timestamp:  2017-04-05T23:41:53Z
Repository: ConsultingMD/metal
PR #352: [# 142712797] bump grnds-service across all our services

Description:
[Tracker #142712797](https://www.pivotaltracker.com/story/show/142712797)
@007 @nfoen 
 - jarvis: https://github.com/ConsultingMD/jarvis/pull/7261
 - honesty: https://github.com/ConsultingMD/honesty/pull/246
 - rogers: https://github.com/ConsultingMD/rogers/pull/209
 - warehouse: https://github.com/ConsultingMD/warehouse/pull/316
 - metal: https://github.com/ConsultingMD/metal/pull/352
 - black: https://github.com/ConsultingMD/black/pull/54
 - stone: https://github.com/ConsultingMD/stone/pull/330
 - tp: https://github.com/ConsultingMD/tp/pull/579
 - frick: https://github.com/ConsultingMD/frick/pull/402


=====================================================
Timestamp:  2017-04-05T23:41:39Z
Repository: ConsultingMD/warehouse
PR #316: [# 142712797] bump grnds-service across all our services

Description:
[Tracker #142712797](https://www.pivotaltracker.com/story/show/142712797)
@007 @nfoen 
 - jarvis: https://github.com/ConsultingMD/jarvis/pull/7261
 - honesty: https://github.com/ConsultingMD/honesty/pull/246
 - rogers: https://github.com/ConsultingMD/rogers/pull/209
 - warehouse: https://github.com/ConsultingMD/warehouse/pull/316
 - metal: https://github.com/ConsultingMD/metal/pull/352
 - black: https://github.com/ConsultingMD/black/pull/54
 - stone: https://github.com/ConsultingMD/stone/pull/330
 - tp: https://github.com/ConsultingMD/tp/pull/579
 - frick: https://github.com/ConsultingMD/frick/pull/402


=====================================================
Timestamp:  2017-04-05T23:41:23Z
Repository: ConsultingMD/rogers
PR #209: [# 142712797] bump grnds-service across all our services

Description:
[Tracker #142712797](https://www.pivotaltracker.com/story/show/142712797)

@007 @nfoen 
 - jarvis: https://github.com/ConsultingMD/jarvis/pull/7261
 - honesty: https://github.com/ConsultingMD/honesty/pull/246
 - rogers: https://github.com/ConsultingMD/rogers/pull/209
 - warehouse: https://github.com/ConsultingMD/warehouse/pull/316
 - metal: https://github.com/ConsultingMD/metal/pull/352
 - black: https://github.com/ConsultingMD/black/pull/54
 - stone: https://github.com/ConsultingMD/stone/pull/330
 - tp: https://github.com/ConsultingMD/tp/pull/579
 - frick: https://github.com/ConsultingMD/frick/pull/402


=====================================================
Timestamp:  2017-04-04T22:05:33Z
Repository: ConsultingMD/tp
PR #578: [# 142436085] move the heartbeat jobs in TP to Rogers

Description:
[Tracker #142436085](https://www.pivotaltracker.com/story/show/142436085)

@007 @timz1290 

Corresponding Rogers PR: https://github.com/ConsultingMD/rogers/pull/208


=====================================================
Timestamp:  2017-04-04T22:05:30Z
Repository: ConsultingMD/rogers
PR #208: [# 142436085] move the heartbeat jobs in TP to Rogers

Description:
[Tracker #142436085](https://www.pivotaltracker.com/story/show/142436085)

@007 @timz1290 

Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/578


=====================================================
Timestamp:  2017-04-04T18:35:45Z
Repository: ConsultingMD/service
PR #121: [# 142136955] As a PM, so I can publish metric events to warehouse, create new WarehouseLoggingEvent

Description:

[Tracker #142136955](https://www.pivotaltracker.com/story/show/142136955)

@nfoen @zbodinger 


=====================================================
Timestamp:  2017-04-04T01:27:07Z
Repository: ConsultingMD/service
PR #120: [# 142643127] add rake task to create all streams in `grnds-service`

Description:

[Tracker #142643127](https://www.pivotaltracker.com/story/show/142643127)

@nfoen @zbodinger 


=====================================================
Timestamp:  2017-04-03T22:08:29Z
Repository: ConsultingMD/tp
PR #577: [# 142797483] When searching by procedures, doctors who have null quality procedure adjustment are not surfaced

Description:

[Tracker #142797483](https://www.pivotaltracker.com/story/show/142797483)

@nfoen in @timz1290's absence, very minor change. This is moving a where clause inside a join one. Issue surfaced when a new import was done from new data provided by Diane which included procedures that didn't have `quality_percentage_adjustment` value and no results surfaced. For that epic it was assumed that all procedures would have a `quality_percentage_adjustment` value. This is mostly a guard on our end.

I can test with @ritadchen 


=====================================================
Timestamp:  2017-03-30T22:32:59Z
Repository: ConsultingMD/service
PR #119: [# 142643127] add rake task to create all streams in `grnds-service`

Description:

[Tracker #142643127](https://www.pivotaltracker.com/story/show/142643127)

@cobbr2 @007 @nfoen 

third try's the charm


=====================================================
Timestamp:  2017-03-30T18:01:14Z
Repository: ConsultingMD/service
PR #118: [# 142643127] add rake task to create all streams in `grnds-service`

Description:

[Tracker #142643127](https://www.pivotaltracker.com/story/show/142643127)

@cobbr2 @007 @nfoen 


=====================================================
Timestamp:  2017-03-29T19:27:45Z
Repository: ConsultingMD/honesty
PR #243: [# 142633245] As an engineer, so that I don't hit an AWS KinesisStream creation limit, remove the stream creation code in Metal, bump grnd-service across all our services and add a deploy task for each required service to create the kinesis streams

Description:
[Tracker #142633245](https://www.pivotaltracker.com/story/show/142633245)
@007 @cobbr2 @nfoen 

  - metal: https://github.com/ConsultingMD/metal/pull/351
  - warehouse: https://github.com/ConsultingMD/warehouse/pull/313
  - black: https://github.com/ConsultingMD/black/pull/52
  - rogers: https://github.com/ConsultingMD/rogers/pull/203
  - jarvis: https://github.com/ConsultingMD/jarvis/pull/7223
  - stone: https://github.com/ConsultingMD/stone/pull/326
  - tp: https://github.com/ConsultingMD/tp/pull/574
  - frick: https://github.com/ConsultingMD/frick/pull/399
  - honesty: https://github.com/ConsultingMD/honesty/pull/243


=====================================================
Timestamp:  2017-03-29T19:27:02Z
Repository: ConsultingMD/frick
PR #399: [# 142633245] As an engineer, so that I don't hit an AWS KinesisStream creation limit, remove the stream creation code in Metal, bump grnd-service across all our services and add a deploy task for each required service to create the kinesis streams

Description:
[Tracker #142633245](https://www.pivotaltracker.com/story/show/142633245)
@007 @cobbr2 @nfoen 

  - metal: https://github.com/ConsultingMD/metal/pull/351
  - warehouse: https://github.com/ConsultingMD/warehouse/pull/313
  - black: https://github.com/ConsultingMD/black/pull/52
  - rogers: https://github.com/ConsultingMD/rogers/pull/203
  - jarvis: https://github.com/ConsultingMD/jarvis/pull/7223
  - stone: https://github.com/ConsultingMD/stone/pull/326
  - tp: https://github.com/ConsultingMD/tp/pull/574
  - frick: https://github.com/ConsultingMD/frick/pull/399
  - honesty: https://github.com/ConsultingMD/honesty/pull/243


=====================================================
Timestamp:  2017-03-29T19:26:25Z
Repository: ConsultingMD/tp
PR #574: [# 142633245] As an engineer, so that I don't hit an AWS KinesisStream creation limit, remove the stream creation code in Metal, bump grnd-service across all our services and add a deploy task for each required service to create the kinesis streams

Description:
[Tracker #142633245](https://www.pivotaltracker.com/story/show/142633245)
@007 @cobbr2 @nfoen 

  - metal: https://github.com/ConsultingMD/metal/pull/351
  - warehouse: https://github.com/ConsultingMD/warehouse/pull/313
  - black: https://github.com/ConsultingMD/black/pull/52
  - rogers: https://github.com/ConsultingMD/rogers/pull/203
  - jarvis: https://github.com/ConsultingMD/jarvis/pull/7223
  - stone: https://github.com/ConsultingMD/stone/pull/326
  - tp: https://github.com/ConsultingMD/tp/pull/574
  - frick: https://github.com/ConsultingMD/frick/pull/399
  - honesty: https://github.com/ConsultingMD/honesty/pull/243


=====================================================
Timestamp:  2017-03-29T19:16:03Z
Repository: ConsultingMD/jarvis
PR #7223: [# 142633245] As an engineer, so that I don't hit an AWS KinesisStream creation limit, remove the stream creation code in Metal, bump grnd-service across all our services and add a deploy task for each required service to create the kinesis streams

Description:
[Tracker #142633245](https://www.pivotaltracker.com/story/show/142633245)
@007 @cobbr2 @nfoen 

  - metal: https://github.com/ConsultingMD/metal/pull/351
  - warehouse: https://github.com/ConsultingMD/warehouse/pull/313
  - black: https://github.com/ConsultingMD/black/pull/52
  - rogers: https://github.com/ConsultingMD/rogers/pull/203
  - jarvis: https://github.com/ConsultingMD/jarvis/pull/7223
  - stone: https://github.com/ConsultingMD/stone/pull/326
  - tp: https://github.com/ConsultingMD/tp/pull/574
  - frick: https://github.com/ConsultingMD/frick/pull/399
  - honesty: https://github.com/ConsultingMD/honesty/pull/243


=====================================================
Timestamp:  2017-03-29T19:14:07Z
Repository: ConsultingMD/stone
PR #326: [# 142633245] As an engineer, so that I don't hit an AWS KinesisStream creation limit, remove the stream creation code in Metal, bump grnd-service across all our services and add a deploy task for each required service to create the kinesis streams

Description:
[Tracker #142633245](https://www.pivotaltracker.com/story/show/142633245)
@007 @cobbr2 @nfoen 

  - metal: https://github.com/ConsultingMD/metal/pull/351
  - warehouse: https://github.com/ConsultingMD/warehouse/pull/313
  - black: https://github.com/ConsultingMD/black/pull/52
  - rogers: https://github.com/ConsultingMD/rogers/pull/203
  - jarvis: https://github.com/ConsultingMD/jarvis/pull/7223
  - stone: https://github.com/ConsultingMD/stone/pull/326
  - tp: https://github.com/ConsultingMD/tp/pull/574
  - frick: https://github.com/ConsultingMD/frick/pull/399
  - honesty: https://github.com/ConsultingMD/honesty/pull/243


=====================================================
Timestamp:  2017-03-29T19:13:30Z
Repository: ConsultingMD/rogers
PR #203: [# 142633245] As an engineer, so that I don't hit an AWS KinesisStream creation limit, remove the stream creation code in Metal, bump grnd-service across all our services and add a deploy task for each required service to create the kinesis streams

Description:
[Tracker #142633245](https://www.pivotaltracker.com/story/show/142633245)
@007 @cobbr2 @nfoen 

  - metal: https://github.com/ConsultingMD/metal/pull/351
  - warehouse: https://github.com/ConsultingMD/warehouse/pull/313
  - black: https://github.com/ConsultingMD/black/pull/52
  - rogers: https://github.com/ConsultingMD/rogers/pull/203
  - jarvis: https://github.com/ConsultingMD/jarvis/pull/7223
  - stone: https://github.com/ConsultingMD/stone/pull/326
  - tp: https://github.com/ConsultingMD/tp/pull/574
  - frick: https://github.com/ConsultingMD/frick/pull/399
  - honesty: https://github.com/ConsultingMD/honesty/pull/243


=====================================================
Timestamp:  2017-03-29T19:12:57Z
Repository: ConsultingMD/black
PR #52: [# 142633245] As an engineer, so that I don't hit an AWS KinesisStream creation limit, remove the stream creation code in Metal, bump grnd-service across all our services and add a deploy task for each required service to create the kinesis streams

Description:
[Tracker #142633245](https://www.pivotaltracker.com/story/show/142633245)
@007 @cobbr2 @nfoen 

  - metal: https://github.com/ConsultingMD/metal/pull/351
  - warehouse: https://github.com/ConsultingMD/warehouse/pull/313
  - black: https://github.com/ConsultingMD/black/pull/52
  - rogers: https://github.com/ConsultingMD/rogers/pull/203
  - jarvis: https://github.com/ConsultingMD/jarvis/pull/7223
  - stone: https://github.com/ConsultingMD/stone/pull/326
  - tp: https://github.com/ConsultingMD/tp/pull/574
  - frick: https://github.com/ConsultingMD/frick/pull/399
  - honesty: https://github.com/ConsultingMD/honesty/pull/243


=====================================================
Timestamp:  2017-03-28T21:57:24Z
Repository: ConsultingMD/service
PR #117: [# 142643127] add rake task to create all streams in `grnds-service`

Description:

[Tracker #142643127](https://www.pivotaltracker.com/story/show/142643127)

@nfoen @007 @cobbr2 


=====================================================
Timestamp:  2017-03-28T21:12:01Z
Repository: ConsultingMD/warehouse
PR #313: [# 142633245] As an engineer, so that I don't hit an AWS KinesisStream creation limit, remove the stream creation code in Metal and add a deploy task in Warehouse to create the streams

Description:
[Tracker #142633245](https://www.pivotaltracker.com/story/show/142633245)
@007 @cobbr2 @nfoen 

  - metal: https://github.com/ConsultingMD/metal/pull/351
  - warehouse: https://github.com/ConsultingMD/warehouse/pull/313
  - black: https://github.com/ConsultingMD/black/pull/52
  - rogers: https://github.com/ConsultingMD/rogers/pull/203
  - jarvis: https://github.com/ConsultingMD/jarvis/pull/7223
  - stone: https://github.com/ConsultingMD/stone/pull/326
  - tp: https://github.com/ConsultingMD/tp/pull/574
  - frick: https://github.com/ConsultingMD/frick/pull/399
  - honesty: https://github.com/ConsultingMD/honesty/pull/243


=====================================================
Timestamp:  2017-03-28T21:11:55Z
Repository: ConsultingMD/metal
PR #351: [# 142633245] As an engineer, so that I don't hit an AWS KinesisStream creation limit, remove the stream creation code in Metal and add a deploy task in Warehouse to create the streams

Description:
[Tracker #142633245](https://www.pivotaltracker.com/story/show/142633245)
@007 @cobbr2 @nfoen 

  - metal: https://github.com/ConsultingMD/metal/pull/351
  - warehouse: https://github.com/ConsultingMD/warehouse/pull/313
  - black: https://github.com/ConsultingMD/black/pull/52
  - rogers: https://github.com/ConsultingMD/rogers/pull/203
  - jarvis: https://github.com/ConsultingMD/jarvis/pull/7223
  - stone: https://github.com/ConsultingMD/stone/pull/326
  - tp: https://github.com/ConsultingMD/tp/pull/574
  - frick: https://github.com/ConsultingMD/frick/pull/399
  - honesty: https://github.com/ConsultingMD/honesty/pull/243


=====================================================
Timestamp:  2017-03-27T23:04:08Z
Repository: ConsultingMD/frick
PR #398: [# 142359667] bump grnds-service across all our services

Description:

[Tracker #142359667](https://www.pivotaltracker.com/story/show/142359667)

@nfoen @007 @zbodinger 

Corresponding Metal PR: https://github.com/ConsultingMD/metal/pull/350
Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/7212
Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/312
Corresponding Stone PR: https://github.com/ConsultingMD/stone/pull/325
Corresponding Honesty PR: https://github.com/ConsultingMD/honesty/pull/242
Corresponding Black PR: https://github.com/ConsultingMD/black/pull/51
Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/573



=====================================================
Timestamp:  2017-03-27T23:02:18Z
Repository: ConsultingMD/warehouse
PR #312: [# 142359667] bump grnds-service across all our services

Description:
[Tracker #142359667](https://www.pivotaltracker.com/story/show/142359667)

@nfoen @007 @zbodinger 

Corresponding Metal PR: https://github.com/ConsultingMD/metal/pull/350
Corresponding Frick PR: https://github.com/ConsultingMD/frick/pull/398
Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/7212
Corresponding Stone PR: https://github.com/ConsultingMD/stone/pull/325
Corresponding Honesty PR: https://github.com/ConsultingMD/honesty/pull/242
Corresponding Black PR: https://github.com/ConsultingMD/black/pull/51
Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/573


=====================================================
Timestamp:  2017-03-27T23:00:44Z
Repository: ConsultingMD/stone
PR #325: [# 142359667] bump grnds-service across all our services

Description:
[Tracker #142359667](https://www.pivotaltracker.com/story/show/142359667)

@nfoen @007 @zbodinger 

Corresponding Metal PR: https://github.com/ConsultingMD/metal/pull/350
Corresponding Frick PR: https://github.com/ConsultingMD/frick/pull/398
Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/312
Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/7212
Corresponding Honesty PR: https://github.com/ConsultingMD/honesty/pull/242
Corresponding Black PR: https://github.com/ConsultingMD/black/pull/51
Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/573



=====================================================
Timestamp:  2017-03-27T22:59:34Z
Repository: ConsultingMD/tp
PR #573: [# 142359667] bump grnds-service across all our services

Description:
[Tracker #142359667](https://www.pivotaltracker.com/story/show/142359667)

@nfoen @007 @zbodinger 

Corresponding Metal PR: https://github.com/ConsultingMD/metal/pull/350
Corresponding Frick PR: https://github.com/ConsultingMD/frick/pull/398
Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/312
Corresponding Stone PR: https://github.com/ConsultingMD/stone/pull/325
Corresponding Honesty PR: https://github.com/ConsultingMD/honesty/pull/242
Corresponding Black PR: https://github.com/ConsultingMD/black/pull/51
Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/7212



=====================================================
Timestamp:  2017-03-27T22:58:04Z
Repository: ConsultingMD/metal
PR #350: [# 142359667] bump grnds-service across all our services

Description:
[Tracker #142359667](https://www.pivotaltracker.com/story/show/142359667)

@nfoen @007 @zbodinger 

Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/7212
Corresponding Frick PR: https://github.com/ConsultingMD/frick/pull/398
Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/312
Corresponding Stone PR: https://github.com/ConsultingMD/stone/pull/325
Corresponding Honesty PR: https://github.com/ConsultingMD/honesty/pull/242
Corresponding Black PR: https://github.com/ConsultingMD/black/pull/51
Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/573



=====================================================
Timestamp:  2017-03-27T22:57:17Z
Repository: ConsultingMD/black
PR #51: [# 142359667] bump grnds-service across all our services

Description:
[Tracker #142359667](https://www.pivotaltracker.com/story/show/142359667)

@nfoen @007 @zbodinger 

Corresponding Metal PR: https://github.com/ConsultingMD/metal/pull/350
Corresponding Frick PR: https://github.com/ConsultingMD/frick/pull/398
Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/312
Corresponding Stone PR: https://github.com/ConsultingMD/stone/pull/325
Corresponding Honesty PR: https://github.com/ConsultingMD/honesty/pull/242
Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/7212
Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/573



=====================================================
Timestamp:  2017-03-27T22:56:43Z
Repository: ConsultingMD/honesty
PR #242: [# 142359667] bump grnds-service across all our services

Description:
[Tracker #142359667](https://www.pivotaltracker.com/story/show/142359667)

@nfoen @007 @zbodinger 

Corresponding Metal PR: https://github.com/ConsultingMD/metal/pull/350
Corresponding Frick PR: https://github.com/ConsultingMD/frick/pull/398
Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/312
Corresponding Stone PR: https://github.com/ConsultingMD/stone/pull/325
Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/7212
Corresponding Black PR: https://github.com/ConsultingMD/black/pull/51
Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/573



=====================================================
Timestamp:  2017-03-27T22:56:28Z
Repository: ConsultingMD/jarvis
PR #7212: [# 142359667] bump grnds-service across all our services

Description:
[Tracker #142359667](https://www.pivotaltracker.com/story/show/142359667)

@nfoen @007 @zbodinger 

Corresponding Metal PR: https://github.com/ConsultingMD/metal/pull/350
Corresponding Frick PR: https://github.com/ConsultingMD/frick/pull/398
Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/312
Corresponding Stone PR: https://github.com/ConsultingMD/stone/pull/325
Corresponding Honesty PR: https://github.com/ConsultingMD/honesty/pull/242
Corresponding Black PR: https://github.com/ConsultingMD/black/pull/51
Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/573



=====================================================
Timestamp:  2017-03-27T21:48:09Z
Repository: ConsultingMD/service
PR #116: [# 142556247] remove version lock for facter gem in grnds-service in order to bump grnds-service successfully in jarvis

Description:

[Tracker #142556247](https://www.pivotaltracker.com/story/show/142556247)

@nfoen @007 @zbodinger 

need this in order to bump grnds-service in jarvis. See ticket for details.


=====================================================
Timestamp:  2017-03-24T22:17:58Z
Repository: ConsultingMD/rogers
PR #201: [# 142333001] As an engineer, so that I know when the warehouse logging stream stopped working, add an alarm and heartbeat

Description:
[Tracker #142333001](https://www.pivotaltracker.com/story/show/142333001)

@007 @nfoen @zbodinger 

Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/309
Corresponding Metal PR: https://github.com/ConsultingMD/metal/pull/345
Corresponding Puppet PR: https://github.com/ConsultingMD/puppet/pull/350



=====================================================
Timestamp:  2017-03-24T22:17:48Z
Repository: ConsultingMD/metal
PR #345: [# 142333001] As an engineer, so that I know when the warehouse logging stream stopped working, add an alarm and heartbeat

Description:
[Tracker #142333001](https://www.pivotaltracker.com/story/show/142333001)

@007 @nfoen @zbodinger 

Corresponding Rogers PR: https://github.com/ConsultingMD/rogers/pull/201
Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/309
Corresponding Puppet PR: https://github.com/ConsultingMD/puppet/pull/350



=====================================================
Timestamp:  2017-03-24T22:17:28Z
Repository: ConsultingMD/puppet
PR #350: [# 142333001] As an engineer, so that I know when the warehouse logging stream stopped working, add an alarm and heartbeat

Description:
[Tracker #142333001](https://www.pivotaltracker.com/story/show/142333001)

@007 @nfoen @zbodinger 

Corresponding Rogers PR: https://github.com/ConsultingMD/rogers/pull/201
Corresponding Metal PR: https://github.com/ConsultingMD/metal/pull/345
Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/309



=====================================================
Timestamp:  2017-03-24T22:17:10Z
Repository: ConsultingMD/warehouse
PR #309: [# 142333001] As an engineer, so that I know when the warehouse logging stream stopped working, add an alarm and heartbeat

Description:
[Tracker #142333001](https://www.pivotaltracker.com/story/show/142333001)

@007 @nfoen @zbodinger 

Corresponding Rogers PR: https://github.com/ConsultingMD/rogers/pull/201
Corresponding Metal PR: https://github.com/ConsultingMD/metal/pull/345
Corresponding Puppet PR: https://github.com/ConsultingMD/puppet/pull/350



=====================================================
Timestamp:  2017-03-24T00:20:49Z
Repository: ConsultingMD/service
PR #113: [# 142136885] As a PM, so I can send metrics to warehouse with kinesis, create new stream

Description:

[Tracker #142136885](https://www.pivotaltracker.com/story/show/142136885)

@nfoen @007 @zbodinger 


=====================================================
Timestamp:  2017-03-22T22:51:05Z
Repository: ConsultingMD/tp
PR #571: [# 141736147] In TP, generate seeds for doctor_treats

Description:

[Tracker #141736147](https://www.pivotaltracker.com/story/show/141736147)

@timz1290 


=====================================================
Timestamp:  2017-03-22T19:07:52Z
Repository: ConsultingMD/tp
PR #570: [# 142254953] update specialties seed data for dev testing/pancakes

Description:

[Tracker #142254953](https://www.pivotaltracker.com/story/show/142254953)

@timz1290 


=====================================================
Timestamp:  2017-03-22T18:20:04Z
Repository: ConsultingMD/tp
PR #569: [# 142185725] As a CC, So I can find in network doctors, add new customer plan as a filter in TP for Philips and Change Healthcare

Description:

[Tracker #142185725](https://www.pivotaltracker.com/story/show/142185725)

@timz1290 


=====================================================
Timestamp:  2017-03-21T23:19:39Z
Repository: ConsultingMD/tp
PR #568: [# 142188075] generate seeds for doctor_conditions and doctor_procedures

Description:

[Tracker #142188075](https://www.pivotaltracker.com/story/show/142188075)

@ro31337 


=====================================================
Timestamp:  2017-03-21T22:08:43Z
Repository: ConsultingMD/jarvis
PR #7150: [# 142096511] Typo in our password expiration screen

Description:

[Tracker #142096511](https://www.pivotaltracker.com/story/show/142096511)
@dimedropper 


=====================================================
Timestamp:  2017-03-20T23:42:09Z
Repository: ConsultingMD/jarvis
PR #7137: [# 141821903] Filter out doctors that are not accepting new patients in Doctor Match, so that I don't go to a doctor that will not see me

Description:

[Tracker #141821903](https://www.pivotaltracker.com/story/show/141821903)

@timz1290 


=====================================================
Timestamp:  2017-03-16T22:24:45Z
Repository: ConsultingMD/tp
PR #565: [# 141906941] Update TP readme to include new doctor_networks file

Description:

[Tracker #141906941](https://www.pivotaltracker.com/story/show/141906941)

@timz1290 


=====================================================
Timestamp:  2017-03-14T23:52:52Z
Repository: ConsultingMD/tp
PR #563: [# 141736893] Include condition and procedure names on TP medical terms search

Description:
Include condition and procedure names on TP medical terms search

[Tracker #141736893](https://www.pivotaltracker.com/story/show/141736893)

@ro31337 @timz1290 


=====================================================
Timestamp:  2017-03-10T20:52:14Z
Repository: ConsultingMD/tp
PR #561: [# 141518705] disable doctors.created_at from the cache

Description:

[Tracker #141518705](https://www.pivotaltracker.com/story/show/141518705)

@timz1290 


=====================================================
Timestamp:  2017-03-10T20:06:47Z
Repository: ConsultingMD/tp
PR #560: [# 140460513] Remove doctors.created_at

Description:
[Tracker #140460513](https://www.pivotaltracker.com/story/show/140460513)

@timz1290 

Tested, this operation is safe to perform. Doesn't affect the materialized view.


=====================================================
Timestamp:  2017-03-08T03:02:00Z
Repository: ConsultingMD/jarvis
PR #7060: [# 141275053] Filter out doctors that are not accepting new patients in Doctor Match, so that I don't go to a doctor that will not see me

Description:

[Tracker #141275053](https://www.pivotaltracker.com/story/show/141275053)

@timz1290 

Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/558


=====================================================
Timestamp:  2017-03-08T02:27:41Z
Repository: ConsultingMD/tp
PR #558: [# 141275053] Filter out doctors that are not accepting new patients in Doctor Match, so that I don't go to a doctor that will not see me

Description:
[Tracker #141275053](https://www.pivotaltracker.com/story/show/141275053)

@timz1290 

Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/7060


=====================================================
Timestamp:  2017-03-07T01:53:09Z
Repository: ConsultingMD/tp
PR #554: [# 136151361] Add conditions and procedures to physician representer

Description:

[Tracker #136151361](https://www.pivotaltracker.com/story/show/136151361)

@timz1290 



=====================================================
Timestamp:  2021-03-04T22:47:15Z
Repository: ConsultingMD/tp
PR #1627: [DATA-624] Update TP "Report Data Issue Button"

Description:
non hover look:
![image](https://user-images.githubusercontent.com/1312796/110040852-48337e80-7cf8-11eb-80c2-49502ad47ea5.png)


hover look:
![image](https://user-images.githubusercontent.com/1312796/110040928-613c2f80-7cf8-11eb-95dc-6cdcfeac66c4.png)

(I swear they're different colors)

I think the border difference is fine.

[DATA-624](https://grandrounds.atlassian.net/browse/DATA-624)


=====================================================
Timestamp:  2021-03-04T06:11:04Z
Repository: ConsultingMD/tp
PR #1626: [DATA-624] Update TP "Report Data Issue Button"

Description:
[DATA-624](https://grandrounds.atlassian.net/browse/DATA-624)
#1625 
![image](https://user-images.githubusercontent.com/1312796/109919299-4b355d00-7c6d-11eb-8f03-0f17d0056eb6.png)

@kartik-gr 


=====================================================
Timestamp:  2021-03-04T02:32:42Z
Repository: ConsultingMD/tp
PR #1625: [DATA-605] create the new hours_structured/updated_at_hours_structured columns in tp

Description:

[DATA-605](https://grandrounds.atlassian.net/browse/DATA-605)

depends on https://github.com/ConsultingMD/metropolis/pull/1417 and https://github.com/ConsultingMD/metropolis/pull/1419


=====================================================
Timestamp:  2021-03-03T20:36:30Z
Repository: ConsultingMD/metropolis
PR #1419: [DATA-608] whitelist the new hours_structured column in tp_consumer

Description:

[DATA-608](https://grandrounds.atlassian.net/browse/DATA-608)
@kartik-gr 

Depends on https://github.com/ConsultingMD/metropolis/pull/1417


=====================================================
Timestamp:  2021-03-03T08:38:03Z
Repository: ConsultingMD/metropolis
PR #1417: [DATA-607] augment load_provider_locations to populate the provider_locations#hours_structured field enclarity/zelis locations

Description:

[DATA-607](https://grandrounds.atlassian.net/browse/DATA-607)

@kartik-gr 


=====================================================
Timestamp:  2021-03-02T22:39:56Z
Repository: ConsultingMD/metropolis
PR #1415: [DATA-621] update mturk code to support latest tyson campaign

Description:
@jesse-weaver23 @kartik-gr 
*Notes:*

[DATA-621](https://grandrounds.atlassian.net/browse/DATA-621)


=====================================================
Timestamp:  2021-02-25T23:19:26Z
Repository: ConsultingMD/metropolis
PR #1412: [DATA-604] create the new hours_structured/updated_at_hours_structured columns in metropolis

Description:
{noformat}        canonical.provider_locations
        - hours_structured text field
        - updated_at_hours_structured timestamp field
        gr_audits.provider_locations
        - hours_structured text field
        - updated_at_hours_structured timestamp field{noformat}

[DATA-604](https://grandrounds.atlassian.net/browse/DATA-604)

AT:
```bash
(metropolis_airflow)   ds_postgres git:(subtask/DATA-604/create-new-columns-in-metropolis)  alembic upgrade head
/Users/rgarcia/miniconda3/envs/metropolis_airflow/lib/python3.5/site-packages/psycopg2/__init__.py:144: UserWarning: The psycopg2 wheel package will be renamed from release 2.8; in order to keep installing from binary please use "pip install psycopg2-binary" instead. For details see: <http://initd.org/psycopg/docs/install.html#binary-install-from-pypi>.
  """)
INFO  [alembic.runtime.migration] Context impl PostgresqlImpl.
INFO  [alembic.runtime.migration] Will assume transactional DDL.
INFO  [alembic.runtime.migration] Running upgrade 95a5492d4ce5 -> 66c2de28b783, add hours_structured and updated_at_hours_structured for <canonical/gr_audits>.provider_locations
(metropolis_airflow)   ds_postgres git:(subtask/DATA-604/create-new-columns-in-metropolis)  psql floyd_dev
Expanded display is used automatically.
Output format is aligned.
Null display is "[NULL]".
Line style is unicode.
Border style is 2.
Timing is on.
2021-02-25 23:14:56
psql (12.3)
Type "help" for help.

rgarcia@[local]:5432/floyd_dev# \d+ gr_audits.provider_locations
                                                                                                           Table "gr_audits.provider_locations"

                      Column                                   Type              Collation  Nullable  Default  Storage   Stats target                                                 Description                                                

 street_address_line_2                              character varying                                          extended                The street_address_line_2 for this location.                                                              
 updated_at_street_address_line_2                   timestamp without time zone                                plain                                                                                                                             
 new_address                                        character varying                                          extended                                                                                                                          
 updated_at_new_address                             timestamp without time zone                                plain                                                                                                                             
 phone_1                                            character varying                                          extended                                                                                                                          
 updated_at_phone_1                                 timestamp without time zone                                plain                                                                                                                             
 phone_2                                            character varying                                          extended                                                                                                                          
 updated_at_phone_2                                 timestamp without time zone                                plain                                                                                                                             
 fax                                                character varying                                          extended                                                                                                                          
 updated_at_fax                                     timestamp without time zone                                plain                                                                                                                             
 new_practice_name                                  character varying                                          extended                                                                                                                          
 updated_at_new_practice_name                       timestamp without time zone                                plain                                                                                                                             
 website                                            character varying                                          extended                                                                                                                          
 updated_at_website                                 timestamp without time zone                                plain                                                                                                                             
 hours                                              text                                                       extended                                                                                                                          
 updated_at_hours                                   timestamp without time zone                                plain                                                                                                                             
 accepting_new_patients                             boolean                                           true     plain                                                                                                                             
 updated_at_accepting_new_patients                  timestamp without time zone                                plain                                                                                                                             
 availability                                       character varying                                          extended                                                                                                                          
 updated_at_availability                            timestamp without time zone                                plain                                                                                                                             
 notes                                              text                                                       extended                                                                                                                          
 updated_at_notes                                   timestamp without time zone                                plain                                                                                                                             
 latitude                                           double precision                                           plain                                                                                                                             
 updated_at_latitude                                timestamp without time zone                                plain                                                                                                                             
 longitude                                          double precision                                           plain                                                                                                                             
 updated_at_longitude                               timestamp without time zone                                plain                                                                                                                             
 latest_updated_at                                  timestamp without time zone                                plain                                                                                                                             
 deleted_at                                         timestamp without time zone                                plain                   Date that entry was deleted at.                                                                           
 gr_audits_version_id                               uuid                                    not null           plain                   The UID for this gr_audits version.                                                                       
 added_at                                           timestamp without time zone                                plain                   The date the entry was added at.                                                                          
 provider_source_name                               character varying                                          extended                                                                                                                          
 provider_source_id                                 character varying                                          extended                                                                                                                          
 address_source_name                                character varying                                          extended                                                                                                                          
 address_source_id                                  character varying                                          extended                                                                                                                          
 membership_required                                boolean                                                    plain                   Whether a membership, in addition to insurance, is required for services                                  
 membership_fee                                     integer                                                    plain                   Additional fee membership-holders must pay                                                                
 updated_at_membership_required                     timestamp without time zone                                plain                   When membership_required was last updated                                                                 
 updated_at_membership_fee                          timestamp without time zone                                plain                   When membership_fee was last updated                                                                      
 available_to_schedule                              character varying                                          extended                                                                                                                          
 updated_at_available_to_schedule                   timestamp without time zone                                plain                                                                                                                             
 appointment_requirements                           character varying                                          extended                                                                                                                          
 updated_at_appointment_requirements                timestamp without time zone                                plain                                                                                                                             
 scheduling_method                                  character varying                                          extended                                                                                                                          
 updated_at_scheduling_method                       timestamp without time zone                                plain                                                                                                                             
 recorded_at                                        timestamp without time zone                                plain                                                                                                                             
 next_appointment                                   date                                                       plain                                                                                                                             
 updated_at_next_appointment                        timestamp without time zone                                plain                                                                                                                             
 telemedicine_supported                             boolean                                                    plain                   From J-Curve: answer of 'Does this practice offer virtual office visits to patients?' y/n --> t/f         
 updated_at_telemedicine_supported                  timestamp without time zone                                plain                                                                                                                             
 telemedicine_only_established_patients             boolean                                                    plain                   From J-Curve: answer of 'If yes, are virtual care visits restricted to established patients?' y/n --> t/f 
 updated_at_telemedicine_only_established_patients  timestamp without time zone                                plain                                                                                                                             
 telemedicine_permanent_service                     boolean                                                    plain                   From J-Curve: answer of 'If yes, are virtual visits a permanent offering?' y/n --> t/f                    
 updated_at_telemedicine_permanent_service          timestamp without time zone                                plain                                                                                                                             
 telemedicine_method                                character varying                                          extended                From J-Curve: answer of 'What is the primary method for virtual care visits?'                             
 updated_at_telemedicine_method                     timestamp without time zone                                plain                                                                                                                             
 hours_structured                                   text                                                       extended                                                                                                                          
 updated_at_hours_structured                        timestamp without time zone                                plain                                                                                                                             

Access method: heap

rgarcia@[local]:5432/floyd_dev# \d+ canonical.provider_locations
                                                                                                        Table "canonical.provider_locations"

               Column                            Type              Collation  Nullable                  Default                   Storage   Stats target                                    Description                                    

 id                                   integer                                 not null                                            plain                                                                                                    
 provider_id                          integer                                 not null                                            plain                                                                                                    
 address_source_name                  character varying                       not null                                            extended                                                                                                 
 address_source_id                    character varying                       not null                                            extended                                                                                                 
 location_display                     character varying                                                                           extended                                                                                                 
 street_address_line_1                character varying                                                                           extended                                                                                                 
 street_address_line_2                character varying                                                                           extended                                                                                                 
 address_city                         character varying                                                                           extended                                                                                                 
 address_state                        character varying                                                                           extended                                                                                                 
 postal_code                          character varying                                                                           extended                                                                                                 
 geolocation                          geography(Point,4326)                                                                       main                                                                                                     
 phone_1                              character varying                                                                           extended                                                                                                 
 phone_2                              character varying                                                                           extended                                                                                                 
 fax                                  character varying                                                                           extended                                                                                                 
 confidence                           double precision                                                                            plain                                                                                                    
 website                              character varying                                                                           extended                                                                                                 
 accepting_new_patients               boolean                                           true                                      plain                                                                                                    
 availability                         character varying                                                                           extended                                                                                                 
 hours                                text                                                                                        extended                                                                                                 
 notes                                text                                                                                        extended                                                                                                 
 updated_at                           timestamp without time zone                                                                 plain                                                                                                    
 canonical_version_id                 uuid                                    not null                                            plain                   The shared version id of everything in the canonical schema.                     
 loaded_at                            timestamp without time zone                       timezone('UTC'::text, CURRENT_TIMESTAMP)  plain                   Time of creation for row                                                         
 deleted_at                           timestamp without time zone                                                                 plain                                                                                                    
 membership_required                  boolean                                                                                     plain                   Whether a membership, in addition to insurance, is required for services         
 membership_fee                       integer                                                                                     plain                   Additional fee membership-holders must pay                                       
 membership_info_elig_network_uids    character varying[]                                                                         extended                Specifies the network_uids for which this concierge information can be shown to. 
 updated_at_availability              timestamp without time zone                                                                 plain                                                                                                    
 available_to_schedule                character varying                                                                           extended                                                                                                 
 updated_at_available_to_schedule     timestamp without time zone                                                                 plain                                                                                                    
 appointment_requirements             character varying                                                                           extended                                                                                                 
 updated_at_appointment_requirements  timestamp without time zone                                                                 plain                                                                                                    
 scheduling_method                    character varying                                                                           extended                                                                                                 
 updated_at_scheduling_method         timestamp without time zone                                                                 plain                                                                                                    
 updated_at_accepting_new_patients    timestamp without time zone                                                                 plain                                                                                                    
 next_appointment                     date                                                                                        plain                                                                                                    
 updated_at_next_appointment          timestamp without time zone                                                                 plain                                                                                                    
 hours_structured                     text                                                                                        extended                                                                                                 
 updated_at_hours_structured          timestamp without time zone                                                                 plain                                                                                                    

Indexes:
    "providers_locations_id_canonical_version_id_pk" PRIMARY KEY, btree (id, canonical_version_id)
Access method: heap

rgarcia@[local]:5432/floyd_dev# \q
(metropolis_airflow)   ds_postgres git:(subtask/DATA-604/create-new-columns-in-metropolis) 
```


=====================================================
Timestamp:  2021-02-24T01:38:27Z
Repository: ConsultingMD/tp
PR #1616: [NAV-590] In TP, surface the provider location languages in the provider modal

Description:
[NAV-590](https://grandrounds.atlassian.net/browse/NAV-590)

![image](https://user-images.githubusercontent.com/1312796/108932239-decbb580-75fd-11eb-8b9e-5d81e3e2756d.png)



=====================================================
Timestamp:  2021-02-23T20:55:43Z
Repository: ConsultingMD/metropolis
PR #1408: [DATA-599] include canonical_version_id in unique constraint for provider_location_languages

Description:
https://github.com/ConsultingMD/metropolis/pull/1400 didn't have the `canonical_version_id` on the constraint. This fixes that.


[DATA-599](https://grandrounds.atlassian.net/browse/DATA-599)

@kartik-gr 


=====================================================
Timestamp:  2021-02-18T16:24:29Z
Repository: ConsultingMD/metropolis
PR #1405: [NAV-587] whitelist provider_location_languages in metropolis to be exported to S3

Description:

[NAV-587](https://grandrounds.atlassian.net/browse/NAV-587)
@kartik-gr 


=====================================================
Timestamp:  2021-02-17T20:56:29Z
Repository: ConsultingMD/metropolis
PR #1404: [DATA-587] Miscellaneous provider pipeline updates due to the postgresql db upgrade

Description:
@kartik-gr 
*Notes:*

[DATA-587](https://grandrounds.atlassian.net/browse/DATA-587)


=====================================================
Timestamp:  2021-02-13T00:11:16Z
Repository: ConsultingMD/metropolis
PR #1401: [DATA-586] add notes field for Tyson call campaign

Description:
h3. 

The Provider Partnership team is running a call campaign to call PCPs near Tyson warehouses with the goal being to validate availability and practicing information before the Care Team begins an outreach campaign to members to find a PCP. To support ingesting the call campaign through mturk, we need to update [this file|https://grandrounds.atlassian.net/browse/DATA-586] with the following fields:

* insurance_notes_1
* insurance_notes_2
* language_notes
* interpreter_notes 

Campaign sheet: [here|https://github.com/ConsultingMD/metropolis/blob/master/db_etl/mechanical_turk/config_files/jcurve_template.yaml]

[DATA-586](https://grandrounds.atlassian.net/browse/DATA-586)


=====================================================
Timestamp:  2021-02-12T07:39:10Z
Repository: ConsultingMD/metropolis
PR #1400: [NAV-586] generate the provider_location_languages table

Description:
* create migration in metropolis
** provider_id
** provider_location_id
** npi
** languages (type string array)
* define new task in load_canonical
* create new load_provider_location_languages.sql file

[NAV-586](https://grandrounds.atlassian.net/browse/NAV-586)


=====================================================
Timestamp:  2021-02-12T06:47:17Z
Repository: ConsultingMD/potluck
PR #2510: [DF-3861] Turn on data source alerting for all data sources

Description:
SE is ready to start leveraging the alerting for all data sources. Please turn on alerting for all data sources by EOD 2/12.

[DF-3861](https://grandrounds.atlassian.net/browse/DF-3861)

@vinaygoel @johnstoryGR @jrifkin 


=====================================================
Timestamp:  2021-02-11T02:05:42Z
Repository: ConsultingMD/tp
PR #1605: [NAV-588] In TP, create the provider_location_languages table and models

Description:

[NAV-588](https://grandrounds.atlassian.net/browse/NAV-588)

@ethomson1 @kartik-gr 


=====================================================
Timestamp:  2021-02-04T21:02:14Z
Repository: ConsultingMD/metropolis
PR #1396: [DATA-572] Update metropolis AMI keys to use record name in DB urls instead of the specific instance hostname

Description:
*Notes:*

[DATA-572](https://grandrounds.atlassian.net/browse/DATA-572)


=====================================================
Timestamp:  2021-02-03T02:13:23Z
Repository: ConsultingMD/tp
PR #1591: [DATA-564] Enhance providerSearches GraphQL query to support SE PDM testing

Description:
To support SEs initiative of automating provider searches as a part of PDM testing, enhance {{providerSearches}} query with the following:

# Allow zip code as an input in the query variable
# Allow PDM slug as an input in the query variable

[DATA-564](https://grandrounds.atlassian.net/browse/DATA-564)

@kartik-gr @stevenye-gr 


=====================================================
Timestamp:  2021-02-02T07:43:55Z
Repository: ConsultingMD/frick
PR #542: [DATA-565] Fail loudly when duplicate files are detected in a Walmart multipart workflow ingestion

Description:

*Notes:*

[DATA-565](https://grandrounds.atlassian.net/browse/DATA-565)

@kartik-gr @cobbr2 @abhinavpraneet 


=====================================================
Timestamp:  2021-01-29T01:06:22Z
Repository: ConsultingMD/loading-dock
PR #81: [LD-177] Add enter-db command to LD

Description:

[LD-177](https://grandrounds.atlassian.net/browse/LD-177)

in order to access the DB from within a debug pod


=====================================================
Timestamp:  2021-01-28T01:32:08Z
Repository: ConsultingMD/tp
PR #1582: [DATA-547] Update UHC Designations in TP will full descriptive copy

Description:
[DATA-547](https://grandrounds.atlassian.net/browse/DATA-547)

![image](https://user-images.githubusercontent.com/1312796/106076795-245f9600-60c5-11eb-8b33-85b16480ab16.png)



=====================================================
Timestamp:  2021-01-28T00:26:54Z
Repository: ConsultingMD/loading-dock
PR #80: [LD-176] Implement spring profiles to define env specific property files

Description:
https://www.baeldung.com/spring-profiles
https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-properties-and-configuration


*Notes:*

[LD-176](https://grandrounds.atlassian.net/browse/LD-176)


=====================================================
Timestamp:  2021-01-21T21:53:35Z
Repository: ConsultingMD/potluck
PR #2289: [DF-3771] Get John alerted for subset of claims

Description:
Please set up alerts for all Amazon, Walmart, THD feeds for med   rx claims and assign them to John

[DF-3771](https://grandrounds.atlassian.net/browse/DF-3771)

@vinaygoel 


=====================================================
Timestamp:  2021-01-19T22:38:33Z
Repository: ConsultingMD/potluck
PR #2263: [DF-3771] Get John alerted for subset of claims

Description:
Please set up alerts for all Amazon, Walmart, THD feeds for med   rx claims and assign them to John

[DF-3771](https://grandrounds.atlassian.net/browse/DF-3771)

@vinaygoel 


=====================================================
Timestamp:  2021-01-13T21:31:01Z
Repository: ConsultingMD/DPW
PR #1153: [DATA-484] TP RDS DB needs to be upgraded from 9.5 before February 16

Description:
h3. Why

[https://forums.aws.amazon.com/ann.jspa?annID=8176|https://forums.aws.amazon.com/ann.jspa?annID=8176]

!image-20210105-002802.png|width=2203,height=522!

The current version is {{9.5.16}} and since we use {{PostGIS}} we [cant|https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_UpgradeDBInstance.PostgreSQL.html] just skip major version upgrades:

{quote}{{If a database uses the PostGIS extension, you cant skip major versions for some source to target combinations. For these circumstances, upgrade in steps to the next major version one step at a time until you reach the desired target version.}}{quote}

!image-20210106-234009.png|width=973,height=811!

*Notes:*

* Debating whether to remain on RDS vs Aurora

[DATA-484](https://grandrounds.atlassian.net/browse/DATA-484)


=====================================================
Timestamp:  2021-01-13T00:24:38Z
Repository: ConsultingMD/rogers
PR #416: [DATA-327] Support adding the mtime timestamp to a filename for a datasource where we expect for it to have a date in the filename but the vendor cannot support it

Description:
Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/14840
h3. Why

Slack Thread: [https://grandrounds.slack.com/archives/C5B6SJ19B/p1602197080036300|https://grandrounds.slack.com/archives/C5B6SJ19B/p1602197080036300] and [https://grandrounds.slack.com/archives/C5B6SJ19B/p1602124329034000|https://grandrounds.slack.com/archives/C5B6SJ19B/p1602124329034000]

For the Amazon customer, the Aetna vendor currently sends us the carrier-eligibility information in a monthly cadence. Specifically the 12th of each month. This monthly filename has the date in the filename. This date is used by downstream services to determine eligibility. DE on-call is receiving a lot of tickets now dealing with VID data not being available for a member when the issue is that we havent received new data and the message we display to them is to check back in 10 whereas in reality its probably ~45 days.

This can vendor can send us weekly files but theres a catch  their weekly delivery pipeline does not support including the date in the filename for whatever reason. If we were to move to this format someone from SE would then need to rename the file everytime we get a new one. This manual work would be a pain and its also not escalable. What if instead we could have the retrieval pipeline (rogers currently, loading-dock in the future) automatically do this rename when it retrieves a file? this ticket should scope out that work.

h3. Acceptance Criteria

{noformat}Scenario: 
Given a data source that has flag configured that we need to add the mtime date to the filename when we retrieve the file and copy it to s3
When a new file is detected and the data source has the flag enabled
Then the resulting file copied to s3 has the mtime date in the filename{noformat}

*Notes:*

[DATA-327](https://grandrounds.atlassian.net/browse/DATA-327)


=====================================================
Timestamp:  2021-01-12T23:29:19Z
Repository: ConsultingMD/jarvis
PR #14840: [DATA-327] Support adding the mtime timestamp to a filename for a datasource where we expect for it to have a date in the filename but the vendor cannot support it

Description:
Corresponding Rogers PR: https://github.com/ConsultingMD/rogers/pull/416

h3. Why

Slack Thread: [https://grandrounds.slack.com/archives/C5B6SJ19B/p1602197080036300|https://grandrounds.slack.com/archives/C5B6SJ19B/p1602197080036300] and [https://grandrounds.slack.com/archives/C5B6SJ19B/p1602124329034000|https://grandrounds.slack.com/archives/C5B6SJ19B/p1602124329034000]

For the Amazon customer, the Aetna vendor currently sends us the carrier-eligibility information in a monthly cadence. Specifically the 12th of each month. This monthly filename has the date in the filename. This date is used by downstream services to determine eligibility. DE on-call is receiving a lot of tickets now dealing with VID data not being available for a member when the issue is that we havent received new data and the message we display to them is to check back in 10 whereas in reality its probably ~45 days.

This can vendor can send us weekly files but theres a catch  their weekly delivery pipeline does not support including the date in the filename for whatever reason. If we were to move to this format someone from SE would then need to rename the file everytime we get a new one. This manual work would be a pain and its also not escalable. What if instead we could have the retrieval pipeline (rogers currently, loading-dock in the future) automatically do this rename when it retrieves a file? this ticket should scope out that work.

h3. Acceptance Criteria

{noformat}Scenario: 
Given a data source that has flag configured that we need to add the mtime date to the filename when we retrieve the file and copy it to s3
When a new file is detected and the data source has the flag enabled
Then the resulting file copied to s3 has the mtime date in the filename{noformat}

*Notes:*

[DATA-327](https://grandrounds.atlassian.net/browse/DATA-327)


=====================================================
Timestamp:  2021-01-12T01:07:56Z
Repository: ConsultingMD/tp
PR #1575: [DATA-484] TP RDS DB needs to be upgraded from 9.5 before February 16

Description:
h3. Why

[https://forums.aws.amazon.com/ann.jspa?annID=8176|https://forums.aws.amazon.com/ann.jspa?annID=8176]


[DATA-484](https://grandrounds.atlassian.net/browse/DATA-484)


=====================================================
Timestamp:  2021-01-06T22:01:54Z
Repository: ConsultingMD/potluck
PR #2177: [DF-3754] remove s3 bucket prefix for gr_filename value before squelching check

Description:

[DF-3754](https://grandrounds.atlassian.net/browse/DF-3754)


=====================================================
Timestamp:  2020-12-17T22:00:04Z
Repository: ConsultingMD/potluck
PR #2067: [DF-3703] Add Austin Berbereia to SE PG Alerting

Description:
Add Austin Berbereia to SE PG Alerting.

- [x] Create PD [escalation policy](https://grand-rounds.pagerduty.com/escalation_policies#PTK2C7G) for AB
- [x] Create PD [service](https://grand-rounds.pagerduty.com/service-directory/PILC45U/integrations) for AB
- [x] Update Potluck Vault
- [x] Update Potluck pagerduty.json in S3
- [x] Update alerting code to know about AB PD service

[DF-3703](https://grandrounds.atlassian.net/browse/DF-3703)


=====================================================
Timestamp:  2020-12-17T06:00:30Z
Repository: ConsultingMD/loading-dock
PR #63: [LD-143] Re-import fields from ingestion_events back into data sources

Description:

[LD-143](https://grandrounds.atlassian.net/browse/LD-143)

I'm a Java noob. First draft of this, open to all the suggestions

@kartik-gr @nikola-todorovic-vicert @aleksandar-kalanj-vicert 

A lot of the changes are due to me clicking the `Refactor Code` option from Intellij.


=====================================================
Timestamp:  2020-12-16T02:18:09Z
Repository: ConsultingMD/metropolis
PR #1379: [DATA-444] Extract UPP tags for providers with low confidence enclarity locations

Description:
*Notes:*

[DATA-444](https://grandrounds.atlassian.net/browse/DATA-444)

This is the most minimal change in order to include to include the UPP tags of physicians whose locations are low confidence. Does not require any TP changes since we're already key off the `provider_id` column there to fetch these tags.

@kartik-gr 

Verified locally/console with latest zelis, enclarity.


=====================================================
Timestamp:  2020-12-10T20:17:03Z
Repository: ConsultingMD/bronze
PR #2256: [DF-3675] Update GraceDays to value agreed upon by SE

Description:

[DF-3675](https://grandrounds.atlassian.net/browse/DF-3675)

Once this is merged I'll update the bronze sha in the related potluck PR: https://github.com/ConsultingMD/potluck/pull/1950

@vinaygoel @coleleahy 


=====================================================
Timestamp:  2020-12-09T22:29:32Z
Repository: ConsultingMD/tp
PR #1570: [DATA-430] Update the UPP label in TP

Description:
*Notes:*

[DATA-430](https://grandrounds.atlassian.net/browse/DATA-430)

@wroller-gr @kartik-gr 
![image](https://user-images.githubusercontent.com/1312796/101696419-ee8a2380-3a2a-11eb-9f42-69f37522f171.png)



=====================================================
Timestamp:  2020-12-09T20:33:24Z
Repository: ConsultingMD/potluck
PR #1950: [DF-3610] enable the two new alerts

Description:
the DE should should also go to SE and adhere to business hours

[DF-3610](https://grandrounds.atlassian.net/browse/DF-3610)

This PR enables the new file-over-alerts 

@coleleahy @vinaygoel 

This will also depend on https://grandrounds.atlassian.net/browse/DF-3675 which will update the `GraceDays` value to one agreed upon by SE. This is a bronze change and once that's done we can update the potluck bronze sha in this ticket as well.


=====================================================
Timestamp:  2020-12-07T21:46:20Z
Repository: ConsultingMD/metropolis
PR #1371: [DATA-426] Remove `floyd.thoracic_park__` tables from BQ DAG sync

Description:
the{{thoracic_park__*}}tables in Floyd have been deprecated and only {{canonical__*}} tables should be used for referencing search terms. 

[DATA-426](https://grandrounds.atlassian.net/browse/DATA-426)

@macklin @jesse-weaver23 from our chat today

cc @kartik-gr 


=====================================================
Timestamp:  2020-12-03T22:17:11Z
Repository: ConsultingMD/tp
PR #1569: [DATA-420] Create a synthetic network that includes all providers

Description:
In order to meet the needs of AARP that have Medicare Plans which, effectively include all providers, create a synthetic network with an ID that includes all providers. 

This includes (Richard Notes):


* add yet another flag to insurance_plan model to determine whether this would filter by the network or not
* update tp search logic so that if the insurance plan selected has this flag set then dont filter by network

[DATA-420](https://grandrounds.atlassian.net/browse/DATA-420)

Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/14724

![image](https://user-images.githubusercontent.com/1312796/101094375-2ac40c80-3571-11eb-9427-5422bebe6aa6.png)

Search with no insurance plan
![image](https://user-images.githubusercontent.com/1312796/101094655-9a39fc00-3571-11eb-812d-414d76893cbe.png)


Same search with synthetic insurance plan
![image](https://user-images.githubusercontent.com/1312796/101094870-f0a73a80-3571-11eb-97fb-d4038983e10d.png)



=====================================================
Timestamp:  2020-12-03T22:16:47Z
Repository: ConsultingMD/jarvis
PR #14724: [DATA-420] Create a synthetic network that includes all providers

Description:
In order to meet the needs of AARP that have Medicare Plans which, effectively include all providers, create a synthetic network with an ID that includes all providers. 

This includes (Richard Notes):


* add yet another flag to insurance_plan model to determine whether this would filter by the network or not
* update tp search logic so that if the insurance plan selected has this flag set then dont filter by network

[DATA-420](https://grandrounds.atlassian.net/browse/DATA-420)

TP PR: https://github.com/ConsultingMD/tp/pull/1569

![image](https://user-images.githubusercontent.com/1312796/101094356-21d33b00-3571-11eb-99e1-112b982b93ca.png)



=====================================================
Timestamp:  2020-12-03T01:30:36Z
Repository: ConsultingMD/potluck
PR #1898: [DF-3644] Remove sales.salescloud.raw.provisioning__c:v1 in favor of sales.salescloud.provisioning__c:v1

Description:
https://grandrounds.slack.com/archives/CRCJCMPEJ/p1606950072187500

[DF-3644](https://grandrounds.atlassian.net/browse/DF-3644)

there was also a dup users one that was unused.


=====================================================
Timestamp:  2020-12-02T02:37:21Z
Repository: ConsultingMD/tp
PR #1568: [DATA-377] Surface UHC Premium Provider tags in TP

Description:
*Notes:*

[DATA-377](https://grandrounds.atlassian.net/browse/DATA-377)


=====================================================
Timestamp:  2020-12-01T22:52:24Z
Repository: ConsultingMD/frick
PR #539: [DATA-416] revert frick work to switch aws regions since it has issues

Description:
*Notes:*

[DATA-416](https://grandrounds.atlassian.net/browse/DATA-416)


=====================================================
Timestamp:  2020-12-01T21:37:09Z
Repository: ConsultingMD/metropolis
PR #1364: [DATA-376] Extract UHC Premium Provider tags in canonical

Description:
@kartik-gr 

*Notes:*

[DATA-376](https://grandrounds.atlassian.net/browse/DATA-376)


=====================================================
Timestamp:  2020-11-30T22:38:02Z
Repository: ConsultingMD/potluck
PR #1883: [DF-3633] allow the alerts to be squelched

Description:

[DF-3633](https://grandrounds.atlassian.net/browse/DF-3633)

@coleleahy @vinaygoel 

filtering out the squelched files.


=====================================================
Timestamp:  2020-11-25T05:34:53Z
Repository: ConsultingMD/potluck
PR #1872: [DF-3626] include file-over-file information in the alert_trigger_info field

Description:

[DF-3626](https://grandrounds.atlassian.net/browse/DF-3626)

slight minor change

@coleleahy 


=====================================================
Timestamp:  2020-11-24T18:34:00Z
Repository: ConsultingMD/potluck
PR #1866: [DF-3620] fix java.lang.NullPointerException: Value at index 5 is null error

Description:

[DF-3620](https://grandrounds.atlassian.net/browse/DF-3620)

https://catalog-airflow-webserver.production.grnds.com/admin/airflow/log?task_id=project_yellow&dag_id=catalog.master.project_data_factory.data_source_health_report_yellow&execution_date=2020-11-23T15%3A00%3A00%2B00%3A00&format=json

```
20/11/24 16:17:29 WARN TaskSetManager: Lost task 6114.0 in stage 89.0 (TID 36020, 10.191.212.17, executor 3): java.lang.NullPointerException: Value at index 5 is null
at org.apache.spark.sql.Row.getAnyValAs(Row.scala:472)
at org.apache.spark.sql.Row.getLong(Row.scala:231)
at org.apache.spark.sql.Row.getLong$(Row.scala:231)
at org.apache.spark.sql.catalyst.expressions.GenericRow.getLong(rows.scala:166)
at com.grandrounds.data_factory.tasks.DataSourceHealthReportProjectorTask$FileOverFileChangePctOverThresholdAlertTrigger$.fileOverFileChangePctOverThreshold(DataSourceHealthReportProjectorTask.scala:776)
at com.grandrounds.data_factory.tasks.DataSourceHealthReportProjectorTask$FileOverFileChangePctOverThresholdAlertTrigger$.$anonfun$apply$20(DataSourceHealthReportProjectorTask.scala:759)
at com.grandrounds.data_factory.tasks.DataSourceHealthReportProjectorTask$FileOverFileChangePctOverThresholdAlertTrigger$.$anonfun$apply$20$adapted(DataSourceHealthReportProjectorTask.scala:759)
at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage217.deserializetoobject_doConsume_0$(Unknown Source)
at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage217.processNext(Unknown Source)
at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)
at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$2.hasNext(WholeStageCodegenExec.scala:636)
```


=====================================================
Timestamp:  2020-11-20T02:46:00Z
Repository: ConsultingMD/potluck
PR #1839: [DF-3533] Fire low-urgency SE alert on  /- 4.5% file-over-file change in PIDs

Description:
SE will review these alerts and exclude files, as needed, from subsequent DF runs.

[DF-3533](https://grandrounds.atlassian.net/browse/DF-3533)

also includes https://grandrounds.atlassian.net/browse/DF-3534

@vinaygoel @coleleahy 


=====================================================
Timestamp:  2020-11-17T19:49:19Z
Repository: ConsultingMD/bronze
PR #2182: [DQ-238] [lasik] Customer#89 (Nielsen) DataSource#48 is unhealthy with alert: file_not_with_valid_date_info [2e700315a735088f38bf39d7344f3d0c]

Description:
https://grand-rounds.pagerduty.com/incidents/P423WY1


[DQ-238](https://grandrounds.atlassian.net/browse/DQ-238)

@vinaygoel https://grandrounds.looker.com/sql/7dftg96vpnx556


=====================================================
Timestamp:  2020-11-16T21:03:17Z
Repository: ConsultingMD/bronze
PR #2177: [DQ-385] [lasik] Customer#168 (JPMorgan Chase) DataSource#360 is unhealthy with alert: file_not_with_valid_date_info [4263d17d350a3b11ffcfebaa2d050c01]

Description:
[https://grand-rounds.pagerduty.com/incidents/P3I17B3|https://grand-rounds.pagerduty.com/incidents/P3I17B3]


[DQ-385](https://grandrounds.atlassian.net/browse/DQ-385)

@vinaygoel 

Also includes:
- https://grand-rounds.pagerduty.com/incidents/PDPHRPD & https://grandrounds.looker.com/sql/zfgch7jy3xdrgt
- https://grand-rounds.pagerduty.com/incidents/PSDWJ9M & https://grandrounds.looker.com/sql/zgpvnpczfrkn2s
- https://grand-rounds.pagerduty.com/incidents/POV1M46 & https://grandrounds.looker.com/sql/sks94vk3vwfj8f
- https://grand-rounds.pagerduty.com/incidents/PCFAVOP & https://grandrounds.looker.com/sql/tgbthzv7czhfm7
- https://grand-rounds.pagerduty.com/incidents/P1XXJN1 & https://grandrounds.looker.com/sql/y6jw9sy2c6ftqs
- https://grand-rounds.pagerduty.com/incidents/P0LQMGY & https://grandrounds.looker.com/sql/ddw7zzsztx2dph (didn't have any for that datasource id, maybe a manual chore?)
- https://grand-rounds.pagerduty.com/incidents/PNK0CTW & https://grandrounds.looker.com/sql/jtms429hy2b5qg


=====================================================
Timestamp:  2020-11-16T18:39:44Z
Repository: ConsultingMD/potluck
PR #1774: [DF-3566] Do not send any alerts if datasource#disabled is true

Description:

[DF-3566](https://grandrounds.atlassian.net/browse/DF-3566)

@vinaygoel 

These alerts will still be seen in the report, we just won't create a PD incident/jira ticket for them.


=====================================================
Timestamp:  2020-11-12T00:06:54Z
Repository: ConsultingMD/metropolis
PR #1354: [DATA-384] Select only BDC tags until we receive the correct UHC PDP data

Description:
@kartik-gr 

[DATA-384](https://grandrounds.atlassian.net/browse/DATA-384)


=====================================================
Timestamp:  2020-11-11T20:59:11Z
Repository: ConsultingMD/potluck
PR #1747: [DF-3530] Enable alerting for all eligibility data sources for all customers

Description:
https://docs.google.com/document/d/1Dc2jfHDFUG8UIQOknblf6qnZYOFG3l2UbMPZB0ceKhE/edit


[DF-3530](https://grandrounds.atlassian.net/browse/DF-3530)




=====================================================
Timestamp:  2020-11-11T01:09:02Z
Repository: ConsultingMD/potluck
PR #1740: [DF-3514] only alert on affected files after cutoff date

Description:

[DF-3514](https://grandrounds.atlassian.net/browse/DF-3514)

woops, missed this change to actually not alert for `yellow` data sources.


=====================================================
Timestamp:  2020-11-10T01:28:48Z
Repository: ConsultingMD/potluck
PR #1724: [DF-3514] only alert on affected files after cutoff date

Description:
[DF-3514](https://grandrounds.atlassian.net/browse/DF-3514)

Also reverts https://github.com/ConsultingMD/potluck/pull/1688 and https://github.com/ConsultingMD/potluck/pull/1704

Changes in this ticket:
- `cutoffdate` defined as `2020-11-03`
- `alert_trigger_info` will contain files that are later than the `cutoffdate`
- `alert_trigger_info_historical` will contain files that are older than the `cutoffdate`
- new datasource health status of `yellow` for datasources that only have alerts for historical files
- we're not going to alert on historical files

Removed the previously added logging pieces because:
- wasn't working
- we can query the latest report for this information now


@vinaygoel @coleleahy 


=====================================================
Timestamp:  2020-11-06T18:43:06Z
Repository: ConsultingMD/potluck
PR #1704: [DF-3371] Log how many alerts we would fire if we didnt have any customer whitelisting

Description:
```
ERROR Runners$: EXIT-FAILURE Uncaught error: Task is not allowed to read data_factory.rogers_ingestion_events:v1, it must be specified as a dep
```
https://catalog-airflow-webserver.production.grnds.com/admin/airflow/log?task_id=project_yellow&dag_id=catalog.master.project_data_factory.data_source_health_report_with_alert_action_yellow&execution_date=2020-11-06T15%3A18%3A19.367717%2B00%3A00&format=json

missed this in https://github.com/ConsultingMD/potluck/pull/1688 @vinaygoel 
[DF-3371](https://grandrounds.atlassian.net/browse/DF-3371)


=====================================================
Timestamp:  2020-11-05T19:49:31Z
Repository: ConsultingMD/potluck
PR #1695: [LD-129] Use an older gpg version in loading-dock docker image that supports secring.gpg

Description:

[LD-129](https://grandrounds.atlassian.net/browse/LD-129)
@kartik-gr @nikola-todorovic-vicert @aleksandar-kalanj-vicert 


=====================================================
Timestamp:  2020-11-05T05:51:02Z
Repository: ConsultingMD/potluck
PR #1688: [DF-3371] Log how many alerts we would fire if we didnt have any customer whitelisting

Description:
Our goal is to enable alerting for all customers and move on from the whitelisted customer list that we have right now. In order to do this were choosing to only fire an alert if the mtime of the file in question is later than X (x currently being {{2020/11/3}}). For now we want to count and log these to get a sense of how many alerts this would fire.



For all other alerts of files older than the cutoff date, surface them in the report but dont fire them.

[DF-3371](https://grandrounds.atlassian.net/browse/DF-3371)

@vinaygoel 


=====================================================
Timestamp:  2020-11-03T01:03:25Z
Repository: ConsultingMD/potluck
PR #1662: [LD-128] Create separate LD airflow instance

Description:
[https://grandrounds.slack.com/archives/C01BQNYQS67/p1603912651000800|https://grandrounds.slack.com/archives/C01BQNYQS67/p1603912651000800]

[LD-128](https://grandrounds.atlassian.net/browse/LD-128)

@kartik-gr @vanzin @mattforbes-gr 

![image](https://user-images.githubusercontent.com/1312796/97935393-4bf4cb80-1d2d-11eb-9af3-df7a9bdd923b.png)



=====================================================
Timestamp:  2020-10-30T23:08:59Z
Repository: ConsultingMD/terraform-vault
PR #262: [LD-128] Create separate LD airflow instance

Description:
[https://grandrounds.slack.com/archives/C01BQNYQS67/p1603912651000800|https://grandrounds.slack.com/archives/C01BQNYQS67/p1603912651000800]

[LD-128](https://grandrounds.atlassian.net/browse/LD-128)

Potluck PR: https://github.com/ConsultingMD/potluck/pull/1609
Loading Dock PR: https://github.com/ConsultingMD/loading-dock/pull/37


=====================================================
Timestamp:  2020-10-28T20:01:48Z
Repository: ConsultingMD/potluck
PR #1609: [LD-128] Create separate LD airflow instance

Description:
[https://grandrounds.slack.com/archives/C01BQNYQS67/p1603912651000800|https://grandrounds.slack.com/archives/C01BQNYQS67/p1603912651000800]

[LD-128](https://grandrounds.atlassian.net/browse/LD-128)

@kartik-gr @mattforbes-gr 

Corresponding Platform Map PR: https://github.com/ConsultingMD/platform-map/pull/134
Corresponding Loading Dock PR: https://github.com/ConsultingMD/loading-dock/pull/37
Corresponding Terraform Vault PR: https://github.com/ConsultingMD/terraform-vault/pull/262


=====================================================
Timestamp:  2020-10-28T19:50:22Z
Repository: ConsultingMD/platform-map
PR #134: [LD-128] Create separate LD airflow instance

Description:
[https://grandrounds.slack.com/archives/C01BQNYQS67/p1603912651000800|https://grandrounds.slack.com/archives/C01BQNYQS67/p1603912651000800]

[LD-128](https://grandrounds.atlassian.net/browse/LD-128)

@kartik-gr @mattforbes-gr 

Corresponding Potluck PR: https://github.com/ConsultingMD/potluck/pull/1609


=====================================================
Timestamp:  2020-10-26T20:25:03Z
Repository: ConsultingMD/warehouse
PR #593: [DATA-319] use iam role based credentials instead of key based credentials

Description:
This allows us to deprecate the aws creds in vault

[DATA-319](https://grandrounds.atlassian.net/browse/DATA-319)

@nick-baggott 


=====================================================
Timestamp:  2020-10-22T22:45:54Z
Repository: ConsultingMD/potluck
PR #1578: [LD-121] Add with-private-keys to Loading Dock processing DAG

Description:
In order to be able to decrypt files, run the processing DAG using with-private-keys and copy the existing keys in Vault into the Loading Dock space.

* Modify serviceConfig and Dockerfile to include {{with-private-keys}} from platform tools.
* Update the start command in the pods to prefix with that command.
* Copy the GPG keys from Rogers {{secret/gpg/rogers}} to the Loading Dock vault path {{secret/gpg/loading-dock}} (note: may not need the public one)
* Verify that the password key ({{GPG_PASSPHRASE}}) matches the code that reads it for decryption.
* Update {{terraform-vault}}for loading-dock role to read from {{secret/gpg/loading-dock}} in [https://github.com/ConsultingMD/terraform-vault/blob/master/policies/common/loading-dock.tf|https://github.com/ConsultingMD/terraform-vault/blob/master/policies/common/loading-dock.tf|smart-link] 
* Apply terraform-vault changes in all envs

[LD-121](https://grandrounds.atlassian.net/browse/LD-121)


=====================================================
Timestamp:  2020-10-22T20:20:46Z
Repository: ConsultingMD/jarvis
PR #14578: [DATA-339] Add new datasource source_type/file_spec for the THD HLCI OLQ data

Description:
@vinaygoel @kelseatomaino2 @abhinavpraneet 

*Notes:*

[DATA-339](https://grandrounds.atlassian.net/browse/DATA-339)

Rogers PR: https://github.com/ConsultingMD/rogers/pull/406


=====================================================
Timestamp:  2020-10-22T20:20:30Z
Repository: ConsultingMD/rogers
PR #406: [DATA-339] Add new datasource source_type/file_spec for the THD HLCI OLQ data

Description:
@vinaygoel @kelseatomaino2 @abhinavpraneet 

*Notes:*

[DATA-339](https://grandrounds.atlassian.net/browse/DATA-339)

Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/14578


=====================================================
Timestamp:  2020-10-21T23:11:05Z
Repository: ConsultingMD/terraform-vault
PR #258: [LD-121] Add with-private-keys to Loading Dock processing DAG

Description:
In order to be able to decrypt files, run the processing DAG using with-private-keys and copy the existing keys in Vault into the Loading Dock space.

* Modify serviceConfig and Dockerfile to include {{with-private-keys}} from platform tools.
* Update the start command in the pods to prefix with that command.
* Copy the GPG keys from Rogers {{secret/gpg/rogers}} to the Loading Dock vault path {{secret/gpg/loading-dock}} (note: may not need the public one)
* Verify that the password key ({{GPG_PASSPHRASE}}) matches the code that reads it for decryption.
* Update {{terraform-vault}}for loading-dock role to read from {{secret/gpg/loading-dock}} in [https://github.com/ConsultingMD/terraform-vault/blob/master/policies/common/loading-dock.tf|https://github.com/ConsultingMD/terraform-vault/blob/master/policies/common/loading-dock.tf|smart-link] 
* Apply terraform-vault changes in all envs

[LD-121](https://grandrounds.atlassian.net/browse/LD-121)

@kartik-gr 


=====================================================
Timestamp:  2020-10-21T18:17:22Z
Repository: ConsultingMD/potluck
PR #1564: [DF-3435] update since window to be 5 months instead of a year to not run into a PD invalid query

Description:

[DF-3435](https://grandrounds.atlassian.net/browse/DF-3435)

@lindseygulla @vinaygoel 

Setting the window to a year from now:
![image](https://user-images.githubusercontent.com/1312796/96765168-df71e800-138e-11eb-8e1f-40fa8f490998.png)


Setting the window to 5 months from now:
![image](https://user-images.githubusercontent.com/1312796/96765468-f1538b00-138e-11eb-9839-6e89f4c949b8.png)


 


=====================================================
Timestamp:  2020-10-21T17:20:46Z
Repository: ConsultingMD/potluck
PR #1560: [DF-3431] expand the until query parameter to one more day

Description:

[DF-3431](https://grandrounds.atlassian.net/browse/DF-3431)

@vinaygoel verified via postman


=====================================================
Timestamp:  2020-10-21T16:23:01Z
Repository: ConsultingMD/potluck
PR #1559: [DF-3430] need to properly format the since/until query parameters

Description:

[DF-3430](https://grandrounds.atlassian.net/browse/DF-3430)

@vinaygoel 


=====================================================
Timestamp:  2020-10-21T01:15:35Z
Repository: ConsultingMD/potluck
PR #1556: [DF-3428] include since/until filter when fetching an incident to avoid the default 30 day limit 

Description:

[DF-3428](https://grandrounds.atlassian.net/browse/DF-3428)

@vinaygoel 


=====================================================
Timestamp:  2020-10-19T21:48:35Z
Repository: ConsultingMD/potluck
PR #1537: [DF-3407] Add better logging to health report alert task

Description:

[DF-3407](https://grandrounds.atlassian.net/browse/DF-3407)


=====================================================
Timestamp:  2020-10-19T18:07:49Z
Repository: ConsultingMD/jarvis
PR #14558: [DATA-330] jarvis-sk-readonly sidekiq pod should just have one thread

Description:
@coleleahy 

*Notes:*
There should only be one job running at any given time in this queue.

[DATA-330](https://grandrounds.atlassian.net/browse/DATA-330)


=====================================================
Timestamp:  2020-10-16T21:14:13Z
Repository: ConsultingMD/potluck
PR #1523: [DF-3397] Bump up the default tolerance for weekly and monthly datasources

Description:
@vinaygoel 

[DF-3397](https://grandrounds.atlassian.net/browse/DF-3397)


=====================================================
Timestamp:  2020-10-15T21:13:57Z
Repository: ConsultingMD/potluck
PR #1501: [DF-3387] Alerting task sometimes fails with: Uncaught error: head of empty list

Description:
[https://catalog-airflow-webserver.production.grnds.com/admin/airflow/log?task_id=project_yellow and dag_id=catalog.master.project_data_factory.data_source_health_report_with_alert_action_yellow and execution_date=2020-10-13T15%3A14%3A00.351501%2B00%3A00 and format=json|https://catalog-airflow-webserver.production.grnds.com/admin/airflow/log?task_id=project_yellow and dag_id=catalog.master.project_data_factory.data_source_health_report_with_alert_action_yellow and execution_date=2020-10-13T15%3A14%3A00.351501%2B00%3A00 and format=json]



```
20/10/13 15:18:04 ERROR Runners$: EXIT-FAILURE Uncaught error: head of empty list
scala.collection.immutable.Nil$.head(List.scala:430)
scala.collection.immutable.Nil$.head(List.scala:427)
com.grandrounds.data_factory.tasks.DataSourceHealthReportWithAlertActionProjectorTask$.triggerAlertAction(DataSourceHealthReportWithAlertActionProjectorTask.scala:155)
com.grandrounds.data_factory.tasks.DataSourceHealthReportWithAlertActionProjectorTask$.$anonfun$run$1(DataSourceHealthReportWithAlertActionProjectorTask.scala:43)
scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:238)
scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)
scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)
scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)
scala.collection.TraversableLike.map(TraversableLike.scala:238)
scala.collection.TraversableLike.map$(TraversableLike.scala:231)
scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:198)
com.grandrounds.data_factory.tasks.DataSourceHealthReportWithAlertActionProjectorTask$.run(DataSourceHealthReportWithAlertActionProjectorTask.scala:42)
com.grandrounds.catalog.spark.TaskRunner$.$anonfun$runTask$1(TaskRunner.scala:113)
scala.util.Try$.apply(Try.scala:213)
com.grandrounds.catalog.spark.TaskRunner$.runTask(TaskRunner.scala:112)
com.grandrounds.catalog.spark.TaskRunner$.$anonfun$main$4(TaskRunner.scala:61)
scala.util.Try$.apply(Try.scala:213)
com.grandrounds.catalog.spark.Runners$.exitWithStatus(Runners.scala:16)
com.grandrounds.catalog.spark.TaskRunner$.main(TaskRunner.scala:52)
com.grandrounds.catalog.spark.TaskRunner.main(TaskRunner.scala)
```

[DF-3387](https://grandrounds.atlassian.net/browse/DF-3387)

Seems like on certain cases the sleep we have (3 seconds after triggering the PD incident) is not enough time for PD API to create the incident on their end. For this I have two options and I propose for the reviewer to look at both commits separately:
- Option 1: https://github.com/ConsultingMD/potluck/commit/4b07e57b4a7ef51344bcd8d881999138cecab8ab accept that this can happen sometimes and only populate these fields on the report if we are able to fetch the incident. This does not guarantee that in the report we will have filled out all the alerting fields. But the incident will eventually be created and so would it's accompanying jira ticket. In this case the SE would then need to specifically check the report to see the `alertTriggerInfo` if the alerts contained affected files

- Option 2: https://github.com/ConsultingMD/potluck/commit/f1417087f481389dea731db2ca36830ae12ecf6b wrap this code with Matt's nifty `WithRetries` and attempt to fetch the incident 3 times with a wait of 3 seconds in between. If incident is found then great. If the incident is not found (after 3 minutes of firing it) then fail loudly. This guarantees that in the report we will have filled out all the PD alerting fields and the accompanying incident/jira ticket will have the `alertTriggerInfo` on it.  Retrying the task should solve it.

In either option we can also bump up the sleep.

thoughts? @vinaygoel @mattforbes-gr 


=====================================================
Timestamp:  2020-10-15T03:06:35Z
Repository: ConsultingMD/warehouse
PR #590: [DATA-319] migrate services to oidc from kiam

Description:
@nick-baggott @ajuvekar @whiskeyjimbo 

Depends on https://github.com/ConsultingMD/DPW/pull/1116

*Notes:*

[DATA-319](https://grandrounds.atlassian.net/browse/DATA-319)


=====================================================
Timestamp:  2020-10-15T03:03:06Z
Repository: ConsultingMD/DPW
PR #1116: [DATA-319] migrate Warehouse to oidc from kiam

Description:
@nick-baggott @ajuvekar 

*Notes:*

[DATA-319](https://grandrounds.atlassian.net/browse/DATA-319)


=====================================================
Timestamp:  2020-10-14T05:22:12Z
Repository: ConsultingMD/metropolis
PR #1337: [DATA-329] add UAT TP_SECRET to metropolis env vars so the match analyzer can hit TP UAT

Description:
updates these to add `TP_SECRET_UAT` so the match analyzer dag can query TP uat

*Notes:*

[DATA-329](https://grandrounds.atlassian.net/browse/DATA-329)


=====================================================
Timestamp:  2020-10-14T05:00:25Z
Repository: ConsultingMD/jarvis
PR #14538: [DATA-328] Remove flag created in https://grandrounds.atlassian.net/browse/DATA-276

Description:
We've now verified that the streaming solution worked in production for definitive, zelis and enclarity. Let's remove the FF.

*Notes:*

[DATA-328](https://grandrounds.atlassian.net/browse/DATA-328)


=====================================================
Timestamp:  2020-10-14T04:33:48Z
Repository: ConsultingMD/metropolis
PR #1336: [DATA-321] vacuum zelis/enclarity schema after loading a new dataset

Description:
@kartik-gr fixing this bug.

*Notes:*

[DATA-321](https://grandrounds.atlassian.net/browse/DATA-321)


=====================================================
Timestamp:  2020-10-12T21:54:32Z
Repository: ConsultingMD/tp
PR #1558: [DATA-319] migrate services to oidc from kiam

Description:
@nick-baggott 

*Notes:*

[DATA-319](https://grandrounds.atlassian.net/browse/DATA-319)


=====================================================
Timestamp:  2020-10-12T19:16:54Z
Repository: ConsultingMD/tp
PR #1557: [DATA-319] migrate services to oidc from kiam

Description:
@nick-baggott @kartik-gr 

*Notes:*

[DATA-319](https://grandrounds.atlassian.net/browse/DATA-319)


=====================================================
Timestamp:  2020-10-09T19:14:49Z
Repository: ConsultingMD/tp
PR #1556: [DATA-319] migrate services to oidc from kiam

Description:
bumping the fog-aws gem to see if the following is fixed:
```
bundler: failed to load command: unicorn_rails (/data/app/vendor/bundle/ruby/2.5.0/bin/unicorn_rails)
ArgumentError: Missing required arguments: aws_access_key_id, aws_secret_access_key
  /data/app/vendor/bundle/ruby/2.5.0/gems/fog-core-2.1.0/lib/fog/core/service.rb:244:in `validate_options'
  /data/app/vendor/bundle/ruby/2.5.0/gems/fog-core-2.1.0/lib/fog/core/service.rb:268:in `handle_settings'
  /data/app/vendor/bundle/ruby/2.5.0/gems/fog-core-2.1.0/lib/fog/core/service.rb:98:in `new'
  /data/app/vendor/bundle/ruby/2.5.0/gems/fog-core-2.1.0/lib/fog/core/services_mixin.rb:16:in `new'
  /data/app/vendor/bundle/ruby/2.5.0/gems/fog-core-2.1.0/lib/fog/storage.rb:22:in `new'
  /data/app/vendor/bundle/ruby/2.5.0/gems/carrierwave-1.3.1/lib/carrierwave/uploader/configuration.rb:126:in `eager_load_fog'
  /data/app/vendor/bundle/ruby/2.5.0/gems/carrierwave-1.3.1/lib/carrierwave/uploader/configuration.rb:139:in `fog_credentials='
  /data/app/config/initializers/carrierwave.rb:11:in `block (2 levels) in <top (required)>'
```

*Notes:*

[DATA-319](https://grandrounds.atlassian.net/browse/DATA-319)


=====================================================
Timestamp:  2020-10-08T22:52:10Z
Repository: ConsultingMD/metropolis
PR #1334: [DATA-321] vacuum zelis/enclarity schema after loading a new dataset

Description:
@kartik-gr 

*Notes:*

[DATA-321](https://grandrounds.atlassian.net/browse/DATA-321)


=====================================================
Timestamp:  2020-10-07T00:43:10Z
Repository: ConsultingMD/potluck
PR #1408: [DF-3351] update the cron of the base health report to decrease chance of race condition

Description:

[DF-3351](https://grandrounds.atlassian.net/browse/DF-3351)

@jbouricius @vinaygoel 


=====================================================
Timestamp:  2020-10-06T22:47:32Z
Repository: ConsultingMD/dynasore
PR #5: [DATA-319] migrate services to oidc from kiam

Description:
@cobbr2 

*Notes:*

[DATA-319](https://grandrounds.atlassian.net/browse/DATA-319)

this is a requirement of https://github.com/ConsultingMD/stone/pull/1318


=====================================================
Timestamp:  2020-10-06T22:10:17Z
Repository: ConsultingMD/stone
PR #1318: [DATA-319] migrate services to oidc from kiam

Description:
```
Version 2 of the Ruby SDK will enter maintenance mode as of November 20, 2020. To continue receiving service updates and new features, please upgrade to Version 3. More information can be found here: https://aws.amazon.com/blogs/developer/deprecation-schedule-for-aws-sdk-for-ruby-v2/
```

Update: this PR will not upgrade from v2 to v3

*Notes:*

[DATA-319](https://grandrounds.atlassian.net/browse/DATA-319)


=====================================================
Timestamp:  2020-10-06T17:58:57Z
Repository: ConsultingMD/tp
PR #1553: [DATA-319] migrate services to oidc from kiam

Description:
@whiskeyjimbo @nick-baggott 

*Notes:*

[DATA-319](https://grandrounds.atlassian.net/browse/DATA-319)

Pending TF from https://github.com/ConsultingMD/DPW/pull/1106 being applied in the envs


=====================================================
Timestamp:  2020-10-06T17:17:42Z
Repository: ConsultingMD/DPW
PR #1106: [DATA-319] migrate services to oidc from kiam

Description:
@whiskeyjimbo @nick-baggott 

*Notes:*

[DATA-319](https://grandrounds.atlassian.net/browse/DATA-319)

Followed what @whiskeyjimbo did in https://github.com/ConsultingMD/DPW/pull/1105


=====================================================
Timestamp:  2020-10-06T01:53:27Z
Repository: ConsultingMD/rogers
PR #400: [DATA-319] migrate services to oidc from kiam

Description:
@nick-baggott @whiskeyjimbo 
*Notes:*

[DATA-319](https://grandrounds.atlassian.net/browse/DATA-319)


=====================================================
Timestamp:  2020-10-02T00:59:30Z
Repository: ConsultingMD/metropolis
PR #1329: [DATA-299] Duplicate addresses between GR audits and Enclarity

Description:
Two databugs have come in the past week where a member has been confused because there are duplicate addresses for the provider, one added through GR audits and sourced from Enclarity. The addresses appear to be identical, however, the GR audit location will always be OON and the Enclarity location may appear INN creating more confusion. I believe some of this stems from JCurve updates and also Care Team updating a providers addresses which is later updated in Enclarity. 

Example:

!image-20200917-044726.png|width=565,height=498!

Based on this query that compares number of distinct addresses for a physicians to total addresses, this seems to be effecting ~17K physicians. 

{noformat}SELECT npi, count(distinct loc.street_address_line_1) AS count_distinct, count(loc.street_address_line_1) as count_total
  FROM airflow_floyd.canonical__providers prov 
        JOIN airflow_floyd.canonical__provider_locations loc on prov.id=loc.provider_id
  WHERE prov.provider_type=physician
  GROUP BY npi
  HAVING count_distinct < count_total{noformat}

[DATA-299](https://grandrounds.atlassian.net/browse/DATA-299)


=====================================================
Timestamp:  2020-10-01T20:53:34Z
Repository: ConsultingMD/potluck
PR #1371: [DF-2850] Whitelisting HP(271) and Teradyne(286) for alerting

Description:
get list of Datasource IDs from JonG of Solutions Engineering

[DF-2850](https://grandrounds.atlassian.net/browse/DF-2850)

https://grandrounds.atlassian.net/browse/DF-2850?focusedCommentId=101432

@vinaygoel @stevenye-gr 


=====================================================
Timestamp:  2020-10-01T04:00:57Z
Repository: ConsultingMD/jarvis
PR #14499: [DATA-276] Refactor reencrypt file job to use our streaming gem

Description:
*Notes:*

[DATA-276](https://grandrounds.atlassian.net/browse/DATA-276)

@kartik-gr @cobbr2 

AT:

Given the following DataSink (mirrored enclarity one, just in dev s3 instead of analytics):
```
[14] pry(main)> data_sink = DataSink.find(1)
  DataSink Load (3.6ms)  SELECT  `data_sinks`.* FROM `data_sinks` WHERE `data_sinks`.`id` = 1 LIMIT 1
=> #<DataSink:0x00007fe63be2daa0
 id: 1,
 to_id: 243,
 to_type: "Affiliate",
 pepper: "2__\x9A\x91\xC8\xBFm\xA3\x04\x0E\x97\x88l\x8C\xAE\x82\xFDi",
 gpg_key:
  "-----BEGIN PGP PUBLIC KEY BLOCK-----\n\nmQINBFjdhycBEADIcbe+nbKNPTMAnOemOTXpzhTSm22Yn9Y0B+EsunnYgRmSP3Or\nuyvewgSaE65BmR5LvpdChJvy8aKVlqnvPYhSV2Ze/Qru71zFG3R8Qk4aXTdYFENJ\n1yqR+tzUK0gYdYOP6CZV5sNzBBJVpu/Y3tAS7lvhgv8ksy9pF89xs1KlPo9y/AHt\nwqsonMAaO7vCChT1pb1X2H1rkOJ1EO3zozIIF25nteHet0IbqUvY8vsdj6LT6975\nNSKs19vEMUChZn30S+I8QT06dn+Vz7T8qRg4XinK9XYejNbPIHYVYatEhRhCSDDJ\n2IxE1UtzUZK/7mKh20je0jC9ND0PuD5aFFNqTKvnkDL2aJvwhr5wLVCtqD0UgZnl\nB566pmpIPhAUg0ZQdHRva+jVxgiePblF9aVeeN5z8CIDPwc8164pejjazx7xoyVc\nO2UFW42BqGPEtnAC57b59byxvbnuj5YqnqDEn+TrYNpGFcxW1HtVYFoZGW7zlpyT\nI0LDhWg9bBIDDJ2RxJJtlqxX78mDqrSTnjamlxyuC2DshesND4JJvzNfOTLODLXA\nqIUmRXeHJK+fkU3ITZC6v9N8Q598uh4MJS82OyvyknOHpn6//+luHQbzogfI+Nzp\n69hmrNu+E/WI+lG+WP4flKSKXSE2DGTxAAOIWYhx8A8LkpT/crToHgWroQARAQAB\ntEZHcmFuZCBSb3VuZHMgRGF0YSBTY2llbmNlICgyMDE4IERTIEtleSkgPGRhdGEt\nc2NpZW5jZUBncmFuZHJvdW5kcy5jb20+iQI+BBMBCAAoBQJY3YcnAhsDBQkDd0GA\nBgsJCAcDAgYVCAIJCgsEFgIDAQIeAQIXgAAKCRDEWDvpSVfasAuID/47R9GWU8aQ\nB/bVCM1J03YJ1z9L3ecwpHvNFBJgmyBna96r2AxO9LCW6mr1C63QwPfztqAxlt0E\nDyiPcVEAMZPrlvTAPzk99QgqcUm2pVa5SdSEEBVc+sm0c9EnrrTANsvJE8/M4h6/\nfZvZ2pxcaFguWKQjUpcNKWUwV60pgIBFMVlw31lLrCtkz8Q8ovYclFC1fYopfZ8N\n+yE11vaLzkKKWJN38/PDUpMXVlLiUCBzhM1IPUjO1vmPcZiYvITk0TcnrdkZIe15\nXfuQjun0AOMnchs8ncx4+YEx8lY2zd8PcaIbxrYbrnY8imatVFUV1mx+tdsPeya/\nqMtfmdWJBnZBa+z1TTNt8WhTJzIus9HDxfKia7N5D9bA3U/dMkeeqjaZTcSAm4CV\nWhagwRKqe439NPRZvhN6/7RcyzQyF3+IQs4a8CPIxgj3mV+Ql9XGjkCIhLo2p5Kd\ni6KskRa27zrEfg/IZTe93t4rtGkLoda7Z9fRcuXBxJpZMGHE7feg+Dho5uU5ijQx\n0hzJHnuKBdWpVxq9pqPCvIds1xEi3f+iwJTx/07FIVwSV75I9weeXiZzwJfDWUyF\nBaHRhBOTVcEOFkpkEnB28+sIVSLnv4V3ePpQyst8jKSyXuoORb4PtjjTuepbiZiV\nq/lQYpXVefIlsArEwhWiAOrAfEeMcujuNokCPgQTAQgAKAIbAwYLCQgHAwIGFQgC\nCQoLBBYCAwECHgECF4AFAlxaSkoFCQc/KiAACgkQxFg76UlX2rCAvBAAsOpgAegK\nU1jnUwxz0xdi6P1X9OVgrHsM8QXlugw5Mc5OKmjDnCxpecM5itT3zfSXB2sLH3vd\nLbssqldCPajhRAyXdVMoGurNoK2KahO/Erb6p8SlFGRPQTvGWbaHJwCJBshbgNPB\nrYAIykBPBNfr/CAOr+sVKV69hDZQ7nLdBfK7tfwbulq602fTiJtOQhH6ZGhckCgJ\n6MWWVPXb/DI5nyvfMZuQBfMrH52Xej0d8enHXAjB06MQruAD5sHXIS8Jnl+aub/Q\nAlOXrDGjjGeDN1Ds2GoYwxiuYR4Xf4HVKWP6YAu34ghRZKi5TtILr/2TcqOgwlop\nbL6GfIwzPKp7KXeO7l0t9UikzzyZ4OqBKlyB22xG/ubu5cBKXbF5ZB7gRiLMhlNi\n5KwVWkXQBBS+s6vFtt5o3/FXjVygOiUWq4BscpOKq8KikAHoJcDqioWKGITzg22e\n+1K0dRzE/AnmywRpqL03zUBwq+rlC/pLyh7z42k6BIYXWNN6vZ5pyqvGArk/omME\nvhLnxhv9MJ1TvA5XRO1PciC1MFjbmhBYBnDJ4yupJg3GUwDD86fQOMIf04NrexHO\nV/7tf6XWS5/H6vnONUm+I1yphoQBD6duULiSm1+Tn5hnSTbPQO0X8zxv9LuMO87p\n6iWsJXG3K51Sw1Nk/VvDLDpiqwNn3xjrSUS5Ag0EWN2HJwEQAM+VaeUjexrXVkPg\nSdU/LUMunI9GTJQlZBdAeTbKE12dj4OWWfMLiS/rXH4WxvVJdhSbZo3+DWjMc9vN\nt4ugBiQzeiMtMNh/SBziEy97mRcXTEcu7DQIoBU1WPnxsrEMrVyIP3e6fXT3M4UD\nTYhKfAwOelW/Ppc9e6YdX4yzilnbdpYFMlNjK0rqs8QVJSuuslmKBrCJYNzQtW02\ncQCw6g06ZruiH8nR84vg7A2UjcpxXOmCPLulA538LTQE12jfDjY+OVw+zh6Jss2/\nnufnzvT1c56+80v5E7xngWIRY8jZAitgqrHZhhsU2V2er4IV73G3t/HVMIdd1xiZ\nTKoF25yvR0NFwgz0lxfF3UMXw10zVE8felqQUHl2jG6PjfMf8Xg6y00DXXYDABCb\nbhqE9zs0z0BjgqR2zz/fiXJrEWrnGHEb1Gw0PJs1VzSByt+YrpONNspsWxM2J0hR\nhoxSHE5wSyYkUp4TZWB52pYaRwOraDsDigN5QF7M6KUIwOOlrdWY+/B/FxJsyra8\n58QxHjcXb/b9vPAsDk73qx2q/1++OqdX3yEY+dPVbuB4AgVnVK3KmBOi87ulq6XZ\nStKzhP0nRyziSh2rxGM2ahwTisoSTR1XhpEZgfJ+cuMFiXVf2E7ia3SHmUIRNH4z\nXXyWiPYDjBVYteVLHBVv8hr8zRvlABEBAAGJAiUEGAEIAA8FAljdhycCGwwFCQN3\nQYAACgkQxFg76UlX2rCwGg/9FHH3Ygipap0dlpmGnZXPSPAiIMhDp2emX3/CU8/R\n6pRmBoMTy1HvhT0sQYOCa6h80FE9zaSnbVZB+ZxU+Jkngjrey3X5m1AOqsZpitCL\nOT0xiODAx0zLFXW511EwCFFhBnSTyrD49IVFNivoQ5dN0TJGC82xk0k3qUH3DdE6\nD5DR2iXXBpAK70hWCtRltMRtnBWKOtAGaioeAKCGDH+fwFl+BokfS24nB9PowyKZ\ncWgYJpw+YnKfGYr4Nx8oYnJuON123TS9EYPGl5WVGR22K8pkw5MP16aLiVkR0aA9\nnAtgkJJm8tL1V3Z+ddNoxRRN4Ryh5LYZ1qnFVfBHpiZGnU2r67Sdaa5R3/TKEeKq\nX2LQl3xyhvQqWgvXWHUvpS0cz5RES/baVyM2LBCxt9cIUndcFMkImz2MuORyi08S\nBaIBIlbYtWyJr7zzyKM9iZSeQ4jMsAwXBbG3CbLRE5nItDekckPjzgklKTx9n3YX\nfOvgqjcOGglEHD+aE/U02k7mBVzMaxjnRCc80ei06vq7fyH/enJYBowCi+++bkZB\n5Pl5icyJ8wm9C2N2eZwbmD1PQ5ysLW3l8l/LBw5V2dygehoItYXDOBCY8G11r3RY\neFL4SIQlAjJqX8DGXEBBWvFy2J3+owNA+6BM3B3VlQiu9j2QOKVhxtX1ESZCW+t0\nJnWJAiUEGAEIAA8CGwwFAlxaSokFCQc/Kl8ACgkQxFg76UlX2rDoWxAAqTK2qe1w\ngFCsBfxXT7bsc9fcT2pa2WCDfcq3zzEzsNUIx3SdOnrc2f6EvNc/jnsfDk3296AC\nqQniDfdcGYeA6RUGQKdIHmbvCKfJ/b34a4vVZZQLXjiZ4RkVvDWNlYkmw/SIm1ps\nrqo5AX0ugnrXrpQm2AZIQGXvqJEbHdcM60yyDAnKTi8RgU0GRmgYvb0gOvc+oyro\nWaLIp9tLBu9dGMDS7AY4FnhNyYBMvNHSp5Fvj4HE+nmVDVgFU3b28s5hdLouJpW1\nkr4HC65DZMRFDupWuPufM/Y5x6QLcwdNTePCQPdWu9axe2jxud+H7rnBUkRdr57P\nUfjKZc0j75HwIIQhig1aReFDucuee2xBIckZwE8ftI5Ynf5VjaF9sT2SXYm04vzV\n46v1K6Ksq3yxRZaYDLM5kb4tGtGjmtgfmqiD1wFao1kcDl507wprItBDgbweodfD\na6fZk4dnO6jDqwogZEO0rUHP7xNhXqJfd6yyKIbSaqeYcHXbeAq7LqA3FUdkHU4l\n3jxjXc2lETN9PjCcO4MghyWBwkuv+D48es1yL3fGAgEl5+ZYR9K+w2dZVkkA4xHr\nFgRUIzhv5exyyE/UhITavnumXebcGdnMnd83E2L4RHfVmnXvXkvL0pTsMa4ckAmD\n5nOSFa9DMErly6ujpY0cY19LMGCuuve/ai4=\n=O9jd\n-----END PGP PUBLIC KEY BLOCK-----",
 gpg_key_id: "4957DAB0",
 gpg_key_name: "",
 created_at: Wed, 30 Sep 2020 21:12:09 UTC +00:00,
 updated_at: Wed, 30 Sep 2020 21:12:09 UTC +00:00,
 username: "AKIAJ4KLIPVRHRXICPKQ",
 encrypted_password: "*\xC8\xE1\v\xD6\x87D\xE3#\xCBG\xB7\xC8-\xE7\xB1\xC3\xD2\bW4f\xA7\xC1\e\xDDk8\t\x8E\x8E\xD4\x8F\xF2\xCC\xB3\x1AnL\xCC>.$^\x19\xFFci",
 url: "s3://grnds-development-datasink/rgarcia/output/enclarity/">
```

Given the following file created and uploaded to s3:
```shell
(base)   jarvis git:(story/DATA-276/refactor-reencrypt-use-streaming-gem)  touch test_file.txt
(base)   jarvis git:(story/DATA-276/refactor-reencrypt-use-streaming-gem)  vim test_file.txt
(base)   jarvis git:(story/DATA-276/refactor-reencrypt-use-streaming-gem)  cat test_file.txt
Hi this is a test, line one
this is line two
and line 3
bye!
(base)   jarvis git:(story/DATA-276/refactor-reencrypt-use-streaming-gem)  gpg -e -s -r ops@grandrounds.com test_file.txt
gpg: using "357D63A8F7B499705927A23B5762FF4BC65E5310" as default secret key for signing
gpg: AD4C031C8156536B: There is no assurance this key belongs to the named user

sub  rsa4096/AD4C031C8156536B 2019-04-02 Grand Rounds Data Exchange 2019 <ops@grandrounds.com>
 Primary key fingerprint: E380 1E8A 8591 A0B5 9EC1  4900 940A 27F3 11EA C329
      Subkey fingerprint: C297 28F7 CEE8 C29C EA48  6DA6 AD4C 031C 8156 536B

It is NOT certain that the key belongs to the person named
in the user ID.  If you *really* know what you are doing,
you may answer the next question with yes.

Use this key anyway? (y/N) y
(base)   jarvis git:(story/DATA-276/refactor-reencrypt-use-streaming-gem)  gpg --list-packets --batch test_file.txt.gpg
gpg: encrypted with 4096-bit RSA key, ID AD4C031C8156536B, created 2019-04-02
      "Grand Rounds Data Exchange 2019 <ops@grandrounds.com>"
# off=0 ctb=85 tag=1 hlen=3 plen=524
:pubkey enc packet: version 3, algo 1, keyid AD4C031C8156536B
	data: [4095 bits]
# off=527 ctb=d2 tag=18 hlen=2 plen=0 partial new-ctb
:encrypted data packet:
	length: unknown
	mdc_method: 2
# off=548 ctb=a3 tag=8 hlen=1 plen=0 indeterminate
:compressed packet: algo=2
# off=550 ctb=90 tag=4 hlen=2 plen=13
:onepass_sig packet: keyid 70D81EB8338F990A
	version 3, sigclass 0x00, digest 10, pubkey 1, last=1
# off=565 ctb=ac tag=11 hlen=2 plen=80
:literal data packet:
	mode b (62), created 1601507056, name="test_file.txt",
	raw data: 61 bytes
# off=647 ctb=89 tag=2 hlen=3 plen=563
:signature packet: algo 1, keyid 70D81EB8338F990A
	version 4, created 1601507056, md5len 0, sigclass 0x00
	digest algo 10, begin of digest be 1f
	hashed subpkt 33 len 21 (issuer fpr v4 CB0117055D4E33CA3582255870D81EB8338F990A)
	hashed subpkt 2 len 4 (sig created 2020-09-30)
	subpkt 16 len 8 (issuer key ID 70D81EB8338F990A)
	data: [4095 bits]
(base)   jarvis git:(story/DATA-276/refactor-reencrypt-use-streaming-gem)  aws s3 cp test_file.txt.gpg s3://grnds-development-datasink/rgarcia/input/test_file.txt.gpg/16b730be-ae9c-40bd-aae5-28da0a568b9e
upload: ./test_file.txt.gpg to s3://grnds-development-datasink/rgarcia/input/test_file.txt.gpg/16b730be-ae9c-40bd-aae5-28da0a568b9e
(base)   jarvis git:(story/DATA-276/refactor-reencrypt-use-streaming-gem)  aws s3 ls s3://grnds-development-datasink/rgarcia/input/test_file.txt.gpg/16b730be-ae9c-40bd-aae5-28da0a568b9e
2020-09-30 23:05:12       1243 16b730be-ae9c-40bd-aae5-28da0a568b9e
```

In the rails console (`DISABLE_SPRING=true RAILS_ENV=development GPG_KEY_PASSPHRASE=<REDACTED> rails c`:
```ruby
[14] pry(main)> data_sink = DataSink.find(1)
  DataSink Load (3.6ms)  SELECT  `data_sinks`.* FROM `data_sinks` WHERE `data_sinks`.`id` = 1 LIMIT 1
=> #<DataSink:0x00007fe63be2daa0
 id: 1,
 to_id: 243,
 to_type: "Affiliate",
 pepper: "2__\x9A\x91\xC8\xBFm\xA3\x04\x0E\x97\x88l\x8C\xAE\x82\xFDi",
 gpg_key:
  "-----BEGIN PGP PUBLIC KEY BLOCK-----\n\nmQINBFjdhycBEADIcbe+nbKNPTMAnOemOTXpzhTSm22Yn9Y0B+EsunnYgRmSP3Or\nuyvewgSaE65BmR5LvpdChJvy8aKVlqnvPYhSV2Ze/Qru71zFG3R8Qk4aXTdYFENJ\n1yqR+tzUK0gYdYOP6CZV5sNzBBJVpu/Y3tAS7lvhgv8ksy9pF89xs1KlPo9y/AHt\nwqsonMAaO7vCChT1pb1X2H1rkOJ1EO3zozIIF25nteHet0IbqUvY8vsdj6LT6975\nNSKs19vEMUChZn30S+I8QT06dn+Vz7T8qRg4XinK9XYejNbPIHYVYatEhRhCSDDJ\n2IxE1UtzUZK/7mKh20je0jC9ND0PuD5aFFNqTKvnkDL2aJvwhr5wLVCtqD0UgZnl\nB566pmpIPhAUg0ZQdHRva+jVxgiePblF9aVeeN5z8CIDPwc8164pejjazx7xoyVc\nO2UFW42BqGPEtnAC57b59byxvbnuj5YqnqDEn+TrYNpGFcxW1HtVYFoZGW7zlpyT\nI0LDhWg9bBIDDJ2RxJJtlqxX78mDqrSTnjamlxyuC2DshesND4JJvzNfOTLODLXA\nqIUmRXeHJK+fkU3ITZC6v9N8Q598uh4MJS82OyvyknOHpn6//+luHQbzogfI+Nzp\n69hmrNu+E/WI+lG+WP4flKSKXSE2DGTxAAOIWYhx8A8LkpT/crToHgWroQARAQAB\ntEZHcmFuZCBSb3VuZHMgRGF0YSBTY2llbmNlICgyMDE4IERTIEtleSkgPGRhdGEt\nc2NpZW5jZUBncmFuZHJvdW5kcy5jb20+iQI+BBMBCAAoBQJY3YcnAhsDBQkDd0GA\nBgsJCAcDAgYVCAIJCgsEFgIDAQIeAQIXgAAKCRDEWDvpSVfasAuID/47R9GWU8aQ\nB/bVCM1J03YJ1z9L3ecwpHvNFBJgmyBna96r2AxO9LCW6mr1C63QwPfztqAxlt0E\nDyiPcVEAMZPrlvTAPzk99QgqcUm2pVa5SdSEEBVc+sm0c9EnrrTANsvJE8/M4h6/\nfZvZ2pxcaFguWKQjUpcNKWUwV60pgIBFMVlw31lLrCtkz8Q8ovYclFC1fYopfZ8N\n+yE11vaLzkKKWJN38/PDUpMXVlLiUCBzhM1IPUjO1vmPcZiYvITk0TcnrdkZIe15\nXfuQjun0AOMnchs8ncx4+YEx8lY2zd8PcaIbxrYbrnY8imatVFUV1mx+tdsPeya/\nqMtfmdWJBnZBa+z1TTNt8WhTJzIus9HDxfKia7N5D9bA3U/dMkeeqjaZTcSAm4CV\nWhagwRKqe439NPRZvhN6/7RcyzQyF3+IQs4a8CPIxgj3mV+Ql9XGjkCIhLo2p5Kd\ni6KskRa27zrEfg/IZTe93t4rtGkLoda7Z9fRcuXBxJpZMGHE7feg+Dho5uU5ijQx\n0hzJHnuKBdWpVxq9pqPCvIds1xEi3f+iwJTx/07FIVwSV75I9weeXiZzwJfDWUyF\nBaHRhBOTVcEOFkpkEnB28+sIVSLnv4V3ePpQyst8jKSyXuoORb4PtjjTuepbiZiV\nq/lQYpXVefIlsArEwhWiAOrAfEeMcujuNokCPgQTAQgAKAIbAwYLCQgHAwIGFQgC\nCQoLBBYCAwECHgECF4AFAlxaSkoFCQc/KiAACgkQxFg76UlX2rCAvBAAsOpgAegK\nU1jnUwxz0xdi6P1X9OVgrHsM8QXlugw5Mc5OKmjDnCxpecM5itT3zfSXB2sLH3vd\nLbssqldCPajhRAyXdVMoGurNoK2KahO/Erb6p8SlFGRPQTvGWbaHJwCJBshbgNPB\nrYAIykBPBNfr/CAOr+sVKV69hDZQ7nLdBfK7tfwbulq602fTiJtOQhH6ZGhckCgJ\n6MWWVPXb/DI5nyvfMZuQBfMrH52Xej0d8enHXAjB06MQruAD5sHXIS8Jnl+aub/Q\nAlOXrDGjjGeDN1Ds2GoYwxiuYR4Xf4HVKWP6YAu34ghRZKi5TtILr/2TcqOgwlop\nbL6GfIwzPKp7KXeO7l0t9UikzzyZ4OqBKlyB22xG/ubu5cBKXbF5ZB7gRiLMhlNi\n5KwVWkXQBBS+s6vFtt5o3/FXjVygOiUWq4BscpOKq8KikAHoJcDqioWKGITzg22e\n+1K0dRzE/AnmywRpqL03zUBwq+rlC/pLyh7z42k6BIYXWNN6vZ5pyqvGArk/omME\nvhLnxhv9MJ1TvA5XRO1PciC1MFjbmhBYBnDJ4yupJg3GUwDD86fQOMIf04NrexHO\nV/7tf6XWS5/H6vnONUm+I1yphoQBD6duULiSm1+Tn5hnSTbPQO0X8zxv9LuMO87p\n6iWsJXG3K51Sw1Nk/VvDLDpiqwNn3xjrSUS5Ag0EWN2HJwEQAM+VaeUjexrXVkPg\nSdU/LUMunI9GTJQlZBdAeTbKE12dj4OWWfMLiS/rXH4WxvVJdhSbZo3+DWjMc9vN\nt4ugBiQzeiMtMNh/SBziEy97mRcXTEcu7DQIoBU1WPnxsrEMrVyIP3e6fXT3M4UD\nTYhKfAwOelW/Ppc9e6YdX4yzilnbdpYFMlNjK0rqs8QVJSuuslmKBrCJYNzQtW02\ncQCw6g06ZruiH8nR84vg7A2UjcpxXOmCPLulA538LTQE12jfDjY+OVw+zh6Jss2/\nnufnzvT1c56+80v5E7xngWIRY8jZAitgqrHZhhsU2V2er4IV73G3t/HVMIdd1xiZ\nTKoF25yvR0NFwgz0lxfF3UMXw10zVE8felqQUHl2jG6PjfMf8Xg6y00DXXYDABCb\nbhqE9zs0z0BjgqR2zz/fiXJrEWrnGHEb1Gw0PJs1VzSByt+YrpONNspsWxM2J0hR\nhoxSHE5wSyYkUp4TZWB52pYaRwOraDsDigN5QF7M6KUIwOOlrdWY+/B/FxJsyra8\n58QxHjcXb/b9vPAsDk73qx2q/1++OqdX3yEY+dPVbuB4AgVnVK3KmBOi87ulq6XZ\nStKzhP0nRyziSh2rxGM2ahwTisoSTR1XhpEZgfJ+cuMFiXVf2E7ia3SHmUIRNH4z\nXXyWiPYDjBVYteVLHBVv8hr8zRvlABEBAAGJAiUEGAEIAA8FAljdhycCGwwFCQN3\nQYAACgkQxFg76UlX2rCwGg/9FHH3Ygipap0dlpmGnZXPSPAiIMhDp2emX3/CU8/R\n6pRmBoMTy1HvhT0sQYOCa6h80FE9zaSnbVZB+ZxU+Jkngjrey3X5m1AOqsZpitCL\nOT0xiODAx0zLFXW511EwCFFhBnSTyrD49IVFNivoQ5dN0TJGC82xk0k3qUH3DdE6\nD5DR2iXXBpAK70hWCtRltMRtnBWKOtAGaioeAKCGDH+fwFl+BokfS24nB9PowyKZ\ncWgYJpw+YnKfGYr4Nx8oYnJuON123TS9EYPGl5WVGR22K8pkw5MP16aLiVkR0aA9\nnAtgkJJm8tL1V3Z+ddNoxRRN4Ryh5LYZ1qnFVfBHpiZGnU2r67Sdaa5R3/TKEeKq\nX2LQl3xyhvQqWgvXWHUvpS0cz5RES/baVyM2LBCxt9cIUndcFMkImz2MuORyi08S\nBaIBIlbYtWyJr7zzyKM9iZSeQ4jMsAwXBbG3CbLRE5nItDekckPjzgklKTx9n3YX\nfOvgqjcOGglEHD+aE/U02k7mBVzMaxjnRCc80ei06vq7fyH/enJYBowCi+++bkZB\n5Pl5icyJ8wm9C2N2eZwbmD1PQ5ysLW3l8l/LBw5V2dygehoItYXDOBCY8G11r3RY\neFL4SIQlAjJqX8DGXEBBWvFy2J3+owNA+6BM3B3VlQiu9j2QOKVhxtX1ESZCW+t0\nJnWJAiUEGAEIAA8CGwwFAlxaSokFCQc/Kl8ACgkQxFg76UlX2rDoWxAAqTK2qe1w\ngFCsBfxXT7bsc9fcT2pa2WCDfcq3zzEzsNUIx3SdOnrc2f6EvNc/jnsfDk3296AC\nqQniDfdcGYeA6RUGQKdIHmbvCKfJ/b34a4vVZZQLXjiZ4RkVvDWNlYkmw/SIm1ps\nrqo5AX0ugnrXrpQm2AZIQGXvqJEbHdcM60yyDAnKTi8RgU0GRmgYvb0gOvc+oyro\nWaLIp9tLBu9dGMDS7AY4FnhNyYBMvNHSp5Fvj4HE+nmVDVgFU3b28s5hdLouJpW1\nkr4HC65DZMRFDupWuPufM/Y5x6QLcwdNTePCQPdWu9axe2jxud+H7rnBUkRdr57P\nUfjKZc0j75HwIIQhig1aReFDucuee2xBIckZwE8ftI5Ynf5VjaF9sT2SXYm04vzV\n46v1K6Ksq3yxRZaYDLM5kb4tGtGjmtgfmqiD1wFao1kcDl507wprItBDgbweodfD\na6fZk4dnO6jDqwogZEO0rUHP7xNhXqJfd6yyKIbSaqeYcHXbeAq7LqA3FUdkHU4l\n3jxjXc2lETN9PjCcO4MghyWBwkuv+D48es1yL3fGAgEl5+ZYR9K+w2dZVkkA4xHr\nFgRUIzhv5exyyE/UhITavnumXebcGdnMnd83E2L4RHfVmnXvXkvL0pTsMa4ckAmD\n5nOSFa9DMErly6ujpY0cY19LMGCuuve/ai4=\n=O9jd\n-----END PGP PUBLIC KEY BLOCK-----",
 gpg_key_id: "4957DAB0",
 gpg_key_name: "",
 created_at: Wed, 30 Sep 2020 21:12:09 UTC +00:00,
 updated_at: Wed, 30 Sep 2020 21:12:09 UTC +00:00,
 username: "AKIAJ4KLIPVRHRXICPKQ",
 encrypted_password: "*\xC8\xE1\v\xD6\x87D\xE3#\xCBG\xB7\xC8-\xE7\xB1\xC3\xD2\bW4f\xA7\xC1\e\xDDk8\t\x8E\x8E\xD4\x8F\xF2\xCC\xB3\x1AnL\xCC>.$^\x19\xFFci",
 url: "s3://grnds-development-datasink/rgarcia/output/enclarity/">
[15] pry(main)> source_bucket
=> "grnds-development-datasink"
[16] pry(main)> source_key_2
=> "rgarcia/input/test_file.txt.gpg/16b730be-ae9c-40bd-aae5-28da0a568b9e"
[17] pry(main)> data_sink.deliver_streaming(source_bucket, source_key_2)
=> #<struct Aws::S3::Types::CompleteMultipartUploadOutput
 location="https://grnds-development-datasink.s3.amazonaws.com/rgarcia%2Foutput%2Fenclarity%2Frgarcia%2Finput%2Ftest_file.txt.gpg%2F16b730be-ae9c-40bd-aae5-28da0a568b9e",
 bucket="grnds-development-datasink",
 key="rgarcia/output/enclarity/rgarcia/input/test_file.txt.gpg/16b730be-ae9c-40bd-aae5-28da0a568b9e",
 expiration=nil,
 etag="\"90d630bfbfd1f6b12e3ec0dd82d74ae1-1\"",
 server_side_encryption=nil,
 version_id=nil,
 ssekms_key_id=nil,
 request_charged=nil>
[18] pry(main)>
```

We verify that it was re-encrypted with the gpg key in the data sink:
```
(base)   jarvis git:(story/DATA-276/refactor-reencrypt-use-streaming-gem)  aws s3 ls --recursive s3://grnds-development-datasink/rgarcia/output/
2020-10-01 02:14:32 4197209402 rgarcia/output/enclarity/rgarcia/input/grandrounds_20200928_from_sftp.zip.pgp/0301a682-2b31-4200-81e1-18a983d2a0de
2020-10-01 03:42:44        634 rgarcia/output/enclarity/rgarcia/input/test_file.txt.gpg/16b730be-ae9c-40bd-aae5-28da0a568b9e
(base)   jarvis git:(story/DATA-276/refactor-reencrypt-use-streaming-gem)  aws s3 cp s3://grnds-development-datasink/rgarcia/output/enclarity/rgarcia/input/test_file.txt.gpg/16b730be-ae9c-40bd-aae5-28da0a568b9e .
download: s3://grnds-development-datasink/rgarcia/output/enclarity/rgarcia/input/test_file.txt.gpg/16b730be-ae9c-40bd-aae5-28da0a568b9e to ./16b730be-ae9c-40bd-aae5-28da0a568b9e
(base)   jarvis git:(story/DATA-276/refactor-reencrypt-use-streaming-gem)  gpg --list-packets --batch 16b730be-ae9c-40bd-aae5-28da0a568b9e
gpg: encrypted with 4096-bit RSA key, ID A7F9BF5CF0C509FA, created 2017-03-30
      "Grand Rounds Data Science (2018 DS Key) <data-science@grandrounds.com>"
# off=0 ctb=85 tag=1 hlen=3 plen=524
:pubkey enc packet: version 3, algo 1, keyid A7F9BF5CF0C509FA
	data: [4092 bits]
# off=527 ctb=d2 tag=18 hlen=2 plen=105 new-ctb
:encrypted data packet:
	length: 105
	mdc_method: 2
# off=548 ctb=a3 tag=8 hlen=1 plen=0 indeterminate
:compressed packet: algo=2
# off=550 ctb=cb tag=11 hlen=2 plen=67 new-ctb
:literal data packet:
	mode b (62), created 1601523763, name="",
	raw data: 61 bytes
(base)   jarvis git:(story/DATA-276/refactor-reencrypt-use-streaming-gem)  gpg --output destination_test_file.txt -d 16b730be-ae9c-40bd-aae5-28da0a568b9e
gpg: encrypted with 4096-bit RSA key, ID A7F9BF5CF0C509FA, created 2017-03-30
      "Grand Rounds Data Science (2018 DS Key) <data-science@grandrounds.com>"
File 'destination_test_file.txt' exists. Overwrite? (y/N) y
(base)   jarvis git:(story/DATA-276/refactor-reencrypt-use-streaming-gem)  cat destination_test_file.txt
Hi this is a test, line one
this is line two
and line 3
bye!
(base)   jarvis git:(story/DATA-276/refactor-reencrypt-use-streaming-gem) 
```

This was with a small file. For good measure I also did it with the latest enclarity dataset as well which was also successfully uploaded:
```
2020-10-01 02:14:32 4197209402 rgarcia/output/enclarity/rgarcia/input/grandrounds_20200928_from_sftp.zip.pgp/0301a682-2b31-4200-81e1-18a983d2a0de
```

Nonetheless I put this change behind a feature flag in the chance it doesn't work in Prod we can quickly disable and process the weekly zelis dataset over with the usual crappier way.


=====================================================
Timestamp:  2020-09-30T19:13:23Z
Repository: ConsultingMD/potluck
PR #1358: [DGC-22] create governed projection of redshift_imports.tp_medical_terms:v1

Description:
This is a continuation of https://github.com/ConsultingMD/potluck/pull/1298

[DGC-22](https://grandrounds.atlassian.net/browse/DGC-22)

@macklin @mattforbes-gr @bradtofel-gr 


=====================================================
Timestamp:  2020-09-29T21:02:07Z
Repository: ConsultingMD/metropolis
PR #1323: [DATA-312] provider_specialties are missing after enclarity started sending us non_physicians

Description:
*Problem:* 

In June, Enclarity began sending us non-MD data. They created a flag based on the providers speciality and degree information to differentiate between the non-MD and physicians. We started using the flag on 6/17 and since then we dropped 28k physicians (~4% of physician volume) from our specialty table. A quarter of the physicians are Primary Care and 16% of physicians dropped are in Michigan. 

Example providers: 1205120490, 1023019288

In order to fix this, we need to allow Zelis physicians to be assigned to physician specialties in {{canonical.provider_specialties}}.

Original databug ticket is here - [https://grandrounds.atlassian.net/browse/DATA-186|https://grandrounds.atlassian.net/browse/DATA-186|smart-link] 

[DATA-312](https://grandrounds.atlassian.net/browse/DATA-312)

@kartik-gr @macklin @pwrose21 @jesse-weaver23 


=====================================================
Timestamp:  2020-09-29T00:17:26Z
Repository: ConsultingMD/rogers
PR #398: [DATA-311] revert data-309

Description:
@whiskeyjimbo 


=====================================================
Timestamp:  2020-09-28T22:22:15Z
Repository: ConsultingMD/potluck
PR #1330: [DF-3329] Increase file_not_polled alert tolerance for daily datasources 

Description:

[DF-3329](https://grandrounds.atlassian.net/browse/DF-3329)

@vinaygoel 


=====================================================
Timestamp:  2020-09-26T00:01:00Z
Repository: ConsultingMD/rogers
PR #397: [DATA-309] update rogers to use oidc

Description:
@whiskeyjimbo @kartik-gr 


=====================================================
Timestamp:  2020-09-25T02:31:18Z
Repository: ConsultingMD/potluck
PR #1298: [DGC-22] redshift_imports.tp_medical_terms:v1

Description:

[DGC-22](https://grandrounds.atlassian.net/browse/DGC-22)

@macklin @mattforbes-gr 


=====================================================
Timestamp:  2020-09-23T20:03:29Z
Repository: ConsultingMD/bronze
PR #2096: [DF-3298] Add Richard Garcia as codeowner for the resource directory to approve exclusion PRs

Description:

[DF-3298](https://grandrounds.atlassian.net/browse/DF-3298)


=====================================================
Timestamp:  2020-09-19T00:06:23Z
Repository: ConsultingMD/potluck
PR #1227: [DF-3286] Move relevant deps to v2

Description:
{noformat}./catalog/resources/tasks/data_factory/main_med_claims_v2.prototxt
./catalog/resources/tasks/data_factory/main_merged_medical_coverage_v2.prototxt
./catalog/resources/tasks/data_factory/main_dimension_changes_coverage_v2.prototxt
./catalog/resources/tasks/data_factory/biometric_v2.prototxt
./catalog/resources/tasks/data_factory/carrier_coverage_v2.prototxt
./catalog/resources/tasks/data_factory/main_raw_coverage_v2.prototxt
./catalog/resources/tasks/data_factory/authorizations_v2.prototxt
./catalog/resources/tasks/data_factory/main_rx_claims_v2.prototxt
./catalog/resources/tasks/data_factory/main_merged_coverage_v2.prototxt
./catalog/resources/tasks/data_factory/adt_v2.prototxt{noformat}

[DF-3286](https://grandrounds.atlassian.net/browse/DF-3286)

@vinaygoel 


=====================================================
Timestamp:  2020-09-17T03:32:44Z
Repository: ConsultingMD/potluck
PR #1204: [DF-3256] Automatically resolve a PD incident if the alert is no longer present on the latest report

Description:
* fetch all acknowledged/triggered incidents of a service
* when generating the alert in the report task, check if already exists. If it exists, remove from the list of incidents
* any incident that remains on the list is no longer present in the latest report so we should resolve each of them

[DF-3256](https://grandrounds.atlassian.net/browse/DF-3256)

@vinaygoel @mattforbes-gr 

getting the following error when trying to build locally (with GP off):

Still need to test this locally to make sure it works.
```
INFO: Call stack for the definition of repository 'bazel_skylib' which is a http_archive (rule definition at /private/var/tmp/_bazel_rgarcia/95c8d2120312af3597c97682b3b2051a/external/bazel_tools/tools/build_defs/repo/http.bzl:292:16):
 - /private/var/tmp/_bazel_rgarcia/95c8d2120312af3597c97682b3b2051a/external/bazel_tools/tools/build_defs/repo/utils.bzl:205:9
 - /Users/rgarcia/GR/potluck/WORKSPACE:14:1
WARNING: Download from https://github.com/bazelbuild/bazel-skylib/releases/download/0.9.0/bazel_skylib-0.9.0.tar.gz failed: class java.net.SocketException java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)
ERROR: An error occurred during the fetch of repository 'bazel_skylib':
   java.io.IOException: Error downloading [https://github.com/bazelbuild/bazel-skylib/releases/download/0.9.0/bazel_skylib-0.9.0.tar.gz] to /private/var/tmp/_bazel_rgarcia/95c8d2120312af3597c97682b3b2051a/external/bazel_skylib/bazel_skylib-0.9.0.tar.gz: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)
ERROR: no such package '@bazel_skylib//': java.io.IOException: Error downloading [https://github.com/bazelbuild/bazel-skylib/releases/download/0.9.0/bazel_skylib-0.9.0.tar.gz] to /private/var/tmp/_bazel_rgarcia/95c8d2120312af3597c97682b3b2051a/external/bazel_skylib/bazel_skylib-0.9.0.tar.gz: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)
Sync finished
Sync failed
```

The goal is to convert all the events to vault services (I already added the vault changes), might do that in a separate ticket.


=====================================================
Timestamp:  2020-09-10T22:14:57Z
Repository: ConsultingMD/potluck
PR #1156: [DF-2850] Enable alerting of datasources for a subset of whitelisted IDs

Description:
get list of Datasource IDs from JonG of Solutions Engineering

[DF-2850](https://grandrounds.atlassian.net/browse/DF-2850)

Augmenting batch 1.0 w/ batch 1.1:

Activision Blizzard (68) - 3 Data Sources

AT&T (194) - 6 Data Sources

Tyson Foods (310) - 4 Data Sources

@vinaygoel @jgottschalk @jrifkin 


=====================================================
Timestamp:  2020-09-10T20:58:42Z
Repository: ConsultingMD/potluck
PR #1151: [DF-3250] update task to be foundation_projection

Description:

[DF-3250](https://grandrounds.atlassian.net/browse/DF-3250)

@mattforbes-gr @vinaygoel 


=====================================================
Timestamp:  2020-09-09T22:56:11Z
Repository: ConsultingMD/potluck
PR #1140: [DF-3240] Route FileNotInManifestAlert alerts to DF on-call instead of SE

Description:

[DF-3240](https://grandrounds.atlassian.net/browse/DF-3240)

@vinaygoel 


=====================================================
Timestamp:  2020-09-09T01:52:12Z
Repository: ConsultingMD/tp
PR #1551: [DATA-286] Add United Premium Designation program as a special rule in PDM

Description:
h3. Why

We want to show a message to users that search for providers under an insurance plan covered by the United Premium Designation program.  See [https://grandrounds.atlassian.net/browse/MX-2093|https://grandrounds.atlassian.net/browse/MX-2093|smart-link] 

h3. Acceptance Criteria

A new checkbox appears under the Special Rules section of PDM that has the label United Premium Designation Program

*Notes:*

[DATA-286](https://grandrounds.atlassian.net/browse/DATA-286)

@mattfrey-gr @kartik-gr 

![image](https://user-images.githubusercontent.com/1312796/92544963-01127800-f204-11ea-9d9a-f60f2ecd5d65.png)
![image](https://user-images.githubusercontent.com/1312796/92545086-3c14ab80-f204-11ea-9676-e21ee610cdc0.png)

```
[2] pry(main)> InsurancePlan.last
  InsurancePlan Load (6.0ms)  SELECT  "insurance_plans".* FROM "insurance_plans" WHERE "insurance_plans"."deleted_at" IS NULL  ORDER BY "insurance_plans"."id" DESC LIMIT 1
=> #<InsurancePlan:0x00007fd72793fe58
 id: 15379,
 carrier_name: "foos",
 imported_plan_name: "bar",
 plan_name: "bars bruh",
 customer_id: 569464865,
 created_at: Wed, 09 Sep 2020 01:42:09 UTC +00:00,
 updated_at: Wed, 09 Sep 2020 01:42:09 UTC +00:00,
 customer_name: "Borrowdale",
 imported_carrier_name: "foo",
 deleted_at: nil,
 slug: "unique_baby",
 start_date: nil,
 expiration_date: nil,
 rules: "{\"tiered\":\"1\",\"narrow\":\"0\",\"aco\":\"0\",\"coe\":\"0\",\"updp\":\"1\",\"require_pcp_selection\":\"0\"}",
 hra: true,
 hsa_link: nil,
 plan_website_link: nil,
 care_team_accessible_only: true,
 enable_fg: true,
 display_bdc: true,
 enable_claims_activity: true,
 cch_payer_id: nil,
 plan_id: "changed_it_bruhdjdjdjd",
 require_pcp_referral: false,
 enable_claims_support: false,
 rx_oop_max_family: "",
 rx_oop_max_individual: "",
 rx_vendor_name: "",
 rx_vendor_url: "",
 plan_details_config_slug: nil,
 fsa_link: nil>
```
Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/14411


=====================================================
Timestamp:  2020-09-09T01:51:52Z
Repository: ConsultingMD/jarvis
PR #14411: [DATA-286] Add United Premium Designation program as a special rule in PDM

Description:
h3. Why

We want to show a message to users that search for providers under an insurance plan covered by the United Premium Designation program.  See [https://grandrounds.atlassian.net/browse/MX-2093|https://grandrounds.atlassian.net/browse/MX-2093|smart-link] 

h3. Acceptance Criteria

A new checkbox appears under the Special Rules section of PDM that has the label United Premium Designation Program

*Notes:*

[DATA-286](https://grandrounds.atlassian.net/browse/DATA-286)

@mattfrey-gr @kartik-gr 
![image](https://user-images.githubusercontent.com/1312796/92544979-0bcd0d00-f204-11ea-9477-151c108f71cb.png)

TP PR: https://github.com/ConsultingMD/tp/pull/1551


=====================================================
Timestamp:  2020-09-08T20:56:52Z
Repository: ConsultingMD/potluck
PR #1126: [DF-3208] Blacklist erroneous Salesforces Premera Rx files from Med

Description:
exclusion already happened in https://github.com/ConsultingMD/bronze/pull/2054

Related PG: [https://grand-rounds.pagerduty.com/incidents/P4VPVM8|https://grand-rounds.pagerduty.com/incidents/P4VPVM8]

[DF-3208](https://grandrounds.atlassian.net/browse/DF-3208)


=====================================================
Timestamp:  2020-09-08T19:18:31Z
Repository: ConsultingMD/bronze
PR #2054: [DF-3208] Blacklist erroneous Salesforces Premera Rx files from Med

Description:
The following Premera Rx files were erroneously polled by the Med data source due to incorrect filename pattern.

Please exclude these files from the daly Bronze runs/publishes:

File:

{noformat}s3://grnds-production-claims-sse-raw/premera_blue_cross/salesforce/test_claims/grandrounds_rxclaims_20200510.txt/f503d6c6-83ac-4c00-96fd-350ff7e89e16{noformat}

Data Source: {{621}}

Related PG: [https://grand-rounds.pagerduty.com/incidents/P4VPVM8|https://grand-rounds.pagerduty.com/incidents/P4VPVM8]

[DF-3208](https://grandrounds.atlassian.net/browse/DF-3208)
https://grandrounds.atlassian.net/browse/DF-3209

@stevenye-gr @vinaygoel 


=====================================================
Timestamp:  2020-09-03T20:59:39Z
Repository: ConsultingMD/rogers
PR #396: [DATA-280] update net-ssh to work with all supported algorithms

Description:
@kartik-gr @cobbr2 

fixed https://rollbar.com/GrandRounds/rogers/items/1843/?item_page=0&item_count=100&#instances after the deploying https://github.com/ConsultingMD/rogers/pull/384 to production. Will also notify SE to reach out to these customer and suggest they update on their end as well.

*Notes:*

[DATA-280](https://grandrounds.atlassian.net/browse/DATA-280)


=====================================================
Timestamp:  2020-09-02T20:52:43Z
Repository: ConsultingMD/rogers
PR #395: [DATA-236] Data source polling causing error on external SFTP

Description:
Meritain puts an eligibility file on their SFTP and our Data source picks it up. Meritain says theyre receiving the below error from our SFTP process:

Error status is true, but no error message defined.

According to [~accountid:557058:94fd4465-dd26-4bb8-8cec-50cd9656fa39]
Looking at logs from the last file delivery (7/28) and it completed successfully with no errors on our end.
07/28/2020 15:40:30.478 -0700 Processing DataSource#30, 
07/28/2020 15:40:30.478 -0700 Finished DataSource#30 in 1533.22 ms

Data source #30
Customer: https://stark.grandrounds.com/admin/customers/69

Latest from Meritain:
Reading from the bottom of the table (oldest) to the top (newest), they connect and initiate a get/pull (transfer ID cc3b84c3-32e3-49d4-a7be-77ae517f7e50 in red). Then, less than a second later, they initiated a second get/pull (transfer ID 88fdc48c-fcad-477d-8206-b104a10fea49 in yellow), while the first transfer is still running, of the same file. This second get/pull request is picked up by the backend node stp01. This causes the first transfer sessions which is reading the file on node stp02 to fail/error out on reading the file (transfer id cc3b84c3-32e3-49d4-a7be-77ae517f7e50 in red). The second transfer then runs to completion successfully (cc3b84c3-32e3-49d4-a7be-77ae517f7e50 in green).
To stop the error, the client must stop issuing multiple get/pull requests on the file.   

(screenshot of table attached) [^meritain_transfers.txt] 

@kartik-gr 
[DATA-236](https://grandrounds.atlassian.net/browse/DATA-236)


=====================================================
Timestamp:  2020-08-31T22:21:02Z
Repository: ConsultingMD/tp
PR #1550: [DATA-275] bump grnds-service for TP to pickup the latest version

Description:
@erccarls @macklin @kartik-gr 

[DATA-275](https://grandrounds.atlassian.net/browse/DATA-275)


=====================================================
Timestamp:  2020-08-27T21:47:59Z
Repository: ConsultingMD/service
PR #183: [DATA-265] update match engine url in grnds service

Description:
ME is now on TNG and as part of that has a new domain. {{match}}  {{match-engine.}}As part of updating TP to query the TNG ME we want to update the URL it references.

*Notes:*

[https://github.com/ConsultingMD/service/blob/master/lib/grnds/service/urls.rb#L159|https://github.com/ConsultingMD/service/blob/master/lib/grnds/service/urls.rb#L159]

* Also bump the version

[DATA-265](https://grandrounds.atlassian.net/browse/DATA-265)

TP is the only rails service that use this url: https://github.com/search?p=4&q=org%3AConsultingMD+%3Amatch_engine&type=Code

The TP gem update PR will be automatically created by dependabot and we'll merge and deploy during our schedule meeting next week.


=====================================================
Timestamp:  2020-08-27T00:16:06Z
Repository: ConsultingMD/metropolis
PR #1292: [DATA-262] fix sync_world_to_uat_directory task in upload_world dag

Description:
@kartik-gr 

[DATA-262](https://grandrounds.atlassian.net/browse/DATA-262)


=====================================================
Timestamp:  2020-08-26T22:11:00Z
Repository: ConsultingMD/potluck
PR #1027: [DF-2794] Address Alert Trigger: File not with valid date info

Description:
Options:

# exclude known bad files / control files (OR)
# update regexp patterns in bronze repo where applicable

For the remainder, let the alert fire (and stay assigned to SE) so that the business has visibility into known gaps in this info.

MIssed two more @vinaygoel 

[DF-2794](https://grandrounds.atlassian.net/browse/DF-2794)


=====================================================
Timestamp:  2020-08-26T21:47:43Z
Repository: ConsultingMD/potluck
PR #1026: [DF-2812] Address Alert Trigger: File not with valid content

Description:
Options:

- exclude known bad files / control files / empty files (OR)
- exclude duplicate / restated files

For the remainder, let the alert fire (and stay assigned to SE) so that the business has visibility into known gaps in this info.


[DF-2812](https://grandrounds.atlassian.net/browse/DF-2812)
also addresses:
- https://grandrounds.atlassian.net/browse/DF-2813
- https://grandrounds.atlassian.net/browse/DF-2831

@vinaygoel 


=====================================================
Timestamp:  2020-08-26T19:27:12Z
Repository: ConsultingMD/bronze
PR #2021: [DF-2812] Address Alert Trigger: File not with valid content

Description:
This creates the new directory that will be used for squelching known bad files from the alerting framework.
[DF-2812](https://grandrounds.atlassian.net/browse/DF-2812)


=====================================================
Timestamp:  2020-08-14T06:43:24Z
Repository: ConsultingMD/potluck
PR #933: [DF-2833] Address Alert Trigger: File not in S3 Imports

Description:
List of files that dont have corresponding "retrieved" events in the ingestion logs.


{noformat}SELECT * FROM `grnds-frankie.lasik_yellow.data_factory_data_source_health_report_v1` where alert.alert_trigger_type = file_not_in_s3_imports and gr_datasource_health_status = red{noformat}

Options:
1. expand the set of equivalent events (same as `retrieved`) for use by the alert trigger logic
2. Re-poll the files for retrieval

3. Let the alerts fire and we deal with the walk stage of this concern (exclusions / delivery issues) in the LD project

**4. Filter out known bad/duplicate files**

[DF-2833](https://grandrounds.atlassian.net/browse/DF-2833)

@vinaygoel @mattforbes-gr @kartik-gr 


=====================================================
Timestamp:  2020-08-11T20:05:46Z
Repository: ConsultingMD/metropolis
PR #1284: [DATA-240] Export enclarity.raw_grandrounds_fac_master to BQ

Description:
@rakadutta-gr @kartik-gr @jesse-weaver23 

*Notes:*

[DATA-240](https://grandrounds.atlassian.net/browse/DATA-240)


=====================================================
Timestamp:  2020-08-10T22:40:49Z
Repository: ConsultingMD/rogers
PR #368: [DATA-239] Include the customer id in the rollbar for rogers poll errors

Description:
@kartik-gr 



[DATA-239](https://grandrounds.atlassian.net/browse/DATA-239)


=====================================================
Timestamp:  2020-08-07T22:37:58Z
Repository: ConsultingMD/potluck
PR #897: [DF-3061] dont use get when retrieving the customer fields

Description:

[DF-3061](https://grandrounds.atlassian.net/browse/DF-3061)

@mattforbes-gr 70th time the charm?


=====================================================
Timestamp:  2020-08-07T21:25:33Z
Repository: ConsultingMD/potluck
PR #896: [DF-3053] Fix "EXIT-FAILURE Uncaught error: Resolved attribute(s) customer_id#1 missing from ..." error in the health report task

Description:

[DF-3053](https://grandrounds.atlassian.net/browse/DF-3053)

@vinaygoel @mattforbes-gr 


=====================================================
Timestamp:  2020-08-06T17:42:57Z
Repository: ConsultingMD/potluck
PR #881: [DF-3051] Add "sales.salescloud.raw.provisioning__c:v1" as a dep for data_factory.data_source_health_report

Description:
bug from [https://github.com/ConsultingMD/potluck/pull/870|https://github.com/ConsultingMD/potluck/pull/870|smart-link] 

[DF-3051](https://grandrounds.atlassian.net/browse/DF-3051)

@vinaygoel @mattforbes-gr missed this on the previous PR.


=====================================================
Timestamp:  2020-08-05T03:03:30Z
Repository: ConsultingMD/potluck
PR #870: [DF-3033] Update health report with alert action to trigger incidents for specific SE service based of the customer/ds id

Description:
[DF-3033](https://grandrounds.atlassian.net/browse/DF-3033)

@vinaygoel @mattforbes-gr 

This PR adds support to page specific SE individual PD services.
The following dependencies (also linked in the Jira ticket) have already been completed:

- https://grandrounds.atlassian.net/browse/DF-3031 (Creates the SE specific PD services)
- https://grandrounds.atlassian.net/browse/DF-3032 (Update the pagerduty.json secrets file in s3 with the new entries)


=====================================================
Timestamp:  2020-08-04T15:49:31Z
Repository: ConsultingMD/potluck
PR #859: [DF-3036] Update jira project to search in jira client after we switched from Data Factory to Data Quality

Description:

[DF-3036](https://grandrounds.atlassian.net/browse/DF-3036)

@vinaygoel 


=====================================================
Timestamp:  2020-08-03T17:19:33Z
Repository: ConsultingMD/jarvis
PR #14291: [DATA-229] Reencrypt job keeps retrying forever

Description:
@wyattEpp @amulder87 @kartik-gr @rakadutta-gr 



[DATA-229](https://grandrounds.atlassian.net/browse/DATA-229)


=====================================================
Timestamp:  2020-07-31T02:20:16Z
Repository: ConsultingMD/potluck
PR #852: [DF-3006] update alert trigger to use the new field

Description:

[DF-3006](https://grandrounds.atlassian.net/browse/DF-3006)

@vinaygoel @kartik-gr 

Depends on https://github.com/ConsultingMD/potluck/pull/842


=====================================================
Timestamp:  2020-07-31T00:10:47Z
Repository: ConsultingMD/jarvis
PR #14281: [DF-3007] Remove "once" from the data_source#expected_frequency enum in jarvis

Description:

[DF-3007](https://grandrounds.atlassian.net/browse/DF-3007)

@kartik-gr @vinaygoel 

will merge after the schlepper in https://github.com/ConsultingMD/jarvis/pull/14273 has ran in uat/prod


=====================================================
Timestamp:  2020-07-30T06:24:01Z
Repository: ConsultingMD/potluck
PR #842: [DF-3005] update the jarvis_data_sources lasik ingestion task to read this new one_time_use field

Description:

[DF-3005](https://grandrounds.atlassian.net/browse/DF-3005)

@vinaygoel @kartik-gr 

Opening as draft until the previous dependencies are met and then we can merge this in.


=====================================================
Timestamp:  2020-07-30T05:58:29Z
Repository: ConsultingMD/jarvis
PR #14273: [DF-3003] Add the new one_time_use flag column to data sources in jarvis and warehouse

Description:

[DF-3003](https://grandrounds.atlassian.net/browse/DF-3003)
@vinaygoel @kartik-gr 

Corresponding Warehouse PR (needs to be deployed first): https://github.com/ConsultingMD/warehouse/pull/579

Follow up ticket to remove `once` from the expected_frequency enum: https://grandrounds.atlassian.net/browse/DF-3007


=====================================================
Timestamp:  2020-07-30T04:34:26Z
Repository: ConsultingMD/warehouse
PR #579: [DF-3003] Add the new one_time_use flag column to data sources in jarvis and warehouse

Description:
[DF-3003](https://grandrounds.atlassian.net/browse/DF-3003)

@ajuvekar @vinaygoel @kartik-gr 

Needs to be merged and deployed before the jarvis pr.
Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/14273


=====================================================
Timestamp:  2020-07-29T20:16:58Z
Repository: ConsultingMD/metropolis
PR #1272: [DATA-216] sync world csvs to uat directory to remove manual chore

Description:
Fixes the issues.
[DATA-216](https://grandrounds.atlassian.net/browse/DATA-216)

The combination of this PR and [this](https://grandrounds.atlassian.net/browse/PLAT-3703) other ticket which platform on-call will do will fix it.

@kartik-gr @rakadutta-gr 


=====================================================
Timestamp:  2020-07-28T23:41:11Z
Repository: ConsultingMD/loading-dock
PR #2: [LD-51] Add CODEOWNERS file

Description:

[LD-51](https://grandrounds.atlassian.net/browse/LD-51)

@kartik-gr 


=====================================================
Timestamp:  2020-07-28T22:57:16Z
Repository: ConsultingMD/loading-dock
PR #1: [LD-45] Set up LD for CircleCI

Description:
Follow the steps in: [https://grandrounds.atlassian.net/wiki/spaces/EDS/pages/212337211/How to get a build onto CircleCI|https://grandrounds.atlassian.net/wiki/spaces/EDS/pages/212337211/How to get a build onto CircleCI|smart-link] 

[LD-45](https://grandrounds.atlassian.net/browse/LD-45)

@kartik-gr 


=====================================================
Timestamp:  2020-07-28T20:40:59Z
Repository: ConsultingMD/platform-map
PR #84: [LD-48] Add LD repo to platform service map

Description:

[LD-48](https://grandrounds.atlassian.net/browse/LD-48)

@kartik-gr 


=====================================================
Timestamp:  2020-07-28T15:40:36Z
Repository: ConsultingMD/metropolis
PR #1270: [DATA-222] enclarity.networks is not being populated

Description:
This is a cosmetic bug. This table, {{enclarity.networks}} is meant to only be used as a reference table to see all the available networks included in a deliverable. Doesnt affect any downstream dags.

[DATA-222](https://grandrounds.atlassian.net/browse/DATA-222)

@kartik-gr @rakadutta-gr 


=====================================================
Timestamp:  2020-07-25T07:55:20Z
Repository: ConsultingMD/potluck
PR #797: [DF-2879] fix issues with testing alerting

Description:

[DF-2879](https://grandrounds.atlassian.net/browse/DF-2879)

second part to https://github.com/ConsultingMD/potluck/pull/795

@vinaygoel @mattforbes-gr 


=====================================================
Timestamp:  2020-07-25T01:26:57Z
Repository: ConsultingMD/potluck
PR #795: [DF-2879] fix issues with testing alerting (also whitelist Crown Castle)

Description:

[DF-2879](https://grandrounds.atlassian.net/browse/DF-2879)

@vinaygoel @mattforbes-gr 


=====================================================
Timestamp:  2020-07-24T18:25:10Z
Repository: ConsultingMD/potluck
PR #784: [DF-2877] whitelist a customer that has red data sources to test alerting

Description:

[DF-2877](https://grandrounds.atlassian.net/browse/DF-2877)

@vinaygoel @mattforbes-gr 


=====================================================
Timestamp:  2020-07-24T01:46:29Z
Repository: ConsultingMD/potluck
PR #782: [DF-2877] whitelist a customer that has red data sources to test alerting

Description:

[DF-2877](https://grandrounds.atlassian.net/browse/DF-2877)

This customer currently has 3 red data sources which it should alert on.


=====================================================
Timestamp:  2020-07-23T22:29:05Z
Repository: ConsultingMD/metropolis
PR #1267: [DATA-216] sync world csvs to uat directory to remove manual chore

Description:
@kartik-gr @rakadutta-gr automating a manual chore

[DATA-216](https://grandrounds.atlassian.net/browse/DATA-216)


=====================================================
Timestamp:  2020-07-23T20:09:58Z
Repository: ConsultingMD/potluck
PR #777: [DF-2873] fix issue with health report with alert action

Description:

[DF-2873](https://grandrounds.atlassian.net/browse/DF-2873)

@mattforbes-gr @vinaygoel 


=====================================================
Timestamp:  2020-07-22T01:59:52Z
Repository: ConsultingMD/potluck
PR #753: [DF-2850] Enable alerting of datasources for a subset of whitelisted IDs

Description:
get list of Datasource IDs from JonG of Solutions Engineering

[DF-2850](https://grandrounds.atlassian.net/browse/DF-2850)

@vinaygoel @mattforbes-gr 


=====================================================
Timestamp:  2020-07-21T02:09:42Z
Repository: ConsultingMD/tp
PR #1534: [DATA-209] update circleci config so tng build

Description:
@brianclin @kartik-gr @rakadutta-gr 


[DATA-209](https://grandrounds.atlassian.net/browse/DATA-209)


=====================================================
Timestamp:  2020-07-20T20:09:28Z
Repository: ConsultingMD/DPW
PR #1051: [DF-2807] Update bronze orchestrator permissions to read from s3://grnds-<env>-catalog-outbox-yellow/

Description:

[DF-2807](https://grandrounds.atlassian.net/browse/DF-2807)

@brianclin @vinaygoel @kartik-gr @mattforbes-gr 


=====================================================
Timestamp:  2020-07-17T23:58:14Z
Repository: ConsultingMD/metropolis
PR #1266: [DATA-205] error encountered when running load_normalized_entity_tables in load_enclarity

Description:
[http://airflow.analytics.grandrounds.com:8080/admin/airflow/log?task_id=load_normalized_entity_tables and dag_id=load_enclarity and execution_date=2020-07-15T23:53:21.342245|http://airflow.analytics.grandrounds.com:8080/admin/airflow/log?task_id=load_normalized_entity_tables and dag_id=load_enclarity and execution_date=2020-07-15T23:53:21.342245]

{noformat}[2020-07-16 04:10:33,812] {models.py:1644} ERROR - duplicate key value violates unique constraint "insurance_network_pk"
DETAIL:  Key (insurance_network_id, load_history_id)=(44357, 828a5618-2be8-4a37-be04-41e57aa825ba) already exists.{noformat}

@kartik-gr @rakadutta-gr @macklin grepped around and these we're used anywhere.

[DATA-205](https://grandrounds.atlassian.net/browse/DATA-205)


=====================================================
Timestamp:  2020-07-16T05:00:53Z
Repository: ConsultingMD/tp
PR #1531: [DATA-196] TP results differ from PM - 7/13/20

Description:

[DATA-196](https://grandrounds.atlassian.net/browse/DATA-196)

@kartik-gr this one was a "fun" one to debug.


=====================================================
Timestamp:  2020-07-15T04:46:10Z
Repository: ConsultingMD/bronze
PR #1915: [DF-2811] exclude duplicate provider files to make the Data Science customer data sources healthy

Description:

[DF-2811](https://grandrounds.atlassian.net/browse/DF-2811)
@vinaygoel 


=====================================================
Timestamp:  2020-07-15T01:36:33Z
Repository: ConsultingMD/jarvis
PR #14191: [DATA-198] Increase Jarvis sidekiq img memory

Description:
Current {{ReencryptFileJob}} are dying with {{Errno::ENOMEM: Cannot allocate memory}}

We need to increase the memory size, again.

!Screen Shot 2020-07-14 at 6.17.19 PM.png|width=2494,height=396!

[DATA-198](https://grandrounds.atlassian.net/browse/DATA-198)

@whiskeyjimbo @kartik-gr @rakadutta-gr @cobbr2 

this was the size Jeff suggested.


=====================================================
Timestamp:  2020-07-14T05:04:33Z
Repository: ConsultingMD/potluck
PR #678: [DF-2773] Create the customer datasources exporter

Description:

[DF-2773](https://grandrounds.atlassian.net/browse/DF-2773)

@vinaygoel @mattforbes-gr 

cc @kartik-gr 


=====================================================
Timestamp:  2020-07-09T00:03:47Z
Repository: ConsultingMD/potluck
PR #639: [PROJECTION][DF-2772] Create the customer datasources projection

Description:

[DF-2772](https://grandrounds.atlassian.net/browse/DF-2772)

@vinaygoel @mattforbes-gr @darapuk 


=====================================================
Timestamp:  2020-07-08T19:59:35Z
Repository: ConsultingMD/potluck
PR #629: [DF-2771] Create the customer, data source and vendor ingestion tasks

Description:

[DF-2771](https://grandrounds.atlassian.net/browse/DF-2771)

@mattforbes-gr 


=====================================================
Timestamp:  2020-07-08T05:12:42Z
Repository: ConsultingMD/potluck
PR #624: [DF-2771] Create the customer, data source and vendor ingestion tasks

Description:

[DF-2771](https://grandrounds.atlassian.net/browse/DF-2771)

@vinaygoel @mattforbes-gr @darapuk 


=====================================================
Timestamp:  2020-07-08T02:07:22Z
Repository: ConsultingMD/airflow-warehouse
PR #260: [DF-2771] Create the customer and data source ingestion tasks

Description:

[DF-2771](https://grandrounds.atlassian.net/browse/DF-2771)

@darapuk 


=====================================================
Timestamp:  2020-07-02T16:59:35Z
Repository: ConsultingMD/potluck
PR #603: [DF-2743] Copy Bronze PD/Jira clients over to Potluck

Description:
Wrapping the client migration by fleshing out the PagerDuty client to include the rest methods + adding the Jira client

[DF-2743](https://grandrounds.atlassian.net/browse/DF-2743)

 


=====================================================
Timestamp:  2020-06-30T03:25:50Z
Repository: ConsultingMD/potluck
PR #576: [DF-2743] Copy Bronze PD/Jira clients over to Potluck

Description:
edit (Matt): I took this over to try and push in the pagerduty events component in sooner so we can use it for the lasik SLA alerting. I cut out all of the PD rest API stuff as well as the jira client. I tested out the PD client and triggered an event on my test service and it looks good. After this PR, we'll also need to wire it through in the orchestration layer, and of course replace the parts I cut.

* Vault code implemented in Bronze wont work in Potluck. K8S doesnt use vault yet, they store secrets in s3 in the interim. Need to refactor the code
* The scala JSON client used in Bronze vs Potluck is different. Need to update the code
* The scala version we use in potluck is 2.12 compared to 2.11 for bronze. Can use a more recent version of the http library used in the clients

[DF-2743](https://grandrounds.atlassian.net/browse/DF-2743)


=====================================================
Timestamp:  2020-06-25T23:04:28Z
Repository: ConsultingMD/bronze
PR #1883: [DF-2559] Ability to create JIRA tickets from PagerDuty alerts

Description:
[https://support.pagerduty.com/docs/jira-cloud|https://support.pagerduty.com/docs/jira-cloud]

[DF-2559](https://grandrounds.atlassian.net/browse/DF-2559)
@vinaygoel 

Related Terraform Vault PR: https://github.com/ConsultingMD/terraform-vault/pull/217


=====================================================
Timestamp:  2020-06-25T23:04:20Z
Repository: ConsultingMD/terraform-vault
PR #217: [DF-2559] Ability to create JIRA tickets from PagerDuty alerts

Description:
[https://support.pagerduty.com/docs/jira-cloud|https://support.pagerduty.com/docs/jira-cloud]

[DF-2559](https://grandrounds.atlassian.net/browse/DF-2559)
@vinaygoel @darapuk 


=====================================================
Timestamp:  2020-06-25T02:34:21Z
Repository: ConsultingMD/bronze
PR #1878: [DF-2559] Ability to create JIRA tickets from PagerDuty alerts

Description:
[https://support.pagerduty.com/docs/jira-cloud|https://support.pagerduty.com/docs/jira-cloud]

[DF-2559](https://grandrounds.atlassian.net/browse/DF-2559)

@vinaygoel 
```scala
    val dataSourceString = "foobarbaz1234comeestai"
    val md = MessageDigest.getInstance("MD5")
    val digest = md.digest(dataSourceString.getBytes)
    val bigInt = new BigInteger(1, digest)
    val dedupKey = bigInt.toString(16)
//    val dedupKey = Objects.hash(dataSourceString)
    val customDetails = ujson.Obj("num-metric-test" -> 1, "string-metric-test" -> "foo" )
    val links = ujson.Arr(ujson.Obj("href" -> "https://wwww.google.com", "text" -> "Link Example"))

    val payloadFoo = Payload(
      summary = s"[${dedupKey}] Fifth test from the bronze client",
      source = "rgarcia-mbp",
      severity = Severity.Warning,
      dedupKey = dedupKey,
      customDetails = customDetails,
      links = links
    )

    val pagerDutyClient = PagerDutyClient()
    val jiraClient = JiraCloudClient()
    val t = pagerDutyClient.triggerIncident(payloadFoo)

    val incidentPayload = pagerDutyClient.getIncidentPayload(payloadFoo.getDedupKey)
    val incidentLink = incidentPayload("incidents")(0)("html_url").str
    val incidentCreatedAt = incidentPayload("incidents")(0)("created_at").str
    val incidentId = incidentPayload("incidents")(0)("id").str
    val incidentNote = "This note was added via the bronze pd client as a test of the endpoint."
//    val p = pagerDutyClient.postNoteToIncident(incidentId, incidentNote)
    val jiraLink = jiraClient.getJiraLink(payloadFoo.getDedupKey)
//    val a = pagerDutyClient.acknowledgeIncident(payloadFoo.getDedupKey)
//    val r = pagerDutyClient.resolveIncident(payloadFoo.getDedupKey)

    println(t)
//    println(p)
    println(incidentLink)
    println(incidentCreatedAt)
    println(incidentId)
//    println(incidentNote)
    println(jiraLink)
```


=====================================================
Timestamp:  2020-06-16T19:46:06Z
Repository: ConsultingMD/tp
PR #1517: [DATA-169] Add Rx out of pocket maximums to TP graphql schema

Description:
h3. Why

So other services can fetch an insurance plans configuration for Rx out of pocket max

h3. Acceptance Criteria

{noformat}Insurance plan schema has fields for each of the new PDM settings
- rxOopmFamily
- rxOoopmIndividual
- rxVendorName
- rxVendorUrl{noformat}

*Notes:*

[DATA-169](https://grandrounds.atlassian.net/browse/DATA-169)

@stevenye-gr @kartik-gr 


=====================================================
Timestamp:  2020-06-15T23:15:53Z
Repository: ConsultingMD/metropolis
PR #1242: [DATA-173] Investigate what it would take to automate AMA file ingestion

Description:
h3. Why



h3. Acceptance Criteria

{noformat}Scenario: 
Given
When
Then{noformat}

*Notes:*

[DATA-173](https://grandrounds.atlassian.net/browse/DATA-173)

confirmed working by ingesting the latest dataset here: http://airflow.analytics.grandrounds.com:8080/admin/airflow/log?task_id=download_ama_and_load&dag_id=load_ama&execution_date=2020-06-15T23:02:22.299817


=====================================================
Timestamp:  2020-06-15T19:59:08Z
Repository: ConsultingMD/tp
PR #1516: [DATA-176] Enable CD for TP

Description:
h3. Why



h3. Acceptance Criteria

{noformat}Scenario: 
Given
When
Then{noformat}

*Notes:*

[DATA-176](https://grandrounds.atlassian.net/browse/DATA-176)

@brianclin @rakadutta-gr @kartik-gr 


=====================================================
Timestamp:  2020-06-12T21:02:42Z
Repository: ConsultingMD/metropolis
PR #1241: [DATA-172] Restrict Enclarity data to MDs only

Description:
h3. Why

Enclarity is now sending us non-MD provider data for the following specialties:

* Nurse Practitioner
* Nursing
* Physician Assistant
* Counseling and Social Work
* Midwifery
* Urgent Care
* Psychology

Until we know if we want to use Enclarity over Zelis for non-MD information, we need to restrict Enclarity to only MD date using the {{md_do_flag=Y}} in {{grandrounds_master_idv}}.

h3. Acceptance Criteria

{noformat}Scenario: 
Given
When
Then{noformat}

*Notes:*

[DATA-172](https://grandrounds.atlassian.net/browse/DATA-172)

@rakadutta-gr @kartik-gr @jesse-weaver23 


=====================================================
Timestamp:  2020-06-12T03:24:45Z
Repository: ConsultingMD/dollar
PR #40: [DATA-171] Cannot deploy legacy dollar due to maven requiring https

Description:
h3. Steps to reproduce

# 
# 
# 

h3. Expected

h3. Actual



[DATA-171](https://grandrounds.atlassian.net/browse/DATA-171)
@vanzin @nickgorskigrrr @kartik-gr 


=====================================================
Timestamp:  2020-06-12T02:36:36Z
Repository: ConsultingMD/dollar
PR #39: [DATA-171] Cannot deploy legacy dollar due to maven requiring https

Description:
h3. Steps to reproduce

# 
# 
# 

h3. Expected

h3. Actual



[DATA-171](https://grandrounds.atlassian.net/browse/DATA-171)

@vanzin @nickgorskigrrr @kartik-gr 


=====================================================
Timestamp:  2020-06-11T20:02:48Z
Repository: ConsultingMD/jarvis
PR #14047: [DF-2665] Datasources Disabled Flag not being exported to the Warehouse

Description:
Looker dump to S3 still shows all datasources with disabled = No

{noformat}aws s3 cp s3://grnds-production-glasshouse-exports/current/data_sources/data_sources.json - | tr , \n | grep disabled | sort | uniq -c
 536 "data_sources.disabled":"No"{noformat}

Jarvis looks good:

{noformat}MySQL [jarvis_production]> select count(*) from data_sources where disabled is true 

@vinaygoel @ajuvekar 


=====================================================
Timestamp:  2020-06-11T04:14:52Z
Repository: ConsultingMD/jarvis
PR #14044: [DATA-168] Add new PDM settings for Rx out of pocket maximums

Description:
h3. Why

So we can display information about a members Rx out of pocket maximum on their spending page.  This only applies to some plans so it will need to be configured in PDM.

PRD: [https://docs.google.com/document/d/1GXmKHFmMn_WfOnF0uGW3NZ3BLHuenj1CTA7C7OlSOYQ/edit#heading=h.qizix58sdtf4|https://docs.google.com/document/d/1GXmKHFmMn_WfOnF0uGW3NZ3BLHuenj1CTA7C7OlSOYQ/edit#heading=h.qizix58sdtf4|smart-link] 

h3. Acceptance Criteria

{noformat}New PDM settings show in active admin
- Rx Out-of-pocket Maximum Family: text field
- Rx Out-of-pocket Maximum Individual: text field
- Rx Vendor Name: text field
- Rx Vendor URL: text field{noformat}

*Notes:*

[DATA-168](https://grandrounds.atlassian.net/browse/DATA-168)

This PR needs to be merged and deployed after the TP one: https://github.com/ConsultingMD/tp/pull/1509


=====================================================
Timestamp:  2020-06-11T04:14:16Z
Repository: ConsultingMD/tp
PR #1509: [DATA-168] Add new PDM settings for Rx out of pocket maximums

Description:
@mattfrey-gr @kartik-gr @rakadutta-gr 
h3. Why

So we can display information about a members Rx out of pocket maximum on their spending page.  This only applies to some plans so it will need to be configured in PDM.

PRD: [https://docs.google.com/document/d/1GXmKHFmMn_WfOnF0uGW3NZ3BLHuenj1CTA7C7OlSOYQ/edit#heading=h.qizix58sdtf4|https://docs.google.com/document/d/1GXmKHFmMn_WfOnF0uGW3NZ3BLHuenj1CTA7C7OlSOYQ/edit#heading=h.qizix58sdtf4|smart-link] 

h3. Acceptance Criteria

{noformat}New PDM settings show in active admin
- Rx Out-of-pocket Maximum Family: text field
- Rx Out-of-pocket Maximum Individual: text field
- Rx Vendor Name: text field
- Rx Vendor URL: text field{noformat}

*Notes:*

[DATA-168](https://grandrounds.atlassian.net/browse/DATA-168)

This PR needs to be merged and deployed before the Jarvis PR:

janus_test_schema was regenerated by following steps detailed in https://github.com/ConsultingMD/jarvis/pull/12622#issuecomment-532429918, in the tp console:
```ruby
HTTP = GraphQL::Client::HTTP.new("#{Rails.application.config.janus_url}/graphql") do
  def headers(_context)
    {
      'X-Tp-Secret' => Rails.application.config.tp_secret,
      'Authorization' => ''
    }
  end
end

def pbcopy(input)
  str = input.to_s
  IO.popen('pbcopy', 'w') { |f| f << str }
  str
end

schema = GraphQL::Client.load_schema(HTTP);
json = schema.to_json;
# Then copy json to clipboard using pbcopy and paste into janus_test_schema.json:
pbcopy(json);
```


=====================================================
Timestamp:  2020-06-09T02:00:35Z
Repository: ConsultingMD/rogers
PR #366: [DF-2612] Amazon: RxAdvance claims (Rx) files giving identified_unencrypted_file error upon retrieval

Description:
In polling the Rx claims data files from RxAdvance (RxA) for Amazon, I see consistent retrieval error for all files.

*Error Message: The XML you provided was not well-formed or did not validate against our published schema*

Example: [https://grandrounds.looker.com/dashboards/production_internal::file_ingestion_details?event_uuid_filter= and file_uuid_filter=1edd581b-d2fb-43f8-961c-673d9ef1b604 and filter_config=%7B%22file_uuid_filter%22:%5B%7B%22type%22:%22%3D%22,%22values%22:%5B%7B%22constant%22:%221edd581b-d2fb-43f8-961c-673d9ef1b604%22%7D,%7B%7D%5D,%22id%22:0%7D%5D,%22event_uuid_filter%22:%5B%7B%22type%22:%22%3D%22,%22values%22:%5B%7B%22constant%22:%22%22%7D,%7B%7D%5D,%22id%22:1%7D%5D%7D|https://grandrounds.looker.com/dashboards/production_internal::file_ingestion_details?event_uuid_filter= and file_uuid_filter=1edd581b-d2fb-43f8-961c-673d9ef1b604 and filter_config=%7B%22file_uuid_filter%22:%5B%7B%22type%22:%22%3D%22,%22values%22:%5B%7B%22constant%22:%221edd581b-d2fb-43f8-961c-673d9ef1b604%22%7D,%7B%7D%5D,%22id%22:0%7D%5D,%22event_uuid_filter%22:%5B%7B%22type%22:%22%3D%22,%22values%22:%5B%7B%22constant%22:%22%22%7D,%7B%7D%5D,%22id%22:1%7D%5D%7D]

It appears that RxA is not encrypting the files with our PGP key, but the files reside on their FTP server. However when I look at the file name in Looker, it appears with the convention:

*Example*: _rxa_amz_pct_paid_20200604040121.zip.gpg_

[DF-2612](https://grandrounds.atlassian.net/browse/DF-2612)


=====================================================
Timestamp:  2020-06-09T00:02:03Z
Repository: ConsultingMD/kore
PR #338: [DF-2612] Amazon: RxAdvance claims (Rx) files giving identified_unencrypted_file error upon retrieval

Description:
In polling the Rx claims data files from RxAdvance (RxA) for Amazon, I see consistent retrieval error for all files.

*Error Message: The XML you provided was not well-formed or did not validate against our published schema*

Example: [https://grandrounds.looker.com/dashboards/production_internal::file_ingestion_details?event_uuid_filter= and file_uuid_filter=1edd581b-d2fb-43f8-961c-673d9ef1b604 and filter_config=%7B%22file_uuid_filter%22:%5B%7B%22type%22:%22%3D%22,%22values%22:%5B%7B%22constant%22:%221edd581b-d2fb-43f8-961c-673d9ef1b604%22%7D,%7B%7D%5D,%22id%22:0%7D%5D,%22event_uuid_filter%22:%5B%7B%22type%22:%22%3D%22,%22values%22:%5B%7B%22constant%22:%22%22%7D,%7B%7D%5D,%22id%22:1%7D%5D%7D|https://grandrounds.looker.com/dashboards/production_internal::file_ingestion_details?event_uuid_filter= and file_uuid_filter=1edd581b-d2fb-43f8-961c-673d9ef1b604 and filter_config=%7B%22file_uuid_filter%22:%5B%7B%22type%22:%22%3D%22,%22values%22:%5B%7B%22constant%22:%221edd581b-d2fb-43f8-961c-673d9ef1b604%22%7D,%7B%7D%5D,%22id%22:0%7D%5D,%22event_uuid_filter%22:%5B%7B%22type%22:%22%3D%22,%22values%22:%5B%7B%22constant%22:%22%22%7D,%7B%7D%5D,%22id%22:1%7D%5D%7D]

It appears that RxA is not encrypting the files with our PGP key, but the files reside on their FTP server. However when I look at the file name in Looker, it appears with the convention:

*Example*: _rxa_amz_pct_paid_20200604040121.zip.gpg_

[DF-2612](https://grandrounds.atlassian.net/browse/DF-2612)


=====================================================
Timestamp:  2020-06-06T00:30:07Z
Repository: ConsultingMD/rogers
PR #365: [DF-2612] Amazon: RxAdvance claims (Rx) files giving identified_unencrypted_file error upon retrieval

Description:
In polling the Rx claims data files from RxAdvance (RxA) for Amazon, I see consistent retrieval error for all files.

*Error Message: The XML you provided was not well-formed or did not validate against our published schema*

Example: [https://grandrounds.looker.com/dashboards/production_internal::file_ingestion_details?event_uuid_filter= and file_uuid_filter=1edd581b-d2fb-43f8-961c-673d9ef1b604 and filter_config=%7B%22file_uuid_filter%22:%5B%7B%22type%22:%22%3D%22,%22values%22:%5B%7B%22constant%22:%221edd581b-d2fb-43f8-961c-673d9ef1b604%22%7D,%7B%7D%5D,%22id%22:0%7D%5D,%22event_uuid_filter%22:%5B%7B%22type%22:%22%3D%22,%22values%22:%5B%7B%22constant%22:%22%22%7D,%7B%7D%5D,%22id%22:1%7D%5D%7D|https://grandrounds.looker.com/dashboards/production_internal::file_ingestion_details?event_uuid_filter= and file_uuid_filter=1edd581b-d2fb-43f8-961c-673d9ef1b604 and filter_config=%7B%22file_uuid_filter%22:%5B%7B%22type%22:%22%3D%22,%22values%22:%5B%7B%22constant%22:%221edd581b-d2fb-43f8-961c-673d9ef1b604%22%7D,%7B%7D%5D,%22id%22:0%7D%5D,%22event_uuid_filter%22:%5B%7B%22type%22:%22%3D%22,%22values%22:%5B%7B%22constant%22:%22%22%7D,%7B%7D%5D,%22id%22:1%7D%5D%7D]

It appears that RxA is not encrypting the files with our PGP key, but the files reside on their FTP server. However when I look at the file name in Looker, it appears with the convention:

*Example*: _rxa_amz_pct_paid_20200604040121.zip.gpg_

[DF-2612](https://grandrounds.atlassian.net/browse/DF-2612)


=====================================================
Timestamp:  2020-06-06T00:22:10Z
Repository: ConsultingMD/terraform-vault
PR #209: [DF-2560] Ability to create PagerDuty alerts programmatically

Description:
[https://github.com/square/pagerduty-incidents|https://github.com/square/pagerduty-incidents|smart-link] 

deduplicate incidents: [https://support.pagerduty.com/docs/event-management#section-deduplicating-incidents|https://support.pagerduty.com/docs/event-management#section-deduplicating-incidents]

[DF-2560](https://grandrounds.atlassian.net/browse/DF-2560)

@vinaygoel @brianclin 


=====================================================
Timestamp:  2020-06-06T00:16:23Z
Repository: ConsultingMD/bronze
PR #1822: [DF-2560] Ability to create PagerDuty alerts programmatically

Description:
[https://github.com/square/pagerduty-incidents|https://github.com/square/pagerduty-incidents|smart-link] 

deduplicate incidents: [https://support.pagerduty.com/docs/event-management#section-deduplicating-incidents|https://support.pagerduty.com/docs/event-management#section-deduplicating-incidents]

[DF-2560](https://grandrounds.atlassian.net/browse/DF-2560)


=====================================================
Timestamp:  2020-06-05T22:05:01Z
Repository: ConsultingMD/kore
PR #337: [DF-2612] Amazon: RxAdvance claims (Rx) files giving identified_unencrypted_file error upon retrieval

Description:
In polling the Rx claims data files from RxAdvance (RxA) for Amazon, I see consistent retrieval error for all files.

*Error Message: The XML you provided was not well-formed or did not validate against our published schema*

Example: [https://grandrounds.looker.com/dashboards/production_internal::file_ingestion_details?event_uuid_filter= and file_uuid_filter=1edd581b-d2fb-43f8-961c-673d9ef1b604 and filter_config=%7B%22file_uuid_filter%22:%5B%7B%22type%22:%22%3D%22,%22values%22:%5B%7B%22constant%22:%221edd581b-d2fb-43f8-961c-673d9ef1b604%22%7D,%7B%7D%5D,%22id%22:0%7D%5D,%22event_uuid_filter%22:%5B%7B%22type%22:%22%3D%22,%22values%22:%5B%7B%22constant%22:%22%22%7D,%7B%7D%5D,%22id%22:1%7D%5D%7D|https://grandrounds.looker.com/dashboards/production_internal::file_ingestion_details?event_uuid_filter= and file_uuid_filter=1edd581b-d2fb-43f8-961c-673d9ef1b604 and filter_config=%7B%22file_uuid_filter%22:%5B%7B%22type%22:%22%3D%22,%22values%22:%5B%7B%22constant%22:%221edd581b-d2fb-43f8-961c-673d9ef1b604%22%7D,%7B%7D%5D,%22id%22:0%7D%5D,%22event_uuid_filter%22:%5B%7B%22type%22:%22%3D%22,%22values%22:%5B%7B%22constant%22:%22%22%7D,%7B%7D%5D,%22id%22:1%7D%5D%7D]

It appears that RxA is not encrypting the files with our PGP key, but the files reside on their FTP server. However when I look at the file name in Looker, it appears with the convention:

*Example*: _rxa_amz_pct_paid_20200604040121.zip.gpg_

[DF-2612](https://grandrounds.atlassian.net/browse/DF-2612)


=====================================================
Timestamp:  2020-06-05T20:50:04Z
Repository: ConsultingMD/rogers
PR #364: [DF-2612] Amazon: RxAdvance claims (Rx) files giving identified_unencrypted_file error upon retrieval

Description:
In polling the Rx claims data files from RxAdvance (RxA) for Amazon, I see consistent retrieval error for all files.

*Error Message: The XML you provided was not well-formed or did not validate against our published schema*

Example: [https://grandrounds.looker.com/dashboards/production_internal::file_ingestion_details?event_uuid_filter= and file_uuid_filter=1edd581b-d2fb-43f8-961c-673d9ef1b604 and filter_config=%7B%22file_uuid_filter%22:%5B%7B%22type%22:%22%3D%22,%22values%22:%5B%7B%22constant%22:%221edd581b-d2fb-43f8-961c-673d9ef1b604%22%7D,%7B%7D%5D,%22id%22:0%7D%5D,%22event_uuid_filter%22:%5B%7B%22type%22:%22%3D%22,%22values%22:%5B%7B%22constant%22:%22%22%7D,%7B%7D%5D,%22id%22:1%7D%5D%7D|https://grandrounds.looker.com/dashboards/production_internal::file_ingestion_details?event_uuid_filter= and file_uuid_filter=1edd581b-d2fb-43f8-961c-673d9ef1b604 and filter_config=%7B%22file_uuid_filter%22:%5B%7B%22type%22:%22%3D%22,%22values%22:%5B%7B%22constant%22:%221edd581b-d2fb-43f8-961c-673d9ef1b604%22%7D,%7B%7D%5D,%22id%22:0%7D%5D,%22event_uuid_filter%22:%5B%7B%22type%22:%22%3D%22,%22values%22:%5B%7B%22constant%22:%22%22%7D,%7B%7D%5D,%22id%22:1%7D%5D%7D]

It appears that RxA is not encrypting the files with our PGP key, but the files reside on their FTP server. However when I look at the file name in Looker, it appears with the convention:

*Example*: _rxa_amz_pct_paid_20200604040121.zip.gpg_

[DF-2612](https://grandrounds.atlassian.net/browse/DF-2612)


=====================================================
Timestamp:  2020-05-27T00:08:37Z
Repository: ConsultingMD/jarvis
PR #13966: [DF-2553] Add new Jarvis flag to track active status of each datasource

Description:
@vinaygoel 
[DF-2553](https://grandrounds.atlassian.net/browse/DF-2553)

Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/577

This PR needs to be merged AFTER the warehouse PR is merged and deployed.
<img width="1198" alt="Screen Shot 2020-05-26 at 4 41 43 PM" src="https://user-images.githubusercontent.com/1312796/82961894-7d45c000-9f73-11ea-8872-66cd35c07a49.png">
<img width="951" alt="Screen Shot 2020-05-26 at 4 42 15 PM" src="https://user-images.githubusercontent.com/1312796/82961895-7dde5680-9f73-11ea-904f-1a413dacc520.png">
<img width="690" alt="Screen Shot 2020-05-26 at 4 44 53 PM" src="https://user-images.githubusercontent.com/1312796/82961896-7e76ed00-9f73-11ea-9dae-a598768aa0a3.png">
<img width="1354" alt="Screen Shot 2020-05-26 at 4 45 53 PM" src="https://user-images.githubusercontent.com/1312796/82961900-7e76ed00-9f73-11ea-94e1-648bf1554d96.png">



=====================================================
Timestamp:  2020-05-27T00:07:04Z
Repository: ConsultingMD/warehouse
PR #577: [DF-2553] Add new Jarvis flag to track active status of each datasource

Description:
@ajuvekar @vinaygoel 

[DF-2553](https://grandrounds.atlassian.net/browse/DF-2553)

Corresponding Jarvis PR:

This PR needs to be merged and deployed before the Jarvis one.


=====================================================
Timestamp:  2020-05-14T18:43:08Z
Repository: ConsultingMD/rogers
PR #363: [DATA-149] Certain data sources not refreshing to auto-poll the files

Description:
@cobbr2 

[DATA-149](https://grandrounds.atlassian.net/browse/DATA-149)


=====================================================
Timestamp:  2020-05-13T00:00:06Z
Repository: ConsultingMD/tp
PR #1502: [DATA-146] Augment provider location telemedicine flags with predicted tags in TP

Description:
@rakadutta-gr @kartik-gr @jwbd @mattfrey-gr @angela-wong 

*Notes:*

[DATA-146](https://grandrounds.atlassian.net/browse/DATA-146)

AT:
<img width="1212" alt="Screen Shot 2020-05-12 at 4 55 34 PM" src="https://user-images.githubusercontent.com/1312796/81756850-cd039200-9471-11ea-9e65-113c22f82126.png">


Provider with confirmed telemedicine flag:
```
Provider.find_by(npi: '1083745285').provider_locations.first.telemedicine_tags.create
```
<img width="1048" alt="Screen Shot 2020-05-12 at 4 05 16 PM" src="https://user-images.githubusercontent.com/1312796/81754931-37193880-946c-11ea-964b-9112f1b9c186.png">

Provider with predicted telemedicine flag:
```
[3] pry(main)> Provider.find_by(npi: '1033317268').provider_locations.first.create_predicted_telemedicine_tag
  Provider Load (9.3ms)  SELECT  "providers".* FROM "providers" WHERE "providers"."npi" = $1 LIMIT 1  [["npi", "1033317268"]]
  ProviderLocation Load (10.0ms)  SELECT  "provider_locations".* FROM "provider_locations" WHERE "provider_locations"."provider_id" = $1  ORDER BY confidence IS NOT NULL DESC, confidence DESC LIMIT 1  [["provider_id", 1849802]]
   (0.5ms)  BEGIN
  ProviderLocation Load (5.8ms)  SELECT  "provider_locations".* FROM "provider_locations" WHERE "provider_locations"."id" = $1 LIMIT 1  [["id", 5947052]]
  SQL (21.0ms)  INSERT INTO "provider_location_tags" ("provider_location_id", "tag_id") VALUES ($1, $2) RETURNING "id"  [["provider_location_id", 5947052], ["tag_id", 701]]
   (1.1ms)  COMMIT
  ProviderLocationTag Load (5.6ms)  SELECT  "provider_location_tags".* FROM "provider_location_tags" WHERE "provider_location_tags"."provider_location_id" = $1 AND "provider_location_tags"."tag_id" = $2 LIMIT 1  [["provider_location_id", 5947052], ["tag_id", 701]]
=> #<ProviderLocationTag:0x00007f8bd3e60f30 id: 131753, provider_location_id: 5947052, provider_id: nil, tag_id: 701, tag_value: nil>
[4] pry(main)>
```
<img width="1014" alt="Screen Shot 2020-05-12 at 4 51 00 PM" src="https://user-images.githubusercontent.com/1312796/81756514-cb859a00-9470-11ea-95ab-77c8d8016a39.png">

Provider with both confirmed and predicted telemedicine flag:
```
[6] pry(main)> Provider.find_by(npi: '1861534752').provider_locations.first.create_predicted_telemedicine_tag
  Provider Load (6.7ms)  SELECT  "providers".* FROM "providers" WHERE "providers"."npi" = $1 LIMIT 1  [["npi", "1861534752"]]
  ProviderLocation Load (1.9ms)  SELECT  "provider_locations".* FROM "provider_locations" WHERE "provider_locations"."provider_id" = $1  ORDER BY confidence IS NOT NULL DESC, confidence DESC LIMIT 1  [["provider_id", 703544]]
   (0.9ms)  BEGIN
  ProviderLocation Load (2.8ms)  SELECT  "provider_locations".* FROM "provider_locations" WHERE "provider_locations"."id" = $1 LIMIT 1  [["id", 4817626]]
  SQL (2.8ms)  INSERT INTO "provider_location_tags" ("provider_location_id", "tag_id") VALUES ($1, $2) RETURNING "id"  [["provider_location_id", 4817626], ["tag_id", 701]]
   (0.5ms)  COMMIT
  ProviderLocationTag Load (0.7ms)  SELECT  "provider_location_tags".* FROM "provider_location_tags" WHERE "provider_location_tags"."provider_location_id" = $1 AND "provider_location_tags"."tag_id" = $2 LIMIT 1  [["provider_location_id", 4817626], ["tag_id", 701]]
=> #<ProviderLocationTag:0x00007f8bd898b460 id: 131754, provider_location_id: 4817626, provider_id: nil, tag_id: 701, tag_value: nil>
[9] pry(main)> Provider.find_by(npi: '1861534752').provider_locations.first.telemedicine_tags.create
  Provider Load (1.0ms)  SELECT  "providers".* FROM "providers" WHERE "providers"."npi" = $1 LIMIT 1  [["npi", "1861534752"]]
  ProviderLocation Load (0.8ms)  SELECT  "provider_locations".* FROM "provider_locations" WHERE "provider_locations"."provider_id" = $1  ORDER BY confidence IS NOT NULL DESC, confidence DESC LIMIT 1  [["provider_id", 703544]]
   (0.2ms)  BEGIN
  ProviderLocation Load (1.2ms)  SELECT  "provider_locations".* FROM "provider_locations" WHERE "provider_locations"."id" = $1 LIMIT 1  [["id", 4817626]]
  SQL (1.6ms)  INSERT INTO "provider_location_tags" ("provider_location_id", "tag_id") VALUES ($1, $2) RETURNING "id"  [["provider_location_id", 4817626], ["tag_id", 176]]
   (0.7ms)  COMMIT
=> #<ProviderLocationTag:0x00007f8bd6b92a30 id: 131755, provider_location_id: 4817626, provider_id: nil, tag_id: 176, tag_value: nil>
[10] pry(main)> Provider.find_by(npi: '1861534752').provider_locations.first.telemedicine?
  Provider Load (3.0ms)  SELECT  "providers".* FROM "providers" WHERE "providers"."npi" = $1 LIMIT 1  [["npi", "1861534752"]]
  ProviderLocation Load (0.4ms)  SELECT  "provider_locations".* FROM "provider_locations" WHERE "provider_locations"."provider_id" = $1  ORDER BY confidence IS NOT NULL DESC, confidence DESC LIMIT 1  [["provider_id", 703544]]
  ProviderLocationTag Exists (0.3ms)  SELECT  1 AS one FROM "provider_location_tags" WHERE "provider_location_tags"."provider_location_id" = $1 AND "provider_location_tags"."tag_id" = 176 LIMIT 1  [["provider_location_id", 4817626]]
=> true
[11] pry(main)> Provider.find_by(npi: '1861534752').provider_locations.first.predicted_telemedicine?
  Provider Load (2.5ms)  SELECT  "providers".* FROM "providers" WHERE "providers"."npi" = $1 LIMIT 1  [["npi", "1861534752"]]
  ProviderLocation Load (0.7ms)  SELECT  "provider_locations".* FROM "provider_locations" WHERE "provider_locations"."provider_id" = $1  ORDER BY confidence IS NOT NULL DESC, confidence DESC LIMIT 1  [["provider_id", 703544]]
  ProviderLocationTag Load (1.1ms)  SELECT  "provider_location_tags".* FROM "provider_location_tags" WHERE "provider_location_tags"."provider_location_id" = $1 AND "provider_location_tags"."tag_id" = $2 LIMIT 1  [["provider_location_id", 4817626], ["tag_id", 701]]
=> true
[12] pry(main)>
```
<img width="1023" alt="Screen Shot 2020-05-12 at 4 56 22 PM" src="https://user-images.githubusercontent.com/1312796/81756774-8877f680-9471-11ea-9fa8-fb2b3281ceb9.png">



=====================================================
Timestamp:  2020-05-12T02:22:21Z
Repository: ConsultingMD/metropolis
PR #1218: [DATA-147] Incorporate dataset of predicted telemedicine flags for provider locations in canonical

Description:
@rakadutta-gr @kartik-gr @jesse-weaver23 @macklin 

[DATA-147](https://grandrounds.atlassian.net/browse/DATA-147)


=====================================================
Timestamp:  2020-05-08T18:53:19Z
Repository: ConsultingMD/tp
PR #1499: [DATA-145] Add predictedHasTelemedicine to LocationType in TP to unblock MX work

Description:
*Notes:*
@rakadutta-gr @kartik-gr @mattfrey-gr @angela-wong 
[DATA-145](https://grandrounds.atlassian.net/browse/DATA-145)


=====================================================
Timestamp:  2020-05-02T01:08:00Z
Repository: ConsultingMD/metropolis
PR #1213: [DATA-90] Update J-Curve template with new telemedicine questions and augment ingestion flow to load the data

Description:
h3. Why

New fields are highlighted in yellow. Fields that will be sent back empty/no longer validated are in gray. They asked that we keep the same format as the original campaign so there is less of set-up process on their side so the sheet is essentially the same with the addition of the four telemedicine questions.

[https://docs.google.com/spreadsheets/d/1a8j0DexEjrdX0WO16_jB7ZVg49dwctqgwwM0BcSlNKE/edit?usp=sharing|https://docs.google.com/spreadsheets/d/1a8j0DexEjrdX0WO16_jB7ZVg49dwctqgwwM0BcSlNKE/edit?usp=sharing|smart-link] 

The new telemedicine questions are:

* Does this practice offer virtual office visits to patients? - _Yes/No_ (this will be the telemedicine flag)
* If yes, are virtual care visits restricted to established patients? - Y_es/No_
* If yes, are virtual visits a permanent offering or temporary? - _Yes/No_
* If yes, what is the primary method for virtual care visits? - _Free Text_

*Notes:*

@rakadutta-gr @kartik-gr 

This PR adds support for the ingestion of the new telemedicine j-curve fields into floyd.

[DATA-90](https://grandrounds.atlassian.net/browse/DATA-90)


=====================================================
Timestamp:  2020-04-28T20:23:54Z
Repository: ConsultingMD/tp
PR #1494: [DATA-131] whitelist zelis telemedicine field in TP

Description:
@rakadutta-gr @kartik-gr 

*Notes:*

[DATA-131](https://grandrounds.atlassian.net/browse/DATA-131)


=====================================================
Timestamp:  2020-04-28T19:29:08Z
Repository: ConsultingMD/metropolis
PR #1209: [DATA-130] whitelist zelis telemedicine tags in canonical

Description:
@rakadutta-gr @kartik-gr 

*Notes:*

[DATA-130](https://grandrounds.atlassian.net/browse/DATA-130)


=====================================================
Timestamp:  2020-04-22T22:54:47Z
Repository: ConsultingMD/engineering-deep
PR #1003: Rekey for Brad key extension

Description:
@bradtofel-gr 


=====================================================
Timestamp:  2020-04-17T23:59:07Z
Repository: ConsultingMD/engineering-deep
PR #997: Update public gpg key for richard.garcia

Description:



=====================================================
Timestamp:  2020-04-11T01:34:28Z
Repository: ConsultingMD/stone
PR #1148: [DATA-100] Fix GPGME::Error::DecryptFailed: Decryption failed

Description:
@whiskeyjimbo 
[DATA-100](https://grandrounds.atlassian.net/browse/DATA-100)


=====================================================
Timestamp:  2020-04-10T23:17:49Z
Repository: ConsultingMD/rogers
PR #357: [DATA-99] Fix FileMagic::FileMagicError: failed lookup: bad magic in `/data/app/config/encrypted_file_types.mgc

Description:
@whiskeyjimbo 
[DATA-99](https://grandrounds.atlassian.net/browse/DATA-99)


=====================================================
Timestamp:  2020-04-08T23:45:12Z
Repository: ConsultingMD/rogers
PR #356: [DATA-99] Fix FileMagic::FileMagicError: failed lookup: bad magic in `/data/app/config/encrypted_file_types.mgc

Description:
Jewish United Fund: [https://grandrounds.slack.com/archives/G5B6SJ19B/p1586293724025200|https://grandrounds.slack.com/archives/G5B6SJ19B/p1586293724025200]
Dead River | s3://grnds-service-production-ftp-storage/ultimate/deadriver/eligibility/
Celgene | s3://grnds-service-production-ftp-storage/cigna/celgene/eligibility/



[DATA-99](https://grandrounds.atlassian.net/browse/DATA-99)

@kartik-gr @coleleahy @lindseygulla @abhinavpraneet 


=====================================================
Timestamp:  2020-04-08T06:22:12Z
Repository: ConsultingMD/metropolis
PR #1203: [DATA-97] Add new columns from Enclarity dataset

Description:
h3. Why

Beginning with Aprils Enclarity dataset, were going to receive some new columns:

* *md_do_flag* - on the master file, flags whether a provider is an MD/DO by our definition (providers that have both MD and non-MD taxonomy codes and do not have a suffix like MD/DO are no not flagged)
* *cp_output_ind* - on master file, flags CA providers that opt out of having info shared with 3rd parties
* *npi_cert_date* - on npi file, NPPES now allows providers to attest that their data is correct. This field has the date of the last time the provider verified or changed their information with NPPES.

h3. Acceptance Criteria

{noformat}Scenario: 
Given the enclarity dataset
When its ingested
Then theres no errors{noformat}

*Notes:*

[DATA-97](https://grandrounds.atlassian.net/browse/DATA-97)

@macklin @rakadutta-gr @kartik-gr 


=====================================================
Timestamp:  2020-04-08T00:39:29Z
Repository: ConsultingMD/metropolis
PR #1202: [DATA-97] Add new columns from Enclarity dataset

Description:
h3. Why

Beginning with Aprils Enclarity dataset, were going to receive some new columns:

* *md_do_flag* - on the master file, flags whether a provider is an MD/DO by our definition (providers that have both MD and non-MD taxonomy codes and do not have a suffix like MD/DO are no not flagged)
* *cp_output_ind* - on master file, flags CA providers that opt out of having info shared with 3rd parties
* *npi_cert_date* - on npi file, NPPES now allows providers to attest that their data is correct. This field has the date of the last time the provider verified or changed their information with NPPES.

The updated data dictionary can be found at https://drive.google.com/open?id=1DyNEHrz_yzZOXYKrvpSpJ1cnuSdS9tat4RkxQUmUba0

h3. Acceptance Criteria

{noformat}Scenario: 
Given the enclarity dataset
When its ingested
Then theres no errors{noformat}

*Notes:*

[DATA-97](https://grandrounds.atlassian.net/browse/DATA-97)

@macklin @rakadutta-gr @kartik-gr 


=====================================================
Timestamp:  2020-04-03T19:15:37Z
Repository: ConsultingMD/rogers
PR #354: [DATA-93] fix uninitialized constant OpenSSL::Digest::DSS1 for rogers

Description:
@whiskeyjimbo 

[DATA-93](https://grandrounds.atlassian.net/browse/DATA-93)


=====================================================
Timestamp:  2020-04-03T00:27:03Z
Repository: ConsultingMD/jcasc
PR #95: [DATA-92] remove Stone, Rogers form Jenkins Legacy Deploy list

Description:
@whiskeyjimbo @nick-baggott @tjsingleton 

[DATA-92](https://grandrounds.atlassian.net/browse/DATA-92)


=====================================================
Timestamp:  2020-04-02T23:55:08Z
Repository: ConsultingMD/rogers
PR #353: [DATA-25] migrate Rogers to TNG

Description:
@whiskeyjimbo 

[DATA-25](https://grandrounds.atlassian.net/browse/DATA-25)


=====================================================
Timestamp:  2020-03-27T18:52:23Z
Repository: ConsultingMD/stone
PR #1132: bump up stone to 16 replicas

Description:



=====================================================
Timestamp:  2020-03-25T00:37:47Z
Repository: ConsultingMD/rogers
PR #351: [DATA-25] migrate Rogers to TNG

Description:
Houston, we got some cron jobs

@whiskeyjimbo 

[DATA-25](https://grandrounds.atlassian.net/browse/DATA-25)

Current legacy config for uat:
```
0 1 * * * root bash -c '/usr/bin/curl -s -S https://rogers.uat.grandrounds.com/api/v2/jobs/google_big_query_export |& logger -t rogers-cron'
5 0 * * * root bash -c '/usr/bin/curl -s -S https://rogers.uat.grandrounds.com/api/v2/jobs/online_eligibility_export |& logger -t rogers-cron'
0 0 * * * root bash -c '/usr/bin/curl -s -S https://rogers.uat.grandrounds.com/api/v2/jobs/salesforce_export |& logger -t rogers-cron'
0 0 * * * root bash -c '/usr/bin/curl -s -S https://rogers.uat.grandrounds.com/api/v2/jobs/google_sheets_export |& logger -t rogers-cron'
0 * * * * root bash -c '/usr/bin/curl -s -S https://rogers.uat.grandrounds.com/api/v2/jobs/patient_survey |& logger -t rogers-cron'
0,5,10,15,20,25,30,35,40,45,50,55 * * * * root bash -c '/usr/bin/curl -s -S https://rogers.uat.grandrounds.com/api/v2/jobs/data_source_job |& logger -t rogers-cron'
* * * * * root bash -c '/usr/bin/curl -s -S https://rogers.uat.grandrounds.com/api/v2/jobs/heartbeat |& logger -t rogers-cron'
```


=====================================================
Timestamp:  2020-03-19T00:03:09Z
Repository: ConsultingMD/stone
PR #1116: [DATA-23] migrate Stone to TNG

Description:
@nick-baggott 
[DATA-23](https://grandrounds.atlassian.net/browse/DATA-23)


=====================================================
Timestamp:  2020-03-18T22:37:14Z
Repository: ConsultingMD/stone
PR #1115: [DATA-23] migrate Stone to TNG

Description:
@nick-baggott 

[DATA-23](https://grandrounds.atlassian.net/browse/DATA-23)


=====================================================
Timestamp:  2020-03-17T01:33:47Z
Repository: ConsultingMD/jarvis
PR #13605: [MX-593] As an engineer, so Amazon has a successful FG implementation, **add the alpha_prefix mappings**

Description:
*Why*
Amazon (Pilot) will be onboarded soon with Financial Guidance (FG). In order to support the 270/271 calls via ClearCostHealth (CCH) we need to include the alpha prefix in the parameters we send to CCH for certain carriers (_only Premera for Amazon_).

*Acceptance Criteria*
Scenario: 
*_Given the alpha prefix mapping file_*
*_When one views the file_*
*_Then there is logic that determines the alpha prefix for the Amazon (Pilot) customer_*

*Notes*
Amazon (Pilot) will be rolling out with two carriers: Aetna and Premera. The alpha prefix is  only needed  for the Premera carrier.

* Add the mapping to lib/cch/alpha_prefix_mapping.rb in jarvis

See the following sheet for information regarding which alpha prefix to use: [https://docs.google.com/spreadsheets/d/1dZscY7mTPvlxpEI4PbRFpVZnwDCwWzcGM-isN0SHQLI/edit#gid=0|https://docs.google.com/spreadsheets/d/1dZscY7mTPvlxpEI4PbRFpVZnwDCwWzcGM-isN0SHQLI/edit#gid=0]

[MX-593](https://grandrounds.atlassian.net/browse/MX-593)


@mattfrey-gr @abhinavpraneet @simonyun @gauravs 


=====================================================
Timestamp:  2020-03-13T22:41:32Z
Repository: ConsultingMD/warehouse
PR #569: [DATA-81] bump grnds-service for warehouse

Description:

```
irb(main):021:0> Grnds::Service::Urls[:warehouse]
=> "https://172.20.147.64"
irb(main):022:0>
```

Took me a couple hours to realize it was this 

dependabot seems to be off for warehouse.

[DATA-81](https://grandrounds.atlassian.net/browse/DATA-81)


=====================================================
Timestamp:  2020-03-11T21:23:29Z
Repository: ConsultingMD/kore
PR #262: [DATA-23] migrate Stone to TNG

Description:
@cobbr2 

*Notes:*

[DATA-23](https://grandrounds.atlassian.net/browse/DATA-23)


=====================================================
Timestamp:  2020-03-10T21:51:09Z
Repository: ConsultingMD/stone
PR #1104: [DATA-23] migrate Stone to TNG

Description:

[DATA-23](https://grandrounds.atlassian.net/browse/DATA-23)


=====================================================
Timestamp:  2020-03-04T23:47:15Z
Repository: ConsultingMD/jcasc
PR #77: [PLAT-3038] Remove TP, Black, Warehouse from legacy Deploy list in Jenkins

Description:

[PLAT-3038](https://grandrounds.atlassian.net/browse/PLAT-3038)


=====================================================
Timestamp:  2020-03-04T19:18:57Z
Repository: ConsultingMD/warehouse
PR #567: [DATA-26] migrate Warehouse to TNG

Description:
Missed these

[DATA-26](https://grandrounds.atlassian.net/browse/DATA-26)


=====================================================
Timestamp:  2020-03-04T00:31:47Z
Repository: ConsultingMD/stone
PR #1093: [DATA-23] migrate Stone to TNG

Description:
[DATA-23](https://grandrounds.atlassian.net/browse/DATA-23)


=====================================================
Timestamp:  2020-03-03T19:18:12Z
Repository: ConsultingMD/metropolis
PR #1180: [DATA-68] increase size of zelis.raw_provider_product.office_hours column

Description:
h3. Steps to reproduce

* ingest {{grnds-analytics-imports/providers/zelis/zelis/data_science/unprocessed/output_16007.zip.pgp/644fe5e6-e0b9-455b-92a6-a9aa526f436a}}

h3. Expected

* ingestion should succeed with no issues.

h3. Actual

```
{2020-03-03 03:55:12,462] {models.py:1595} ERROR - value too long for type character varying(255)
CONTEXT:  COPY raw_provider_product, line 30718796, column office_hours: "MON Jan  1 1900  7 00AM-Jan  1 1900  7 00PM TUE Jan  1 1900  7 00AM-Jan  1 1900  7 00PM WED Jan  1 1..."
Traceback (most recent call last):
  File "/home/ubuntu/miniconda3/envs/metropolis_airflow/lib/python3.5/site-packages/airflow/models.py", line 1493, in _run_raw_task
    result = task_copy.execute(context=context)
  File "/home/ubuntu/miniconda3/envs/metropolis_airflow/lib/python3.5/site-packages/airflow/operators/python_operator.py", line 89, in execute
    return_value = self.execute_callable()
  File "/home/ubuntu/miniconda3/envs/metropolis_airflow/lib/python3.5/site-packages/airflow/operators/python_operator.py", line 94, in execute_callable
    return self.python_callable(*self.op_args, **self.op_kwargs)
  File "/home/ubuntu/metropolis/airflow/dags/lib/s3_to_db/base_s3_to_db.py", line 122, in load_gpg_zip_archive
    TextIOWrapper(in_buffer, encoding=cls.encoding)
  File "/home/ubuntu/metropolis/airflow/dags/lib/normalize_and_load/base_loader.py", line 21, in normalize_and_load_buffer
    self.load_buffer(NormalizedBuffer(self, bfr))
  File "/home/ubuntu/metropolis/airflow/dags/lib/normalize_and_load/base_loader.py", line 60, in load_buffer
    cursor.copy_expert(copy_sql, bfr)
psycopg2.DataError: value too long for type character varying(255)
```

@rakadutta-gr @kartik-gr 
[DATA-68](https://grandrounds.atlassian.net/browse/DATA-68)


=====================================================
Timestamp:  2020-03-02T18:41:32Z
Repository: ConsultingMD/black
PR #93: [DATA-24] migrate Black to TNG

Description:
@nick-baggott 
[DATA-24](https://grandrounds.atlassian.net/browse/DATA-24)


=====================================================
Timestamp:  2020-03-02T03:43:20Z
Repository: ConsultingMD/black
PR #92: [DATA-24] migrate Black to TNG

Description:
@whiskeyjimbo @nick-baggott 
[DATA-24](https://grandrounds.atlassian.net/browse/DATA-24)


=====================================================
Timestamp:  2020-02-28T02:04:46Z
Repository: ConsultingMD/black
PR #91: [DATA-24] migrate Black to TNG

Description:


[DATA-24](https://grandrounds.atlassian.net/browse/DATA-24)


=====================================================
Timestamp:  2020-02-28T01:46:33Z
Repository: ConsultingMD/black
PR #90: [DATA-24] migrate Black to TNG

Description:


[DATA-24](https://grandrounds.atlassian.net/browse/DATA-24)


=====================================================
Timestamp:  2020-02-27T22:46:40Z
Repository: ConsultingMD/service
PR #179: [DATA-62] revert service_host grnds-service change

Description:
@cobbr2 @whiskeyjimbo @tjsingleton 
[DATA-62](https://grandrounds.atlassian.net/browse/DATA-62)


=====================================================
Timestamp:  2020-02-27T03:50:26Z
Repository: ConsultingMD/tp
PR #1454: [DATA-22] migrate TP to TNG

Description:

[DATA-22](https://grandrounds.atlassian.net/browse/DATA-22)


=====================================================
Timestamp:  2020-02-26T20:39:17Z
Repository: ConsultingMD/warehouse
PR #566: [DATA-26] migrate Warehouse to TNG

Description:



=====================================================
Timestamp:  2020-02-26T20:22:25Z
Repository: ConsultingMD/service-messaging
PR #16: [PLAT-2958] grnds messaging gem is not picking up logging changes to stdout/stderr

Description:

[PLAT-2958](https://grandrounds.atlassian.net/browse/PLAT-2958)


=====================================================
Timestamp:  2020-02-26T00:18:53Z
Repository: ConsultingMD/rogers
PR #348: [DATA-25] migrate Rogers to TNG

Description:
@whiskeyjimbo 
[DATA-25](https://grandrounds.atlassian.net/browse/DATA-25)


=====================================================
Timestamp:  2020-02-25T20:39:44Z
Repository: ConsultingMD/warehouse
PR #562: [DATA-26] migrate Warehouse to TNG

Description:
@whiskeyjimbo 
[DATA-26](https://grandrounds.atlassian.net/browse/DATA-26)


=====================================================
Timestamp:  2020-02-19T00:32:54Z
Repository: ConsultingMD/rogers
PR #346: [DATA-25] migrate Rogers to TNG

Description:
@harshit-syal @whiskeyjimbo 
[DATA-25](https://grandrounds.atlassian.net/browse/DATA-25)


=====================================================
Timestamp:  2020-02-18T22:50:19Z
Repository: ConsultingMD/tp
PR #1444: [DATA-22] migrate TP to TNG

Description:
@harshit-syal @whiskeyjimbo 

[DATA-22](https://grandrounds.atlassian.net/browse/DATA-22)


=====================================================
Timestamp:  2020-02-11T02:01:11Z
Repository: ConsultingMD/tp
PR #1439: [DATA-6] Surface the appropriate warnings in TP when filtering on an insurance plan with special rules, so that as the CT, we can be aware of such rules when looking for providers

Description:
@kartik-gr @rakadutta-gr 

@jwbd found this bug while re-testing in UAT.

[DATA-6](https://grandrounds.atlassian.net/browse/DATA-6)


=====================================================
Timestamp:  2020-02-10T19:43:07Z
Repository: ConsultingMD/metropolis
PR #1156: [DATA-31] canonical/load_provider_locations.sql fails to complete

Description:
@kartik-gr @rakadutta-gr 

[DATA-31](https://grandrounds.atlassian.net/browse/DATA-31)


=====================================================
Timestamp:  2020-02-05T22:54:22Z
Repository: ConsultingMD/tp
PR #1436: [DATA-22] migrate TP to TNG

Description:
@nick-baggott @brianclin @whiskeyjimbo @tjsingleton @cobbr2

[DATA-22](https://grandrounds.atlassian.net/browse/DATA-22)


=====================================================
Timestamp:  2020-02-05T22:36:42Z
Repository: ConsultingMD/engineering-deep
PR #982: we don't need this

Description:
everyone can just have their own custom aliases.


=====================================================
Timestamp:  2020-02-05T02:09:16Z
Repository: ConsultingMD/engineering-deep
PR #980: fix jarvis alias

Description:
Getting rid of this annoying output and adding more:
```
(base)   warehouse git:(story/DATA-26/migrate-warehouse-tng) jarvis
cd: no such file or directory: /Users/rgarcia/GR/consultingmd
cd: no such file or directory: /Users/rgarcia/GR/ConsultingMD
(base)   jarvis git:(master)
```


=====================================================
Timestamp:  2020-02-05T01:28:14Z
Repository: ConsultingMD/warehouse
PR #560: [DATA-26] migrate Warehouse to TNG

Description:
@cobbr2 @whiskeyjimbo @nick-baggott @brianclin 

[DATA-26](https://grandrounds.atlassian.net/browse/DATA-26)


=====================================================
Timestamp:  2020-02-04T05:45:54Z
Repository: ConsultingMD/black
PR #89: [DATA-24] migrate Black to TNG

Description:
[DATA-24](https://grandrounds.atlassian.net/browse/DATA-24)

@brianclin @whiskeyjimbo @nick-baggott @cobbr2 

This project didn't even have circleci configured.


=====================================================
Timestamp:  2020-02-04T00:19:10Z
Repository: ConsultingMD/rogers
PR #342: [DATA-25] migrate Rogers to TNG

Description:
[DATA-25](https://grandrounds.atlassian.net/browse/DATA-25)

@brianclin @nick-baggott @whiskeyjimbo @cobbr2 


=====================================================
Timestamp:  2020-01-31T23:44:30Z
Repository: ConsultingMD/metropolis
PR #1153: [DATA-31] canonical/load_provider_locations.sql fails to complete

Description:
@kartik-gr @rakadutta-gr 

h3. Expected

* The task should complete successfully

h3. Actual

```
[2020-01-28 19:02:32,027] {models.py:1595} ERROR - null value in column "id" violates not-null constraint
DETAIL:  Failing row contains (null, 1034880, zelis, 680227660, null, null, null, null, null, null, null, null, null, null, 100, null, f, null, null, Not accepting

Spoke with: Julie

Timestamp: 01/27/2020 BL

, 2020-01-27 19:29:02, 38c0632b-d5b0-4186-9db4-a7347a77cd76, 2020-01-28 18:13:59.269769, null, null, null, null, null, null, null, null, null, null, null, 2020-01-27 19:29:02, null, null).
Traceback (most recent call last):
  File "/home/ubuntu/miniconda3/envs/metropolis_airflow/lib/python3.5/site-packages/airflow/models.py", line 1493, in _run_raw_task
    result = task_copy.execute(context=context)
  File "/home/ubuntu/miniconda3/envs/metropolis_airflow/lib/python3.5/site-packages/airflow/operators/postgres_operator.py", line 55, in execute
    self.hook.run(self.sql, self.autocommit, parameters=self.parameters)
  File "/home/ubuntu/miniconda3/envs/metropolis_airflow/lib/python3.5/site-packages/airflow/hooks/dbapi_hook.py", line 165, in run
    cur.execute(s)
psycopg2.IntegrityError: null value in column "id" violates not-null constraint
```
[DATA-31](https://grandrounds.atlassian.net/browse/DATA-31)


=====================================================
Timestamp:  2020-01-28T23:47:56Z
Repository: ConsultingMD/tp
PR #1430: [DATA-6] Surface the appropriate warnings in TP when filtering on an insurance plan with special rules, so that as the CT, we can be aware of such rules when looking for providers

Description:
@kartik-gr @rakadutta-gr 

[DATA-6](https://grandrounds.atlassian.net/browse/DATA-6)

Addressing additional comment from @jwbd after testing in UAT. Also fixes a bug with planYears.


=====================================================
Timestamp:  2020-01-27T22:30:53Z
Repository: ConsultingMD/metropolis
PR #1149: [DATA-18] Make load_mturk not trigger detect_reverse_tp_and_load

Description:
h3. Why

In order to fully automate the mturk pipeline and not be constantly triggering the detect_reverse_tp_and_load which ends up triggering load_canonical, remove this trigger.

detect_reverse_tp_and_load will still be trigger by the weekly zelis or monthly enclarity load. With this way any pending mturk edits will included in that run.

[DATA-18](https://grandrounds.atlassian.net/browse/DATA-18)

@kartik-gr @rakadutta-gr 


=====================================================
Timestamp:  2020-01-23T02:51:53Z
Repository: ConsultingMD/tp
PR #1428: [DATA-16] fix issue with insurance_plans#rules_match?

Description:
@bryanyee @rakadutta-gr @kartik-gr 

[DATA-16](https://grandrounds.atlassian.net/browse/DATA-16)


=====================================================
Timestamp:  2020-01-21T22:52:58Z
Repository: ConsultingMD/tp
PR #1427: [DATA-6] Surface the appropriate warnings in TP when filtering on an insurance plan with special rules, so that as the CT, we can be aware of such rules when looking for providers

Description:
[DATA-6](https://grandrounds.atlassian.net/browse/DATA-6)

@rakadutta-gr @kartik-gr 

this also fixes a bug introduced in https://github.com/ConsultingMD/tp/pull/1292


=====================================================
Timestamp:  2020-01-16T00:41:21Z
Repository: ConsultingMD/metropolis
PR #1141: [DATA-12] fix https://rollbar.com/GrandRounds/tp/items/823/

Description:
[https://rollbar.com/GrandRounds/tp/items/823/|https://rollbar.com/GrandRounds/tp/items/823/]


[DATA-12](https://grandrounds.atlassian.net/browse/DATA-12)

@rakadutta-gr @kartik-gr 


=====================================================
Timestamp:  2020-01-15T00:55:12Z
Repository: ConsultingMD/jarvis
PR #13262: [DATA-4] Add additional plan configuration to PDM so that as a SE engineer, I can configure it

Description:
[DATA-4](https://grandrounds.atlassian.net/browse/DATA-4)

@rakadutta-gr @kartik-gr 


=====================================================
Timestamp:  2019-12-13T19:39:39Z
Repository: ConsultingMD/metropolis
PR #1116: [# 169250990] Epic Branch: Canonical Provider Locations is created using all available locations for Physicians

Description:
Epic Branch: Canonical Provider Locations is created using all available locations for Physicians

[Tracker #169250990](https://www.pivotaltracker.com/story/show/169250990)

**DO NOT MERGE** 
We will AT this after the holidays.

TP PR: https://github.com/ConsultingMD/tp/pull/1420

@rakadutta-gr @kartik-gr 


=====================================================
Timestamp:  2019-12-13T01:36:34Z
Repository: ConsultingMD/metropolis
PR #1114: [# 170274158] include networks for soft deleted locations since we also ship these locations to TP, so that as the provider pipeline, we can restore a soft deleted location and still have their networks

Description:
include networks for soft deleted locations since we also ship these locations to TP, so that as the provider pipeline, we can restore a soft deleted location and still have their networks

[Tracker #170274158](https://www.pivotaltracker.com/story/show/170274158)

@rakadutta-gr @kartik-gr 

great find by @jesse-weaver23 ATng.


=====================================================
Timestamp:  2019-12-12T23:32:29Z
Repository: ConsultingMD/tp
PR #1416: [# 169251532] As an engineer, so that doctor_selections works for both enclarity   zelis   gr locations, **add a new provider_uid column to doctor_selections**

Description:
As an engineer, so that doctor_selections works for both enclarity   zelis   gr locations, **add a new provider_uid column to doctor_selections**

[Tracker #169251532](https://www.pivotaltracker.com/story/show/169251532)

@rakadutta-gr @kartik-gr 

We did a horrendous job of CR/ATng that first PR.


=====================================================
Timestamp:  2019-12-12T22:49:13Z
Repository: ConsultingMD/tp
PR #1415: [# 169251532] As an engineer, so that doctor_selections works for both enclarity   zelis   gr locations, **add a new provider_uid column to doctor_selections**

Description:
As an engineer, so that doctor_selections works for both enclarity   zelis   gr locations, **add a new provider_uid column to doctor_selections**

[Tracker #169251532](https://www.pivotaltracker.com/story/show/169251532)

@rakadutta-gr @kartik-gr we missed this in the original PR. We will probably need to re-run the schlepper in UAT.


=====================================================
Timestamp:  2019-12-12T05:10:27Z
Repository: ConsultingMD/metropolis
PR #1109: [# 161739886] Epic Branch: Metropolis associates insurance networks with provider-location pairs, instead of just with providers

Description:
Epic Branch: Metropolis associates insurance networks with provider-location pairs, instead of just with providers

[Tracker #161739886](https://www.pivotaltracker.com/story/show/161739886)

@rakadutta-gr @kartik-gr 


=====================================================
Timestamp:  2019-12-12T02:18:44Z
Repository: ConsultingMD/jarvis
PR #13089: [# 169251554] As an engineer, so that all rtp entities use provider_uid instead of group_key, **update them**

Description:
As an engineer, so that all rtp entities use provider_uid instead of group_key, **update them**

[Tracker #169251554](https://www.pivotaltracker.com/story/show/169251554)

@rakadutta-gr @kartik-gr 

**DO NOT MERGE**

Needs to be merged only after:
- https://github.com/ConsultingMD/jarvis/pull/13075 has been merged and deployed to UAT and Production
- https://www.pivotaltracker.com/story/show/169251408 is also deployed to UAT and Production


=====================================================
Timestamp:  2019-12-10T20:32:39Z
Repository: ConsultingMD/jarvis
PR #13075: [# 170219038] create schlepper to update all doctor_selections, so that as a doctor_selection, I dont have a null provider_uid column

Description:
create schlepper to update all doctor_selections, so that as a doctor_selection, I dont have a null provider_uid column

[Tracker #170219038](https://www.pivotaltracker.com/story/show/170219038)

@rakadutta-gr @kartik-gr 


=====================================================
Timestamp:  2019-12-10T00:28:12Z
Repository: ConsultingMD/tp
PR #1409: [# 169251532] As an engineer, so that doctor_selections works for both enclarity   zelis   gr locations, **add a new provider_uid column to doctor_selections**

Description:
As an engineer, so that doctor_selections works for both enclarity   zelis   gr locations, **add a new provider_uid column to doctor_selections**

[Tracker #169251532](https://www.pivotaltracker.com/story/show/169251532)

Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/13058

@rakadutta-gr @kartik-gr 


=====================================================
Timestamp:  2019-12-09T23:59:45Z
Repository: ConsultingMD/jarvis
PR #13058: [# 169251532] As an engineer, so that doctor_selections works for both enclarity   zelis   gr locations, **add a new provider_uid column to doctor_selections**

Description:
As an engineer, so that doctor_selections works for both enclarity   zelis   gr locations, **add a new provider_uid column to doctor_selections**

[Tracker #169251532](https://www.pivotaltracker.com/story/show/169251532)

TP PR: https://github.com/ConsultingMD/tp/pull/1409

@rakadutta-gr @kartik-gr 

The schlepper will go out on a separate PR after this one and https://github.com/ConsultingMD/tp/pull/1409 are merged and deployed.


=====================================================
Timestamp:  2019-12-06T23:16:50Z
Repository: ConsultingMD/tp
PR #1407: [# 170163777] fix error in pancakes

Description:
fix error in pancakes

[Tracker #170163777](https://www.pivotaltracker.com/story/show/170163777)


=====================================================
Timestamp:  2019-12-05T23:47:55Z
Repository: ConsultingMD/tp
PR #1406: [# 169930409] Create canonical.provider_visits_access_networks, so that as the provider pipeline, I can be correctly modeled

Description:
Create canonical.provider_visits_access_networks, so that as the provider pipeline, I can be correctly modeled

[Tracker #169930409](https://www.pivotaltracker.com/story/show/169930409)

To fix https://rollbar.com/GrandRounds/tp/items/807/

@rakadutta-gr @kartik-gr 


=====================================================
Timestamp:  2019-12-03T03:00:28Z
Repository: ConsultingMD/tp
PR #1404: [# 170063540] update logic to use provider_visits_access_networks instead of provider_location_networks for visits access, so that as TP, I dont reference the previous logic which will be deprecated

Description:
update logic to use provider_visits_access_networks instead of provider_location_networks for visits access, so that as TP, I dont reference the previous logic which will be deprecated

[Tracker #170063540](https://www.pivotaltracker.com/story/show/170063540)

@rakadutta-gr @kartik-gr 



=====================================================
Timestamp:  2019-12-02T21:48:30Z
Repository: ConsultingMD/metropolis
PR #1094: [# 169931147] whitelist new tables and fields in tp_consumer, so that as an provider pipeline, these are sent to tp

Description:
whitelist new tables and fields in tp_consumer, so that as an provider pipeline, these are sent to tp

[Tracker #169931147](https://www.pivotaltracker.com/story/show/169931147)

@rakadutta-gr @kartik-gr 


=====================================================
Timestamp:  2019-11-26T23:56:01Z
Repository: ConsultingMD/stone
PR #988: [# 169440521] Walmart: 2020 plan changes

Description:
Walmart: 2020 plan changes

[Tracker #169440521](https://www.pivotaltracker.com/story/show/169440521)

**DO NOT MERGE/DEPLOY BEFORE 12/27/19**
THIS CAN ONLY BE MERGED AND DEPLOYED AFTER THE LAST 2019 WALMART ELIGIBILITY FILE HAS BEEN INGESTED AND BEFORE THE FIRST 2020 WALMART ELIGIBILITY FILE IS PROCESSED.


=====================================================
Timestamp:  2019-11-26T01:03:13Z
Repository: ConsultingMD/jarvis
PR #12969: [# 169967273] As an engineer, so HP has a successful FG implementation, **add the alpha_prefix mappings**

Description:
As an engineer, so HP has a successful FG implementation, **add the alpha_prefix mappings**

[Tracker #169967273](https://www.pivotaltracker.com/story/show/169967273)

@stevenye-gr @kartik-gr @rakadutta-gr 


=====================================================
Timestamp:  2019-11-23T06:02:18Z
Repository: ConsultingMD/tp
PR #1400: [# 169930409] Create canonical.provider_visits_access_networks, so that as the provider pipeline, I can be correctly modeled

Description:
Create canonical.provider_visits_access_networks, so that as the provider pipeline, I can be correctly modeled

[Tracker #169930409](https://www.pivotaltracker.com/story/show/169930409)

@rakadutta-gr @kartik-gr 

Metropolis PR: https://github.com/ConsultingMD/metropolis/pull/1091

Needs to be merged after https://github.com/ConsultingMD/tp/pull/1399 or could be merged into it and then the other PR can be merged.


=====================================================
Timestamp:  2019-11-23T05:40:13Z
Repository: ConsultingMD/metropolis
PR #1091: [# 169930409] Create canonical.provider_visits_access_networks, so that as the provider pipeline, I can be correctly modeled

Description:
Create canonical.provider_visits_access_networks, so that as the provider pipeline, I can be correctly modeled

[Tracker #169930409](https://www.pivotaltracker.com/story/show/169930409)

@rakadutta-gr @kartik-gr 

TP PR:

Needs to be merged after #1090  or could be merged into it and then the other PR can be merged.


=====================================================
Timestamp:  2019-11-23T04:52:30Z
Repository: ConsultingMD/tp
PR #1399: [# 169930542] Add new column network_uids to enclarity/zelis/canonical pln, so that as provider_pipeline, I can run in a considerable amount of time

Description:
Add new column network_uids to enclarity/zelis/canonical pln, so that as provider_pipeline, I can run in a considerable amount of time

[Tracker #169930542](https://www.pivotaltracker.com/story/show/169930542)

@rakadutta-gr @kartik-gr 

Metropolis PR: https://github.com/ConsultingMD/metropolis/pull/1090

Based off of https://github.com/ConsultingMD/tp/pull/1398

Needs to be merged after #1398 or could be merged into it and then the other PR can be merged.


=====================================================
Timestamp:  2019-11-23T01:52:59Z
Repository: ConsultingMD/metropolis
PR #1090: add network_uids to enclarity/zelis/canonical pln. Drop not null cons

Description:
traint for network_uid

@rakadutta-gr @kartik-gr 

Needs to be merged after https://github.com/ConsultingMD/metropolis/pull/1089 or could be merged into it and then the other PR can be merged.

TP PR: https://github.com/ConsultingMD/tp/pull/1399


=====================================================
Timestamp:  2019-11-23T01:34:02Z
Repository: ConsultingMD/metropolis
PR #1089: [# 169930180] Create new <enclarity/zelis/canonical>networks table, so that as provider pipeline, I can include the network names in canonical

Description:
Create new <enclarity/zelis/canonical>networks table, so that as provider pipeline, I can include the network names in canonical

[Tracker #169930180](https://www.pivotaltracker.com/story/show/169930180)

@rakadutta-gr @kartik-gr 

TP PR: https://github.com/ConsultingMD/tp/pull/1398


=====================================================
Timestamp:  2019-11-23T01:33:53Z
Repository: ConsultingMD/tp
PR #1398: [# 169930180] Create new <enclarity/zelis/canonical>networks table, so that as provider pipeline, I can include the network names in canonical

Description:
Create new <enclarity/zelis/canonical>networks table, so that as provider pipeline, I can include the network names in canonical

[Tracker #169930180](https://www.pivotaltracker.com/story/show/169930180)

@rakadutta-gr @kartik-gr 

Metropolis PR: https://github.com/ConsultingMD/metropolis/pull/1089


=====================================================
Timestamp:  2019-11-12T19:33:40Z
Repository: ConsultingMD/metropolis
PR #1086: [# 169714003] Fix bug in canonical/load_provider_locations.sql

Description:
Fix bug in canonical/load_provider_locations.sql

[Tracker #169714003](https://www.pivotaltracker.com/story/show/169714003)

@kartik-gr @richardstanley 


=====================================================
Timestamp:  2019-11-12T19:07:43Z
Repository: ConsultingMD/rogers
PR #337: [# 169659932] S3 Retrieval should handle files larger than 5gb

Description:
S3 Retrieval should handle files larger than 5gb

[Tracker #169659932](https://www.pivotaltracker.com/story/show/169659932)

Seeing https://rollbar.com/GrandRounds/rogers/items/1542/ still being triggered. Bumping this up so it's not at the limit limit should resolve it for good.

@vinaygoel 


=====================================================
Timestamp:  2019-11-08T23:47:39Z
Repository: ConsultingMD/rogers
PR #335: [# 169659932] S3 Retrieval should handle files larger than 5gb

Description:
S3 Retrieval should handle files larger than 5gb

[Tracker #169659932](https://www.pivotaltracker.com/story/show/169659932)

@vinaygoel @cobbr2 


=====================================================
Timestamp:  2019-11-08T22:36:48Z
Repository: ConsultingMD/rogers
PR #334: [# 169659932] S3 Retrieval should handle files larger than 5gb

Description:
S3 Retrieval should handle files larger than 5gb

[Tracker #169659932](https://www.pivotaltracker.com/story/show/169659932)

@cobbr2 @vinaygoel 


=====================================================
Timestamp:  2019-11-08T00:41:04Z
Repository: ConsultingMD/metropolis
PR #1085: [# 169638286] calculate_zelis_specialties should trigger detect_reverse_tp_and_load, so that as an engineer, we ship the latest audit events in canonical 

Description:
calculate_zelis_specialties should trigger detect_reverse_tp_and_load, so that as an engineer, we ship the latest audit events in canonical 

[Tracker #169638286](https://www.pivotaltracker.com/story/show/169638286)

@kartik-gr @rakadutta-gr 


=====================================================
Timestamp:  2019-11-08T00:07:03Z
Repository: ConsultingMD/metropolis
PR #1084: [# 169637956] re-encrypt deploy files for more people

Description:
re-encrypt deploy files for more people

[Tracker #169637956](https://www.pivotaltracker.com/story/show/169637956)

@macklin 


=====================================================
Timestamp:  2019-10-31T22:47:11Z
Repository: ConsultingMD/metropolis
PR #1070: [# 168995419] As an engineer, so that I dont have to manually generate a config file for loading mturk data, **automate this process**

Description:
As an engineer, so that I dont have to manually generate a config file for loading mturk data, **automate this process**

[Tracker #168995419](https://www.pivotaltracker.com/story/show/168995419)

@kartik-gr @rakadutta-gr 

Verified by running it locally with the csv from https://www.pivotaltracker.com/story/show/169028350. Successfully generate the audit_events and audit_event_attribute_changes files that will be used by the `load_mturk` dag.

~~To Do: fix specs.~~


=====================================================
Timestamp:  2019-10-24T01:10:45Z
Repository: ConsultingMD/metropolis
PR #1055: [DF-1220] Upload AMA data into BigQuery

Description:
The specific tables needed are:

* {{grand_rounds_ama}}
* {{dbo_ama_npi}}
* {{dbo_lu_ama_schools}}
* {{grand_rounds_doctorfinder}}
* {{dbo_specialties}}

@arosu 


[DF-1220](https://grandrounds.atlassian.net/browse/DF-1220)


=====================================================
Timestamp:  2019-10-23T21:14:35Z
Repository: ConsultingMD/tp
PR #1343: [PLAT-1996] TP   TNG Logging

Description:
The container isnt running syslog. The rails logger is writing to syslog: [https://github.com/ConsultingMD/tp/blob/master/config/application.rb#L103|https://github.com/ConsultingMD/tp/blob/master/config/application.rb#L103|smart-link] .

Which logs need to be collected? 

How should we get to sumo? ([Sidecar running tail?|https://kubernetes.io/docs/concepts/cluster-administration/logging/], if its just the unicorn should we just pipe it to stdout in this case?) 

*Log files*

/var/log


```
-rw-r--r-- 1 root root  14948 Oct 22 19:47 alternatives.log
drwxr-xr-x 1 root root     60 Oct 22 19:47 apt
-rw-rw---- 1 root utmp      0 Oct 14 00:00 btmp
-rw-r--r-- 1 root root 173200 Oct 22 19:47 dpkg.log
-rw-r--r-- 1 root root  32000 Oct 22 19:47 faillog
-rw-r--r-- 1 root root    538 Oct 17 03:59 fontconfig.log
-rw-rw-r-- 1 root utmp 292000 Oct 22 19:47 lastlog
-rw-rw-r-- 1 root utmp      0 Oct 14 00:00 wtmp
```


/data/app/log


```
-rw-r--r-- 1 root root 4195 Oct 22 20:24 newrelic_agent.log
-rw-r--r-- 1 root root  344 Oct 22 20:24 skylight.log
-rw-r--r-- 1 root root 1205 Oct 22 20:24 unicorn.stderr.log
-rw-r--r-- 1 root root    0 Oct 22 20:24 unicorn.stdout.log
```


_Note:_ skylight is known to not be used.

[PLAT-1996](https://grandrounds.atlassian.net/browse/PLAT-1996)

@tjsingleton as long as you set the `RAILS_LOG_TO_STDOUT` env variable to something this should work. Also added back i3 so you can test it there first.


=====================================================
Timestamp:  2019-10-23T18:15:19Z
Repository: ConsultingMD/tp
PR #1342: [# 169324501] Remove skylight gem from TP

Description:
Remove skylight gem from TP

[Tracker #169324501](https://www.pivotaltracker.com/story/show/169324501)

@tjsingleton @kartik-gr @rakadutta-gr @richardstanley 


=====================================================
Timestamp:  2019-10-17T00:51:00Z
Repository: ConsultingMD/metropolis
PR #1050: [# 169195893] update gr_location_to_encl_matches to use gr_audits.provider_locations instead of gr_audits.doctor_practice_locations

Description:
update gr_location_to_encl_matches to use gr_audits.provider_locations instead of gr_audits.doctor_practice_locations

[Tracker #169195893](https://www.pivotaltracker.com/story/show/169195893)

@kartik-gr @rakadutta-gr @richardstanley 

Minor issue because these locations would still be shipped and included in canonical, they just wouldn't have the enclarity id's instead of the gr one.


=====================================================
Timestamp:  2019-10-05T01:10:12Z
Repository: ConsultingMD/tp
PR #1302: [# 168278111] Update the aws gem so any logic that uses assume role works

Description:
Update the aws gem so any logic that uses assume role works

[Tracker #168278111](https://www.pivotaltracker.com/story/show/168278111)

@bryanyee @kartik-gr 

https://www.youtube.com/watch?v=FGBhQbmPwH8


=====================================================
Timestamp:  2019-10-04T22:44:57Z
Repository: ConsultingMD/tp
PR #1301: [# 168278111] Update the aws gem so any logic that uses assume role works

Description:
Update the aws gem so any logic that uses assume role works

[Tracker #168278111](https://www.pivotaltracker.com/story/show/168278111)

The gift   that keeps on giving. Hopefully this is the last change. @kartik-gr 


=====================================================
Timestamp:  2019-10-04T19:12:01Z
Repository: ConsultingMD/tp
PR #1299: [# 168278111] Update the aws gem so any logic that uses assume role works

Description:
Update the aws gem so any logic that uses assume role works

[Tracker #168278111](https://www.pivotaltracker.com/story/show/168278111)

@kartik-gr 


=====================================================
Timestamp:  2019-09-26T00:11:01Z
Repository: ConsultingMD/rogers
PR #331: [# 168772375] Downcase the basename for s3_file/s3_prefix retrievers

Description:
Downcase the basename for s3_file/s3_prefix retrievers

[Tracker #168772375](https://www.pivotaltracker.com/story/show/168772375)

@kartik-gr @cobbr2 @rakadutta-gr @richardstanley 


=====================================================
Timestamp:  2019-09-25T00:29:22Z
Repository: ConsultingMD/metal
PR #570: [# 168468364] Reduce the number of deployed instances of stone

Description:
Reduce the number of deployed instances of stone

[Tracker #168468364](https://www.pivotaltracker.com/story/show/168468364)

defaults back to 2

@coleleahy @cobbr2 @brianclin @nickgorskigrrr 


=====================================================
Timestamp:  2019-09-24T22:28:12Z
Repository: ConsultingMD/tp
PR #1290: [# 168278111] Update the aws gem so any logic that uses assume role works

Description:
Update the aws gem so any logic that uses assume role works

[Tracker #168278111](https://www.pivotaltracker.com/story/show/168278111)

I was confused on the documentation https://docs.aws.amazon.com/sdk-for-ruby/v3/api/Aws/S3/Object.html#put-instance_method where I thought the `string` could be the path/to/the/file.

Would've definitely caught this had I inspected the zips (which I didn't).

@stevenye-gr @brianclin 


=====================================================
Timestamp:  2019-09-24T19:13:27Z
Repository: ConsultingMD/tp
PR #1289: [# 168278111] Update the aws gem so any logic that uses assume role works

Description:
Update the aws gem so any logic that uses assume role works

[Tracker #168278111](https://www.pivotaltracker.com/story/show/168278111)

@brianclin @kartik-gr @rakadutta-gr @richardstanley 


=====================================================
Timestamp:  2019-09-24T01:51:18Z
Repository: ConsultingMD/engineering-deep
PR #927: [DF-983] re-key eng repo to add matts gpg key

Description:

[DF-983](https://grandrounds.atlassian.net/browse/DF-983)

@mattforbes-gr 


=====================================================
Timestamp:  2019-09-19T06:10:27Z
Repository: ConsultingMD/tp
PR #1288: [# 168278111] Update the aws gem so any logic that uses assume role works

Description:
Update the aws gem so any logic that uses assume role works

[Tracker #168278111](https://www.pivotaltracker.com/story/show/168278111)

@kartik-gr @richardstanley 

Fixes https://rollbar.com/GrandRounds/tp/items/754/


=====================================================
Timestamp:  2019-09-14T01:15:16Z
Repository: ConsultingMD/rogers
PR #327: [# 168465335] As an engineer, so that data sources are polled in a faster way, **enqueue a data source job for each data source that needs polling**

Description:
As an engineer, so that data sources are polled in a faster way, **enqueue a data source job for each data source that needs polling**

[Tracker #168465335](https://www.pivotaltracker.com/story/show/168465335)

@cobbr2 @kartik-gr 

local tests worked!


=====================================================
Timestamp:  2019-09-12T20:29:40Z
Repository: ConsultingMD/metal
PR #569: [# 168465335] As an engineer, so that data sources are polled in a faster way, **enqueue a data source job for each data source that needs polling**

Description:
As an engineer, so that data sources are polled in a faster way, **enqueue a data source job for each data source that needs polling**

[Tracker #168465335](https://www.pivotaltracker.com/story/show/168465335)

@whiskeyjimbo @cobbr2 


=====================================================
Timestamp:  2019-09-11T22:54:42Z
Repository: ConsultingMD/jarvis
PR #12608: [# 168388455] As an engineer, so SE can configure insurance plans with the specific customer plan ids to support the THD release, **add a new column to store this information**

Description:
As an engineer, so SE can configure insurance plans with the specific customer plan ids to support the THD release, **add a new column to store this information**

[Tracker #168388455](https://www.pivotaltracker.com/story/show/168388455)

@bryanyee @kartik-gr @rakadutta-gr @richardstanley 

This PR needs to be merged after the TP one.
TP PR: https://github.com/ConsultingMD/tp/pull/1285


=====================================================
Timestamp:  2019-09-11T22:54:05Z
Repository: ConsultingMD/tp
PR #1285: [# 168388455] As an engineer, so SE can configure insurance plans with the specific customer plan ids to support the THD release, **add a new column to store this information**

Description:
As an engineer, so SE can configure insurance plans with the specific customer plan ids to support the THD release, **add a new column to store this information**

[Tracker #168388455](https://www.pivotaltracker.com/story/show/168388455)

@bryanyee @kartik-gr @rakadutta-gr @richardstanley 

I decided not to add any validations for plan_id for now given that we really don't know how unique they'll be (carrier/plan specific vs plan specific, we can filter on customer on our side)

This PR needs to be merged and deployed before the Jarvis one.
Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/12608


=====================================================
Timestamp:  2019-09-10T01:26:08Z
Repository: ConsultingMD/tp
PR #1282: [# 168278111] Update the aws gem so any logic that uses assume role works

Description:
Update the aws gem so any logic that uses assume role works

[Tracker #168278111](https://www.pivotaltracker.com/story/show/168278111)

@kartik-gr @rakadutta-gr @richardstanley 


=====================================================
Timestamp:  2019-09-04T21:39:53Z
Repository: ConsultingMD/rogers
PR #326: [# 168280690] Fix s3 multipart_upload for ftp/sftp data sources

Description:
Fix s3 multipart_upload for ftp/sftp data sources

[Tracker #168280690](https://www.pivotaltracker.com/story/show/168280690)

@cobbr2 @whiskeyjimbo 



=====================================================
Timestamp:  2019-08-31T01:36:29Z
Repository: ConsultingMD/tp
PR #1277: [# 168231241] Error when removing a provider photo

Description:
Error when removing a provider photo

[Tracker #168231241](https://www.pivotaltracker.com/story/show/168231241)

@kartik-gr @rakadutta-gr @richardstanley 

Before:
```
Started DELETE "/provider_images/4" for 127.0.0.1 at 2019-08-31 01:25:49 +0000
Processing by ProviderImagesController#destroy as JS
  Parameters: {"id"=>"4"}
Authorizing access in development
  ProviderImage Load (1.1ms)  SELECT  "provider_images".* FROM "provider_images" WHERE "provider_images"."marked_incorrect_at" IS NULL AND "provider_images"."id" = $1  ORDER BY "provider_images"."result_rank" ASC LIMIT 1  [["id", 4]]
   (0.8ms)  BEGIN
  ProviderImage Exists (1.5ms)  SELECT  1 AS one FROM "provider_images" WHERE ("provider_images"."source_url" = 'https://www.uni-regensburg.de/Fakultaeten/phil_Fak_II/Psychologie/Psy_II/beautycheck/english/prototypen/w_sexy_gr.jpg' AND "provider_images"."id" != 4 AND "provider_images"."npi" = '1851593412') LIMIT 1
  SQL (1.5ms)  UPDATE "provider_images" SET "active" = $1, "marked_incorrect_at" = $2, "image_file" = $3, "updated_at" = $4 WHERE "provider_images"."id" = $5  [["active", "f"], ["marked_incorrect_at", "2019-08-31 01:25:49.266458"], ["image_file", "provider_image_file_20190831012526.jpg.bak"], ["updated_at", "2019-08-31 01:25:50.468561"], ["id", 4]]
   (1.2ms)  COMMIT

From: /Users/rgarcia/GR/tp/app/controllers/provider_images_controller.rb @ line 14 ProviderImagesController#destroy:

     4: def destroy
     5:   status =
     6:     if @provider_image
     7:       @provider_image.mark_incorrect!
     8:       :no_content
     9:     else
    10:       :unprocessable_entity
    11:     end
    12:
    13:   binding.pry
 => 14:   head status
    15:   # respond_to do |response|
    16:   #   response.js { head status }
    17:   # end
    18: end

[1] pry(#<ProviderImagesController>)> c
Completed 500 Internal Server Error in 5185ms (ActiveRecord: 6.1ms)

NoMethodError (undefined method `delete' for #<ActionDispatch::Http::Headers:0x00007fd77cf47878>):
  app/controllers/provider_images_controller.rb:14:in `destroy'


  Rendered /Users/rgarcia/.rvm/gems/ruby-2.5.1@tp/gems/actionpack-4.2.11.1/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.5ms)
  Rendered /Users/rgarcia/.rvm/gems/ruby-2.5.1@tp/gems/actionpack-4.2.11.1/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.9ms)
  Rendered /Users/rgarcia/.rvm/gems/ruby-2.5.1@tp/gems/actionpack-4.2.11.1/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.8ms)
  Rendered /Users/rgarcia/.rvm/gems/ruby-2.5.1@tp/gems/actionpack-4.2.11.1/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (65.4ms)
```

Now:
```
Started DELETE "/provider_images/6" for 127.0.0.1 at 2019-08-31 01:32:51 +0000
Processing by ProviderImagesController#destroy as JS
  Parameters: {"id"=>"6"}
Authorizing access in development
  ProviderImage Load (1.4ms)  SELECT  "provider_images".* FROM "provider_images" WHERE "provider_images"."marked_incorrect_at" IS NULL AND "provider_images"."id" = $1  ORDER BY "provider_images"."result_rank" ASC LIMIT 1  [["id", 6]]
   (1.1ms)  BEGIN
  ProviderImage Exists (1.4ms)  SELECT  1 AS one FROM "provider_images" WHERE ("provider_images"."source_url" = 'https://www.uni-regensburg.de/Fakultaeten/phil_Fak_II/Psychologie/Psy_II/beautycheck/english/prototypen/w_sexy_gr.jpg' AND "provider_images"."id" != 6 AND "provider_images"."npi" = '1851593412') LIMIT 1
  SQL (2.0ms)  UPDATE "provider_images" SET "active" = $1, "marked_incorrect_at" = $2, "image_file" = $3, "updated_at" = $4 WHERE "provider_images"."id" = $5  [["active", "f"], ["marked_incorrect_at", "2019-08-31 01:32:51.473854"], ["image_file", "provider_image_file_20190831013238.jpg.bak"], ["updated_at", "2019-08-31 01:32:53.009492"], ["id", 6]]
   (1.7ms)  COMMIT
Completed 200 OK in 3401ms (ActiveRecord: 7.7ms)
```


=====================================================
Timestamp:  2019-08-30T23:56:11Z
Repository: ConsultingMD/tp
PR #1276: [# 168230975] Update the faker gem

Description:
Update the faker gem

[Tracker #168230975](https://www.pivotaltracker.com/story/show/168230975)

@kartik-gr @rakadutta-gr @richardstanley 

Helping out the robot that couldn't do this: https://github.com/ConsultingMD/tp/pull/1257


=====================================================
Timestamp:  2019-08-28T04:46:11Z
Repository: ConsultingMD/rogers
PR #325: [# 168124145] Upgrade the aws gem

Description:
Upgrade the aws gem

[Tracker #168124145](https://www.pivotaltracker.com/story/show/168124145)

@whiskeyjimbo 


=====================================================
Timestamp:  2019-08-27T21:16:03Z
Repository: ConsultingMD/metropolis
PR #1025: [# 168153425] Export the raw enclarity tables to BQ

Description:
Export the raw enclarity tables to BQ

[Tracker #168153425](https://www.pivotaltracker.com/story/show/168153425)

@macklin @rsoma-grounds @erccarls @pwrose21 @jesse-weaver23 @kartik-gr @rakadutta-gr @richardstanley 


=====================================================
Timestamp:  2019-08-23T03:48:58Z
Repository: ConsultingMD/jarvis
PR #12532: [# 168070133] As an engineer, so BlackRock has a successful FG implementation, **augment the health_card_id method with the BlackRock logic**

Description:
As an engineer, so BlackRock has a successful FG implementation, **augment the health_card_id method with the BlackRock logic**

[Tracker #168070133](https://www.pivotaltracker.com/story/show/168070133)

@bryanyee @michaelrglassman @stevenye-gr @kartik-gr 


=====================================================
Timestamp:  2019-08-22T00:14:33Z
Repository: ConsultingMD/jarvis
PR #12527: [# 167909370] As an engineer, so BlackRock has a successful FG implementation, **add the alpha_prefix mappings**

Description:
As an engineer, so BlackRock has a successful FG implementation, **add the alpha_prefix mappings**

[Tracker #167909370](https://www.pivotaltracker.com/story/show/167909370)

@kartik-gr @bryanyee @stevenye-gr 


=====================================================
Timestamp:  2019-08-15T18:30:37Z
Repository: ConsultingMD/metropolis
PR #1012: [# 167927955] augment metropolis deploy script to rotate the logs

Description:
augment metropolis deploy script to rotate the logs

[Tracker #167927955](https://www.pivotaltracker.com/story/show/167927955)

@macklin 


=====================================================
Timestamp:  2019-08-14T21:21:25Z
Repository: ConsultingMD/metropolis
PR #1011: [# 167909597] fix relation "definitive.raw_physician_overview_summary" does not exist when exporting to BQ

Description:
fix relation "definitive.raw_physician_overview_summary" does not exist when exporting to BQ

[Tracker #167909597](https://www.pivotaltracker.com/story/show/167909597)

@rakadutta-gr @kartik-gr @richardstanley 


=====================================================
Timestamp:  2019-08-10T01:49:46Z
Repository: ConsultingMD/metropolis
PR #1004: [# 167084598] Load latest call campaign sheets 

Description:
Load latest call campaign sheets 

[Tracker #167084598](https://www.pivotaltracker.com/story/show/167084598)

@kartik-gr @rakadutta-gr @richardstanley 


=====================================================
Timestamp:  2019-08-09T19:45:54Z
Repository: ConsultingMD/metropolis
PR #1002: [# 167818100] fix refresh_provider_summary dag

Description:
fix refresh_provider_summary dag

[Tracker #167818100](https://www.pivotaltracker.com/story/show/167818100)

@richardstanley @macklin 


=====================================================
Timestamp:  2019-08-09T03:06:12Z
Repository: ConsultingMD/metropolis
PR #1001: [# 167579329] Add Definitive dataset to Pipeline

Description:
Add Definitive dataset to Pipeline

[Tracker #167579329](https://www.pivotaltracker.com/story/show/167579329)

@rakadutta-gr @richardstanley @kartik-gr 


=====================================================
Timestamp:  2019-08-08T22:02:10Z
Repository: ConsultingMD/rogers
PR #322: [# 167301263] Automate AMA ingestion from sftp site into our S3 bucket for the rest of AMA pipeline to process

Description:
Automate AMA ingestion from sftp site into our S3 bucket for the rest of AMA pipeline to process

[Tracker #167301263](https://www.pivotaltracker.com/story/show/167301263)

@RoryO 


=====================================================
Timestamp:  2019-08-07T01:20:59Z
Repository: ConsultingMD/jarvis
PR #12441: [# 167301263] Automate AMA ingestion from sftp site into our S3 bucket for the rest of AMA pipeline to process

Description:
Automate AMA ingestion from sftp site into our S3 bucket for the rest of AMA pipeline to process

[Tracker #167301263](https://www.pivotaltracker.com/story/show/167301263)

@kartik-gr @richardstanley @cobbr2 @rakadutta-gr 

Rogers PR: https://github.com/ConsultingMD/rogers/pull/321


=====================================================
Timestamp:  2019-08-06T17:32:10Z
Repository: ConsultingMD/rogers
PR #321: [# 167301263] Automate AMA ingestion from sftp site into our S3 bucket for the rest of AMA pipeline to process

Description:
Automate AMA ingestion from sftp site into our S3 bucket for the rest of AMA pipeline to process

[Tracker #167301263](https://www.pivotaltracker.com/story/show/167301263)

@kartik-gr @richardstanley @cobbr2 @rakadutta-gr 

Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/12441


=====================================================
Timestamp:  2019-08-02T23:40:49Z
Repository: ConsultingMD/rogers
PR #320: [# 167683623] As Rogers. so I can process unencrypted files, **augment the deploy flow to import the public gpg key**

Description:
As Rogers. so I can process unencrypted files, **augment the deploy flow to import the public gpg key**

[Tracker #167683623](https://www.pivotaltracker.com/story/show/167683623)
@ldinh1984 this is what happens when one tries to work after going to fogo for lunch


=====================================================
Timestamp:  2019-08-02T22:58:21Z
Repository: ConsultingMD/rogers
PR #319: [# 167683623] As Rogers. so I can process unencrypted files, **augment the deploy flow to import the public gpg key**

Description:
As Rogers. so I can process unencrypted files, **augment the deploy flow to import the public gpg key**

[Tracker #167683623](https://www.pivotaltracker.com/story/show/167683623)

@ldinh1984 


=====================================================
Timestamp:  2019-08-02T22:39:46Z
Repository: ConsultingMD/terraform-vault
PR #112: [# 167683623] As Rogers. so I can process unencrypted files, **augment the deploy flow to import the public gpg key**

Description:
As Rogers. so I can process unencrypted files, **augment the deploy flow to import the public gpg key**

[Tracker #167683623](https://www.pivotaltracker.com/story/show/167683623)
@ldinh1984 


=====================================================
Timestamp:  2019-08-02T22:25:08Z
Repository: ConsultingMD/rogers
PR #318: [# 167683623] As Rogers. so I can process unencrypted files, **augment the deploy flow to import the public gpg key**

Description:
As Rogers. so I can process unencrypted files, **augment the deploy flow to import the public gpg key**

[Tracker #167683623](https://www.pivotaltracker.com/story/show/167683623)

@cobbr2 


=====================================================
Timestamp:  2019-07-24T06:00:32Z
Repository: ConsultingMD/metropolis
PR #975: [# 167449303] As a user of provider match, so that I do not see a provider that is not in network, Provider Match should only surface providers that have the appropriate service_area tag for a network_id as in network

Description:
As a user of provider match, so that I do not see a provider that is not in network, Provider Match should only surface providers that have the appropriate service_area tag for a network_id as in network

[Tracker #167449303](https://www.pivotaltracker.com/story/show/167449303)

@kartik-gr @rakadutta-gr @richardstanley 


=====================================================
Timestamp:  2019-07-18T19:48:50Z
Repository: ConsultingMD/tp
PR #1246: [# 167361332] As TP, when I create a new location for a physician to use in RTP, **it should never use a location id from an existing zelis location since we currently do not allow RTP for zelis information**

Description:
As TP, when I create a new location for a physician to use in RTP, **it should never use a location id from an existing zelis location since we currently do not allow RTP for zelis information**

[Tracker #167361332](https://www.pivotaltracker.com/story/show/167361332)

@kartik-gr @rakadutta-gr @richardstanley 


=====================================================
Timestamp:  2019-07-15T23:20:56Z
Repository: ConsultingMD/tp
PR #1243: [# 167307610] Augment the medical_terms_exporter to also send the provider_type column

Description:
Augment the medical_terms_exporter to also send the provider_type column

[Tracker #167307610](https://www.pivotaltracker.com/story/show/167307610)

@kartik-gr @ajuvekar @rakadutta-gr @richardstanley @darapuk

Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/527

Warehouse piece needs to be merged and deployed before this one.


=====================================================
Timestamp:  2019-07-15T23:16:57Z
Repository: ConsultingMD/warehouse
PR #527: [# 167307610] Augment the medical_terms_exporter to also send the provider_type column

Description:
Augment the medical_terms_exporter to also send the provider_type column

[Tracker #167307610](https://www.pivotaltracker.com/story/show/167307610)

@kartik-gr @ajuvekar @rakadutta-gr @richardstanley @darapuk 

TP PR: https://github.com/ConsultingMD/tp/pull/1243

This one needs to be deployed first.


=====================================================
Timestamp:  2019-07-15T22:37:44Z
Repository: ConsultingMD/frick
PR #518: [# 167156398] Update application to be aware of S3_BUCKET_PREFIX

Description:
Update application to be aware of S3_BUCKET_PREFIX

[Tracker #167156398](https://www.pivotaltracker.com/story/show/167156398)
@cobbr2 @brianclin @ldinh1984 


=====================================================
Timestamp:  2019-07-15T22:17:53Z
Repository: ConsultingMD/jarvis
PR #12336: [# 167245053] Make medical release updates fast enough: add an index

Description:
Make medical release updates fast enough: add an index

[Tracker #167245053](https://www.pivotaltracker.com/story/show/167245053)

@jstrater @cobbr2 


=====================================================
Timestamp:  2019-07-11T21:47:39Z
Repository: ConsultingMD/terraform-metrics
PR #46: [# 167241463] Update detector for rogers locked job alarm

Description:
Update detector for rogers locked job alarm

[Tracker #167241463](https://www.pivotaltracker.com/story/show/167241463)

@ldinh1984 @brianclin 


=====================================================
Timestamp:  2019-07-11T19:11:56Z
Repository: ConsultingMD/warehouse
PR #526: [# 167156398] Update application to be aware of S3_BUCKET_PREFIX

Description:
Update application to be aware of S3_BUCKET_PREFIX

[Tracker #167156398](https://www.pivotaltracker.com/story/show/167156398)

@darapuk @ajuvekar @cobbr2 @kartik-gr @rakadutta-gr @brianclin @ldinh1984 @richardstanley 


=====================================================
Timestamp:  2019-07-09T22:15:49Z
Repository: ConsultingMD/rogers
PR #316: [# 167156398] Update application to be aware of S3_BUCKET_PREFIX

Description:
Update application to be aware of S3_BUCKET_PREFIX

[Tracker #167156398](https://www.pivotaltracker.com/story/show/167156398)

@kartik-gr @brianclin @ldinh1984 @cobbr2 @rakadutta-gr @richardstanley 


=====================================================
Timestamp:  2019-07-09T21:37:13Z
Repository: ConsultingMD/stone
PR #842: [# 167156398] Update application to be aware of S3_BUCKET_PREFIX

Description:
Update application to be aware of S3_BUCKET_PREFIX

[Tracker #167156398](https://www.pivotaltracker.com/story/show/167156398)

@cobbr2 @ldinh1984 @brianclin @kartik-gr @rakadutta-gr @richardstanley 


=====================================================
Timestamp:  2019-07-09T00:12:34Z
Repository: ConsultingMD/tp
PR #1241: [# 167156398] Update application to be aware of S3_BUCKET_PREFIX

Description:
Update application to be aware of S3_BUCKET_PREFIX

[Tracker #167156398](https://www.pivotaltracker.com/story/show/167156398)

@kartik-gr @richardstanley @ldinh1984 @brianclin @rakadutta-gr 


=====================================================
Timestamp:  2019-06-21T01:10:50Z
Repository: ConsultingMD/tp
PR #1232: [# 159021737] Drop the doctor based tables in TP, and remove their generation in the Provider Pipeline

Description:
Drop the doctor based tables in TP, and remove their generation in the Provider Pipeline

[Tracker #159021737](https://www.pivotaltracker.com/story/show/159021737)

@kartik-gr @richardstanley @rakadutta-gr 


=====================================================
Timestamp:  2019-06-19T22:34:17Z
Repository: ConsultingMD/metropolis
PR #945: [# 166806716] more cleanup of the doctor models

Description:
more cleanup of the doctor models

[Tracker #166806716](https://www.pivotaltracker.com/story/show/166806716)

@richardstanley @kartik-gr @rakadutta-gr 


=====================================================
Timestamp:  2019-06-19T05:26:38Z
Repository: ConsultingMD/metropolis
PR #944: [# 166196289] Load latest call campaign sheets (THD  and  NYC2  and  LA1)

Description:
Load latest call campaign sheets (THD  and  NYC2  and  LA1)

[Tracker #166196289](https://www.pivotaltracker.com/story/show/166196289)

@richardstanley @kartik-gr @rakadutta-gr 


=====================================================
Timestamp:  2019-06-13T19:50:37Z
Repository: ConsultingMD/metropolis
PR #941: [# 166686330] As an engineer, so that load_canonical doesnt profile tables it doesnt need to,**remove the doctor based tables from the profile task**

Description:
As an engineer, so that load_canonical doesnt profile tables it doesnt need to,**remove the doctor based tables from the profile task**

[Tracker #166686330](https://www.pivotaltracker.com/story/show/166686330)

@richardstanley @rakadutta-gr @kartik-gr 


=====================================================
Timestamp:  2019-06-10T05:02:08Z
Repository: ConsultingMD/metropolis
PR #933: [# 166570934] As an engineer, so the provider pipeline doest generate useless data, **remove generation of data for the doctor based tables**

Description:
As an engineer, so the provider pipeline doest generate useless data, **remove generation of data for the doctor based tables**

[Tracker #166570934](https://www.pivotaltracker.com/story/show/166570934)

@richardstanley @rakadutta-gr @kartik-gr 


=====================================================
Timestamp:  2019-05-24T01:56:16Z
Repository: ConsultingMD/jarvis
PR #12106: [# 157856860] Remove all references to the doctors tables

Description:
Remove all references to the doctors tables

[Tracker #157856860](https://www.pivotaltracker.com/story/show/157856860)

TP side: https://github.com/ConsultingMD/tp/pull/1225

@kartik-gr @richardstanley @rakadutta-gr 


=====================================================
Timestamp:  2019-05-24T01:36:29Z
Repository: ConsultingMD/tp
PR #1225: [# 157856860] Remove all references to the doctors tables

Description:
Remove all references to the doctors tables

[Tracker #157856860](https://www.pivotaltracker.com/story/show/157856860)

Jarvis side: https://github.com/ConsultingMD/jarvis/pull/12106

@kartik-gr @richardstanley @rakadutta-gr 


=====================================================
Timestamp:  2019-05-23T23:04:48Z
Repository: ConsultingMD/tp
PR #1224: [# 166226558] Remove N+1 queries for **ProviderLocationTag** in TP

Description:
Remove N+1 queries for **ProviderLocationTag** in TP

[Tracker #166226558](https://www.pivotaltracker.com/story/show/166226558)

@richardstanley @kartik-gr @rakadutta-gr 


=====================================================
Timestamp:  2019-05-16T18:38:45Z
Repository: ConsultingMD/metropolis
PR #914: [# 166068010] As an engineer, so we dont generate CSVs of tables that wont be used anymore, **remove the generation of the doctor based tables**

Description:
As an engineer, so we dont generate CSVs of tables that wont be used anymore, **remove the generation of the doctor based tables**

[Tracker #166068010](https://www.pivotaltracker.com/story/show/166068010)

@richardstanley @rakadutta-gr @kartik-gr 


=====================================================
Timestamp:  2019-05-09T01:33:33Z
Repository: ConsultingMD/metropolis
PR #908: [# 165735860] As an engineer, so we deprecate uses of the old doctor models, **replace uses of doctor_summary with provider_summary**

Description:
As an engineer, so we deprecate uses of the old doctor models, **replace uses of doctor_summary with provider_summary**

[Tracker #165735860](https://www.pivotaltracker.com/story/show/165735860)

The following spreadsheet list the various files that utilize the the old doctor models:
https://docs.google.com/spreadsheets/d/1BRC0CqCpQH2lWzcp8pZVcQwa1Iexxs7Ny47PbQf6yGo/edit#gid=0

I recommend viewing by commit as I did a file per commit in mostly all cases.


Some files I didn't migrate, you can look at the spreadsheet for the reason why (most of them because they were using some columns that are not present anymore in the new provider_summary mv created from https://github.com/ConsultingMD/metropolis/pull/903)


=====================================================
Timestamp:  2019-05-06T22:02:34Z
Repository: ConsultingMD/cross-check
PR #47: [# 165840812] Update tp_insurance_plans with latest schema changes

Description:
Update tp_insurance_plans with latest schema changes

[Tracker #165840812](https://www.pivotaltracker.com/story/show/165840812)

@rakadutta-gr @richardstanley @kartik-gr 


=====================================================
Timestamp:  2019-05-06T21:53:59Z
Repository: ConsultingMD/tp
PR #1218: [# 165840987] Update the ProviderRepresenter to remove the doctor_trainings entry

Description:
Update the ProviderRepresenter to remove the doctor_trainings entry

[Tracker #165840987](https://www.pivotaltracker.com/story/show/165840987)
@AndrewRayCode cleanup on aisle 5


=====================================================
Timestamp:  2019-05-03T22:37:58Z
Repository: ConsultingMD/jarvis
PR #12025: [# 165799366] Providers selected for a visit case are missing institution and address info

Description:
Providers selected for a visit case are missing institution and address info

[Tracker #165799366](https://www.pivotaltracker.com/story/show/165799366)

@AndrewRayCode 


=====================================================
Timestamp:  2019-05-02T23:51:08Z
Repository: ConsultingMD/metropolis
PR #904: [# 165759838] Load latest call campaign sheets (THD retired/deceased)

Description:
Load latest call campaign sheets (THD retired/deceased)

[Tracker #165759838](https://www.pivotaltracker.com/story/show/165759838)

@rakadutta-gr @richardstanley @kartik-gr 


=====================================================
Timestamp:  2019-05-01T17:36:01Z
Repository: ConsultingMD/tp
PR #1215: [# 165735466] Investigate: Why was provider info removed

Description:
Investigate: Why was provider info removed

[Tracker #165735466](https://www.pivotaltracker.com/story/show/165735466)

@AndrewRayCode 


=====================================================
Timestamp:  2019-04-30T23:57:14Z
Repository: ConsultingMD/metropolis
PR #903: [# 165734038] As an engineer, so we deprecate uses of the old doctor models, **create a provider_summary materialized view to replace the doctor_summary one**

Description:
As an engineer, so we deprecate uses of the old doctor models, **create a provider_summary materialized view to replace the doctor_summary one**

[Tracker #165734038](https://www.pivotaltracker.com/story/show/165734038)
@richardstanley @rakadutta-gr @kartik-gr @macklin @rsoma-grounds @erccarls (DS, please tag any other people that should be looking at this)

There will be another [story](https://www.pivotaltracker.com/story/show/165735860) to replace the uses of doctor_summary with this.


=====================================================
Timestamp:  2019-04-27T00:28:46Z
Repository: ConsultingMD/tp
PR #1213: [# 165233630] As TP, so I generate provider based audit events for a provider (physician), **migrate the physician grape endpoint to the provider model**

Description:
As TP, so I generate provider based audit events for a provider (physician), **migrate the physician grape endpoint to the provider model**

[Tracker #165233630](https://www.pivotaltracker.com/story/show/165233630)

@kartik-gr @rakadutta-gr @richardstanley 


=====================================================
Timestamp:  2019-04-26T01:10:42Z
Repository: ConsultingMD/metropolis
PR #894: [# 165625919] Add task in load_canonical to vacuum_analyze tables

Description:
Add task in load_canonical to vacuum_analyze tables

[Tracker #165625919](https://www.pivotaltracker.com/story/show/165625919)

@rakadutta-gr @richardstanley @kartik-gr 


=====================================================
Timestamp:  2019-04-25T17:29:48Z
Repository: ConsultingMD/metropolis
PR #891: [# 165478541] Load latest call campaign sheets

Description:
Load latest call campaign sheets

[Tracker #165478541](https://www.pivotaltracker.com/story/show/165478541)

@richardstanley @rakadutta-gr @kartik-gr 


=====================================================
Timestamp:  2019-04-16T06:13:12Z
Repository: ConsultingMD/metropolis
PR #885: [# 165372366] As a developer, so sql scripts work again, **update the sql scripts that reference enclarity.raw_grandrounds_assoc_idv**

Description:
As a developer, so sql scripts work again, **update the sql scripts that reference enclarity.raw_grandrounds_assoc_idv**

[Tracker #165372366](https://www.pivotaltracker.com/story/show/165372366)

@richardstanley @rakadutta-gr @kartik-gr 


=====================================================
Timestamp:  2019-04-15T21:23:01Z
Repository: ConsultingMD/metropolis
PR #884: [# 164676105] Ship canonical.provider_locations#membership_info_elig_network_uids column to TP

Description:
Ship canonical.provider_locations#membership_info_elig_network_uids column to TP

[Tracker #164676105](https://www.pivotaltracker.com/story/show/164676105)

@rakadutta-gr @richardstanley @kartik-gr 

For some reason (probably user error) this was missed in https://github.com/ConsultingMD/metropolis/pull/859 when it was merged into https://github.com/ConsultingMD/metropolis/pull/857


=====================================================
Timestamp:  2019-04-12T18:33:47Z
Repository: ConsultingMD/metropolis
PR #881: [# 165320345] As a developer, so I can ingest the Enclarity schema, **fix the incorrect column types**

Description:
As a developer, so I can ingest the Enclarity schema, **fix the incorrect column types**

[Tracker #165320345](https://www.pivotaltracker.com/story/show/165320345)

@rakadutta-gr @richardstanley @kartik-gr 


=====================================================
Timestamp:  2019-04-12T00:47:13Z
Repository: ConsultingMD/tp
PR #1205: [# 165233530] As TP, so I generate provider based audit events for provider_<condition/specialties/procedures>, **migrate the condition/specialty/procedure grape endpoints to the provider models**

Description:
As TP, so I generate provider based audit events for provider_<condition/specialties/procedures>, **migrate the condition/specialty/procedure grape endpoints to the provider models**

[Tracker #165233530](https://www.pivotaltracker.com/story/show/165233530)

@kartik-gr @rakadutta-gr @richardstanley 

I recommend viewing by commit.


=====================================================
Timestamp:  2019-04-11T00:36:35Z
Repository: ConsultingMD/tp
PR #1199: [# 165263390] Unable to save TP notes

Description:
Unable to save TP notes

[Tracker #165263390](https://www.pivotaltracker.com/story/show/165263390)

@rakadutta-gr @kartik-gr @richardstanley 


=====================================================
Timestamp:  2019-04-09T01:29:24Z
Repository: ConsultingMD/metropolis
PR #879: [# 165159742] Update Enclarity schema based on newest Enclarity data dictionary

Description:
Update Enclarity schema based on newest Enclarity data dictionary

[Tracker #165159742](https://www.pivotaltracker.com/story/show/165159742)

@rakadutta-gr @richardstanley @kartik-gr 


=====================================================
Timestamp:  2019-03-22T23:26:30Z
Repository: ConsultingMD/metropolis
PR #867: [# 164585718] As a developer, so we can generate network mappings for Zelis providers, **update the relevant sql scripts to get the network mappings from the new way**

Description:
As a developer, so we can generate network mappings for Zelis providers, **update the relevant sql scripts to get the network mappings from the new way**

[Tracker #164585718](https://www.pivotaltracker.com/story/show/164585718)

@rakadutta-gr @nfoen @kartik-gr @richardstanley 

TBD on doing this for the doctor model as well, if so I'll push again.

One thing to note is that this will dramatically increase the entries. This is one of the things I want to talk to JP about.

```
  + new way: zelis.provider_location_networks => `101,817,958`
  + old way: zelis.provider_location_networks => `27,637,198`
  + 101,817,958 - 27,637,198 = 74,180,760 new entries
  + old canonical.provider_location_networks => `47,238,163`

  + new way: zelis.doctor_practice_location_networks =>   `91,214,444`
  + old way: zelis.doctor_practice_location_networks =>   `22,633,513`
  + 91,214,444 - 22,633,513 = `68,580,931` new entries
  + old canonical.doctor_practice_location_networks => `44,650,123`
```


=====================================================
Timestamp:  2019-03-16T00:17:08Z
Repository: ConsultingMD/tp
PR #1183: Add membershipInfoEligNetworkUids field to LocationType

Description:
Add new field to the LocationType to restrict which network_uids can view the membership (concierge) information

[Tracker #164676335](https://www.pivotaltracker.com/story/show/164676335)

@nfoen @rakadutta-gr @kartik-gr 

Based branch is https://github.com/ConsultingMD/tp/pull/1182 until that is merged and deployed.


=====================================================
Timestamp:  2019-03-15T23:49:33Z
Repository: ConsultingMD/metropolis
PR #859: [# 164676105] Ship canonical.provider_locations#membership_info_elig_network_uids column to TP

Description:
Ship canonical.provider_locations#membership_info_elig_network_uids column to TP

[Tracker #164676105](https://www.pivotaltracker.com/story/show/164676105)

@rakadutta-gr @kartik-gr @nfoen @richardstanley 


=====================================================
Timestamp:  2019-03-15T23:44:42Z
Repository: ConsultingMD/tp
PR #1182: [# 164676062] Add membership_info_elig_network_uids varchar array column to provider_locations 

Description:
Add membership_info_elig_network_uids varchar array column to provider_locations 

[Tracker #164676062](https://www.pivotaltracker.com/story/show/164676062)

@rakadutta-gr @kartik-gr @nfoen 


=====================================================
Timestamp:  2019-03-14T00:48:53Z
Repository: ConsultingMD/metropolis
PR #857: [# 164588975] As a developer, so that I utilize the concierge information in zelis, **augment canonical/load_provider_locations.sql to retrieve concierge information for Zelis entries**

Description:
As a developer, so that I utilize the concierge information in zelis, **augment canonical/load_provider_locations.sql to retrieve concierge information for Zelis entries**

[Tracker #164588975](https://www.pivotaltracker.com/story/show/164588975)

@rakadutta-gr @richardstanley @nfoen 


=====================================================
Timestamp:  2019-03-12T20:00:05Z
Repository: ConsultingMD/tp
PR #1179: [# 164583654] Make the S3Utils upload files with the right acl policies

Description:
Make the S3Utils upload files with the right acl policies

[Tracker #164583654](https://www.pivotaltracker.com/story/show/164583654)

@whiskeyjimbo 

to fix https://rollbar.com/GrandRounds/airflow/items/282/


=====================================================
Timestamp:  2019-03-11T22:15:54Z
Repository: ConsultingMD/tp
PR #1178: [# 164262148] As TP, so stakeholders can access the most up to date insurance information, **Export the insurance_plans and provider_networks table after any PDM update.**

Description:
As TP, so stakeholders can access the most up to date insurance information, **Export the insurance_plans and provider_networks table after any PDM update.**

[Tracker #164262148](https://www.pivotaltracker.com/story/show/164262148)

forgot to check in this line

@nfoen @rakadutta-gr 


=====================================================
Timestamp:  2019-03-07T01:24:56Z
Repository: ConsultingMD/metropolis
PR #848: [# 164450956] refactor load_provider_location_networks

Description:
refactor load_provider_location_networks

[Tracker #164450956](https://www.pivotaltracker.com/story/show/164450956)


=====================================================
Timestamp:  2019-03-07T00:08:23Z
Repository: ConsultingMD/metropolis
PR #847: [# 164450196] As canonical, so we dont include stuff we dont use anymore, **remove aetna from the canonical generation**

Description:
As canonical, so we dont include stuff we dont use anymore, **remove aetna from the canonical generation**

[Tracker #164450196](https://www.pivotaltracker.com/story/show/164450196)

@nfoen @richardstanley @rakadutta-gr 


=====================================================
Timestamp:  2019-03-06T23:12:07Z
Repository: ConsultingMD/cross-check
PR #40: [# 164449929] update tp_insurance_plans table definition

Description:
update tp_insurance_plans table definition

[Tracker #164449929](https://www.pivotaltracker.com/story/show/164449929)


@nfoen @rakadutta-gr @richardstanley 


=====================================================
Timestamp:  2019-03-05T21:32:24Z
Repository: ConsultingMD/stone
PR #746: [# 164414467] As Anna, I should be able to find an Eligible::Person by pid

Description:
As Anna, I should be able to find an Eligible::Person by pid

[Tracker #164414467](https://www.pivotaltracker.com/story/show/164414467)
@coleleahy @AndrewRayCode 


=====================================================
Timestamp:  2019-03-05T00:44:12Z
Repository: ConsultingMD/metropolis
PR #843: [# 164262351] As Airflow, so that floyd has the most up to date versions of insurance_plans and provider_networks, **create a dag that will replace these tables with a more recent version thats in s3**

Description:
As Airflow, so that floyd has the most up to date versions of insurance_plans and provider_networks, **create a dag that will replace these tables with a more recent version thats in s3**

[Tracker #164262351](https://www.pivotaltracker.com/story/show/164262351)

@nfoen @rakadutta-gr @richardstanley 



=====================================================
Timestamp:  2023-03-04T00:09:00Z
Repository: ConsultingMD/stone
PR #1453: Revert "[DP-1891] Accept tokens from both IH and LGRH auth0 tenants."

Description:
Reverts ConsultingMD/stone#1452

https://ih-epdd.slack.com/archives/C0422ULPJEA/p1677888284416899?thread_ts=1677872428.666849&cid=C0422ULPJEA

https://includedhealth.atlassian.net/browse/INC-310

This change seemed to have broken stone, it was returning empty coverage to jarvis. Reverting until we properly fix.


=====================================================
Timestamp:  2023-03-03T21:07:28Z
Repository: ConsultingMD/potluck
PR #11339: [CDS-7072] update data_factory.exporter.export_coverage_raw_field_red trigger moder to ALL_CHANGE to avoid race condition in uat

Description:

[CDS-7072](https://includedhealth.atlassian.net/browse/CDS-7072)

[CDS-7072]: https://includedhealth.atlassian.net/browse/CDS-7072?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-03-01T19:23:27Z
Repository: ConsultingMD/potluck
PR #11271: [CDS-5817] [UEP onboarding] 90 Degree Benefits

Description:
https://includedhealth.atlassian.net/browse/CDS-5817


=====================================================
Timestamp:  2023-02-24T19:41:35Z
Repository: ConsultingMD/tp
PR #1824: Set insecure-external-code-execution: allow to allow dependabot to update gems

Description:
Needed in order for dependabot to submit fixes
eg: https://github.com/ConsultingMD/tp/security/dependabot/52
<img width="962" alt="image" src="https://user-images.githubusercontent.com/1312796/221276452-910df931-b4dc-4fc8-8af2-ec1607e30fab.png">



=====================================================
Timestamp:  2023-02-24T18:45:56Z
Repository: ConsultingMD/bobs
PR #4665: [CDS-6990] Update FHIR-upstream memory grafana threshold to 85% 

Description:
Update fhir-upstream *Average Memory Utilization* threshold from 80% to 85% 

[CDS-6990](https://includedhealth.atlassian.net/browse/CDS-6990)

[CDS-6990]: https://includedhealth.atlassian.net/browse/CDS-6990?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-02-14T17:45:00Z
Repository: ConsultingMD/tp
PR #1819: [CDS-6858] Update TP escalation policy to be Data Services instead of Richard Garcia 24/7

Description:
Nav will be taking ownership of TP. Until that happens Data Services still owns it so we should be routing any alerts to our on-call. This service is fairly quiet and I dont expect to increase on-call load.

[CDS-6858](https://includedhealth.atlassian.net/browse/CDS-6858)

[CDS-6858]: https://includedhealth.atlassian.net/browse/CDS-6858?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-02-08T23:15:53Z
Repository: ConsultingMD/support-tools
PR #18: update support tool to include patient resource when fetching patient coverage bundle

Description:
https://includedhealth.atlassian.net/browse/CDS-6665

![image](https://user-images.githubusercontent.com/1312796/217673218-c3b16f53-1e71-4984-817f-8d17defeea5d.png)



=====================================================
Timestamp:  2023-01-27T23:20:50Z
Repository: ConsultingMD/potluck
PR #10697: [CDS-6617] [uep] when calculating the deltas, filter for only the company group ids identified in the candidate projection 

Description:
Do that instead of retrieving all the CE records by the company id.

!image-20230127-184229.png|width=399,height=468!

[https://docs.google.com/presentation/d/1ExcILoMqR3zhMsoSqYQ5qkldKXUSuZGY_znBIpjBQLs/edit#slide=id.g1fdc2ae4819_0_15|https://docs.google.com/presentation/d/1ExcILoMqR3zhMsoSqYQ5qkldKXUSuZGY_znBIpjBQLs/edit#slide=id.g1fdc2ae4819_0_15|smart-link] 

[CDS-6617](https://includedhealth.atlassian.net/browse/CDS-6617)

[CDS-6617]: https://includedhealth.atlassian.net/browse/CDS-6617?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-01-26T22:18:21Z
Repository: ConsultingMD/bobs
PR #4648: [CDS-6596] Migrate kafka topic terraform into the new tng infra environment

Description:
While the base kafkatools server was migrated over to the tng infra platform, the topic terraform was left out.  Migrate the topic terraform into the services tng infra config.

This _should_ just require including the {{topics.tf}} into the tng managed infra AND likely importing the existing topics into the services tng-managed tf workspace through a process like:

[https://github.com/ConsultingMD/bobs/blob/13b51f55fb3f396c094757e2453d036eb08a0a19/common/kafka/kafkatools_server/README.md#how-to-import-an-existing-topic-into-this-service--terraform-workspace|https://github.com/ConsultingMD/bobs/blob/13b51f55fb3f396c094757e2453d036eb08a0a19/common/kafka/kafkatools_server/README.md#how-to-import-an-existing-topic-into-this-service--terraform-workspace]

[CDS-6596](https://includedhealth.atlassian.net/browse/CDS-6596)

[CDS-6596]: https://includedhealth.atlassian.net/browse/CDS-6596?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-01-26T21:09:13Z
Repository: ConsultingMD/potluck
PR #10668: [CDS-6603] update uep tasks to not trigger downstream if the task failed

Description:

[CDS-6603](https://includedhealth.atlassian.net/browse/CDS-6603)

[CDS-6603]: https://includedhealth.atlassian.net/browse/CDS-6603?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-01-26T19:32:09Z
Repository: ConsultingMD/potluck
PR #10659: [CDS-6526] [uep onboarding] Update mappings for Avergent

Description:
[CDS-6526](https://includedhealth.atlassian.net/browse/CDS-6526)

[CDS-6526]: https://includedhealth.atlassian.net/browse/CDS-6526?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-01-23T22:21:09Z
Repository: ConsultingMD/bobs
PR #4645: [CDS-6532] healthcloud-server is failing OpsLevel check "Basic README"

Description:
The check Basic README is not currently passing for the healthcloud-server service in OpsLevel. [View the Maturity Report for this Service|https://app.opslevel.com/services/healthcloud-server/maturity-report]

Result message: None of these repo files README.md, README.rst not found.


==== BEGIN OPSLEVEL DATA ====
bc6ffa769ea6-opslevel-issue
==== END ====

[CDS-6532](https://includedhealth.atlassian.net/browse/CDS-6532)

This should be updated later.

[CDS-6532]: https://includedhealth.atlassian.net/browse/CDS-6532?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-01-23T21:44:08Z
Repository: ConsultingMD/bobs
PR #4644: [CDS-6527] fhir-server is failing OpsLevel check "Basic README"

Description:
The check Basic README is not currently passing for the fhir-server service in OpsLevel. [View the Maturity Report for this Service|https://app.opslevel.com/services/fhir-server/maturity-report]

Result message: None of these repo files README.md, README.rst not found.


==== BEGIN OPSLEVEL DATA ====
758f7eebe327-opslevel-issue
==== END ====

[CDS-6527](https://includedhealth.atlassian.net/browse/CDS-6527)

This should be updated later.

[CDS-6527]: https://includedhealth.atlassian.net/browse/CDS-6527?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-01-23T21:14:53Z
Repository: ConsultingMD/potluck
PR #10580: [CDS-6526] [uep onboarding] Avergent config

Description:
Schema ticket for Avergents eligibility file updates made for 2023.

# *Launch date* - 4/1/2022
*Avergent Jira page*: [https://grandrounds.atlassian.net/browse/CI-3920|https://grandrounds.atlassian.net/browse/CI-3920|smart-link] 
*File spec linked (if non-standard)*: Standard GRH spec
*Production file name*: GrandRounds_Avergent_eligibility_20230119.txt.gpg
*Production file upload date*: 1/19/2023
# *Schema specifics*:
## *Unique (Verification) Fields*: SSN (9)
##*Policy Holder key*: Subscriber SSN
## *Payer and any Payer Mappings*:
### Field 23: Insurance Carrier - *Prairie* States (Prairie was previously misspelled in the older files, please validate)
Field 23: Insurance Carrier - Aither Health = Aither Health
## *Company Group reference field*: Field 23: Insurance Carrier and Field 33 (Medical Plan Codes)
##*SSN Required (yes/no)*: Yes
##*DOB Required (yes/no)*: Yes
## *Company Groups and Company Group Mappings*
##* [Avergent Prairie State Non-HSA Qualified|https://poc.doctorondemand.com/ccadmin/organizations/companygroup/1727]
##** Field 33: Prairie State non-HSA with VC and EMO
##* [Avergent Prairie State HSA Qualified|https://poc.doctorondemand.com/ccadmin/organizations/companygroup/1728/]
##** Field 33: Prairie State HSA with VC and EMO
##* [Avergent Aither HSA Qualified|https://poc.doctorondemand.com/ccadmin/organizations/companygroup/1725/]
##** Field 33: Aither HSA with VC and EMO
##* [Avergent Aither Non-HSA Qualified|https://poc.doctorondemand.com/ccadmin/organizations/companygroup/1726]
##** Field 33: Aither non-HSA with VC and EMO
##* Field 33: EMO Only
##** These members do not have covered UC/BH services and should be treated as Direct to Consumer
# *Date Format used in field values*: YYYYMMDD

[CDS-6526](https://includedhealth.atlassian.net/browse/CDS-6526)

[CDS-6526]: https://includedhealth.atlassian.net/browse/CDS-6526?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-01-23T19:40:40Z
Repository: ConsultingMD/bobs
PR #4643: [CDS-6405] TNG managed infra campaign: entityresolution-server diffs sync

Description:
We are running the [TNG managed infra campaign |https://app.opslevel.com/campaigns/323]This is the ticket for your service entityresolution-server. Please finish the campaign by 02/15/2023. If you feel this service should be excluded from this campaign. Please talk with [~accountid:61acf02c657a0500702b28e7] or [~accountid:5b47ab1cb84bc45fea95f8a0] 

[CDS-6405](https://includedhealth.atlassian.net/browse/CDS-6405)

Current diff was yielding:
<img width="1035" alt="image" src="https://user-images.githubusercontent.com/1312796/214133794-a759a3f5-9721-4e7e-a038-78191ab84e4f.png">
Seems like we missed to add these (already set) configs to the tf code.

[CDS-6405]: https://includedhealth.atlassian.net/browse/CDS-6405?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-01-20T22:20:11Z
Repository: ConsultingMD/bobs
PR #4642: [CDS-6406] TNG managed infra campaign: fhir-server

Description:
We are running the [TNG managed infra campaign |https://app.opslevel.com/campaigns/323]This is the ticket for your service fhir-server. Please finish the campaign by 02/15/2023. If you feel this service should be excluded from this campaign. Please talk with [~accountid:61acf02c657a0500702b28e7] or [~accountid:5b47ab1cb84bc45fea95f8a0] 

[CDS-6406](https://includedhealth.atlassian.net/browse/CDS-6406)

 [AT](https://ci.us-east-1.uat.grnds.com/#/namespaces/deploy/pipelineruns/fhir-server-infra-d923d15f?pipelineTask=legacy-infra-0&step=legacy-infra-0):
```
(base)   bobs git:(story/CDS-6406/tng-managed-campaign-fhir-server) tng deploy infra fhir-server da62adbda75fe513c1a4b574a4e9d630bdb9d82f

Now deploying fhir-server version da62adbda75fe513c1a4b574a4e9d630bdb9d82f...
Gate evaluation indicates you will not be able to deploy this version to production.
For more information see: https://includedhealth.atlassian.net/wiki/spaces/PE/pages/3030908930

Infrastructure plan started!
ID: fhir-server-infra-d923d15f

To see logs:
tng deploy logs -f fhir-server-infra-d923d15f
To see deployment status:
tng deploy status fhir-server-infra-d923d15f
Dashboard: https://ci.us-east-1.uat.grnds.com/#/namespaces/deploy/pipelineruns/fhir-server-infra-d923d15f
```

[CDS-6406]: https://includedhealth.atlassian.net/browse/CDS-6406?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-01-20T22:02:32Z
Repository: ConsultingMD/dod-datashare
PR #567: create infrastructure.yaml for dod-datashare

Description:
https://includedhealth.atlassian.net/browse/{ticket}

{REQUIRED: Enter a description of the changes made in the PR.
Be sure include guidance to reviewers if necessary.
Describe any associated risk as applicable.}

Pilots use checklists to save planes from fiery crashes.  Use this checklist to save your code from a fiery crash in production. If something doesn't apply, please check it anyway to indicate to a reviewer that you considered it.

* [ ] Did you write tests?
* [ ] Is there appropriate documentation (i.e. good docstrings and/or content in `docs/`)?
* [ ] Did you review the [migration checklist](https://doctorondemand.atlassian.net/wiki/spaces/ENG/pages/492929326/Migration+PR+Approval+Checklist) if the code includes a migration? Did you apply the `Migration` label to this PR?
* [ ] If this is a high risk PR, is the Jira issue marked with the High risk flag?
* [ ] Is the code safe to [deploy](https://docs.dod.rocks/guides/feature-flags-guide.html#why-feature-flags) to production *without* immediate verification? Is the code feature flagged or added to an existing feature flag? Did you add the `feature_flag` label to the associated Jira issue? Did you create the follow on issue to clean up the flag later?

Reviewers can use the [Backend Code Review Guidelines](https://doctorondemand.atlassian.net/wiki/spaces/ENG/pages/85365403/Backend+Code+Review+Guidelines) to aid the review.


=====================================================
Timestamp:  2023-01-20T21:51:03Z
Repository: ConsultingMD/bobs
PR #4641: [CDS-6410] TNG managed infra campaign: kafkatools-server

Description:
We are running the [TNG managed infra campaign |https://app.opslevel.com/campaigns/323]This is the ticket for your service kafkatools-server. Please finish the campaign by 02/15/2023. If you feel this service should be excluded from this campaign. Please talk with [~accountid:61acf02c657a0500702b28e7] or [~accountid:5b47ab1cb84bc45fea95f8a0] 

[CDS-6410](https://includedhealth.atlassian.net/browse/CDS-6410)

[CDS-6410]: https://includedhealth.atlassian.net/browse/CDS-6410?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-01-20T21:29:32Z
Repository: ConsultingMD/financial-account
PR #24: create infrastructure.yaml for financialaccount-serve-v2r

Description:
https://includedhealth.atlassian.net/browse/CDS-6408
 [AT](https://ci.us-east-1.uat.grnds.com/#/namespaces/deploy/pipelineruns/financialaccount-server-v2-infra-642b1994?pipelineTask=legacy-infra-0&step=legacy-infra-0):
```
(base)   financial-account git:(story/CDS-6408/tng-managed-campaign-server-v2) tng deploy infra financialaccount-server-v2 fe1f4c85f9b498e76193098e9aed73a339ed4156

Now deploying financialaccount-server-v2 version fe1f4c85f9b498e76193098e9aed73a339ed4156...
Gate evaluation indicates you will not be able to deploy this version to production.
For more information see: https://includedhealth.atlassian.net/wiki/spaces/PE/pages/3030908930

Infrastructure plan started!
ID: financialaccount-server-v2-infra-642b1994

To see logs:
tng deploy logs -f financialaccount-server-v2-infra-642b1994
To see deployment status:
tng deploy status financialaccount-server-v2-infra-642b1994
Dashboard: https://ci.us-east-1.uat.grnds.com/#/namespaces/deploy/pipelineruns/financialaccount-server-v2-infra-642b1994
```


=====================================================
Timestamp:  2023-01-20T21:04:56Z
Repository: ConsultingMD/bobs
PR #4640: [CDS-6488] TNG managed infra campaign: financialaccount-server-v1

Description:
We are running the [TNG managed infra campaign |https://app.opslevel.com/campaigns/323]This is the ticket for your service financialaccount-server-v1. Please finish the campaign by 02/15/2023. If you feel this service should be excluded from this campaign. Please talk with [~accountid:61acf02c657a0500702b28e7] or [~accountid:5b47ab1cb84bc45fea95f8a0] 

[CDS-6488](https://includedhealth.atlassian.net/browse/CDS-6488)

 [AT](https://ci.us-east-1.uat.grnds.com/#/namespaces/deploy/pipelineruns/financialaccount-server-infra-f0f9f530?pipelineTask=legacy-infra-0&step=legacy-infra-0):
```
(base)   bobs git:(story/CDS-6488/tng-managed-campaign-server-v1)  tng deploy infra financialaccount-server e75def2f0d72decc67cc4a116fbbf08a1b2a30bd

Now deploying financialaccount-server version e75def2f0d72decc67cc4a116fbbf08a1b2a30bd...
Gate evaluation indicates you will not be able to deploy this version to production.
For more information see: https://includedhealth.atlassian.net/wiki/spaces/PE/pages/3030908930

Infrastructure plan started!
ID: financialaccount-server-infra-f0f9f530

To see logs:
tng deploy logs -f financialaccount-server-infra-f0f9f530
To see deployment status:
tng deploy status financialaccount-server-infra-f0f9f530
Dashboard: https://ci.us-east-1.uat.grnds.com/#/namespaces/deploy/pipelineruns/financialaccount-server-infra-f0f9f530
```

[CDS-6488]: https://includedhealth.atlassian.net/browse/CDS-6488?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-01-20T20:31:47Z
Repository: ConsultingMD/recommendation
PR #15: Story/cds 6411/tng managed campaign recommendation server

Description:
 [AT](https://ci.us-east-1.uat.grnds.com/#/namespaces/deploy/pipelineruns/recommendation-server-infra-b809c3ff?pipelineTask=legacy-infra-0&step=legacy-infra-0):
```
(base)   recommendation git:(story/CDS-6411/tng-managed-campaign-recommendation-server) tng deploy infra recommendation-server 826a559724b6801ffb78eb4c61bbc7ac1468d4ef
Downloading cli client from https://platform-api.uat.grnds.com/cli/tngctl.darwin

Now deploying recommendation-server version 826a559724b6801ffb78eb4c61bbc7ac1468d4ef...
Gate evaluation indicates you will not be able to deploy this version to production.
For more information see: https://includedhealth.atlassian.net/wiki/spaces/PE/pages/3030908930

Infrastructure plan started!
ID: recommendation-server-infra-b809c3ff

To see logs:
tng deploy logs -f recommendation-server-infra-b809c3ff
To see deployment status:
tng deploy status recommendation-server-infra-b809c3ff
Dashboard: https://ci.us-east-1.uat.grnds.com/#/namespaces/deploy/pipelineruns/recommendation-server-infra-b809c3ff
```


=====================================================
Timestamp:  2023-01-19T23:03:52Z
Repository: ConsultingMD/bobs
PR #4638: [CDS-6409] TNG managed infra campaign: healthcloud-server

Description:
We are running the [TNG managed infra campaign |https://app.opslevel.com/campaigns/323]This is the ticket for your service healthcloud-server. Please finish the campaign by 02/15/2023. If you feel this service should be excluded from this campaign. Please talk with [~accountid:61acf02c657a0500702b28e7] or [~accountid:5b47ab1cb84bc45fea95f8a0] 

[CDS-6409](https://includedhealth.atlassian.net/browse/CDS-6409)

[CDS-6409]: https://includedhealth.atlassian.net/browse/CDS-6409?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-01-19T22:44:20Z
Repository: ConsultingMD/bobs
PR #4637: [CDS-6405] TNG managed infra campaign: entityresolution-server

Description:
We are running the [TNG managed infra campaign |https://app.opslevel.com/campaigns/323]This is the ticket for your service entityresolution-server. Please finish the campaign by 02/15/2023. If you feel this service should be excluded from this campaign. Please talk with [~accountid:61acf02c657a0500702b28e7] or [~accountid:5b47ab1cb84bc45fea95f8a0] 

[CDS-6405](https://includedhealth.atlassian.net/browse/CDS-6405)

[CDS-6405]: https://includedhealth.atlassian.net/browse/CDS-6405?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-01-19T22:10:43Z
Repository: ConsultingMD/bobs
PR #4636: [CDS-6403] TNG managed infra campaign: bundle-server

Description:
We are running the [TNG managed infra campaign |https://app.opslevel.com/campaigns/323]This is the ticket for your service bundle-server. Please finish the campaign by 02/15/2023. If you feel this service should be excluded from this campaign. Please talk with [~accountid:61acf02c657a0500702b28e7] or [~accountid:5b47ab1cb84bc45fea95f8a0] 

[CDS-6403](https://includedhealth.atlassian.net/browse/CDS-6403)

[CDS-6403]: https://includedhealth.atlassian.net/browse/CDS-6403?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-01-19T21:55:33Z
Repository: ConsultingMD/stone
PR #1446: [CDS-6412] TNG managed infra campaign: stone

Description:
We are running the [TNG managed infra campaign |https://app.opslevel.com/campaigns/323]This is the ticket for your service stone. Please finish the campaign by 02/15/2023. If you feel this service should be excluded from this campaign. Please talk with [~accountid:61acf02c657a0500702b28e7] or [~accountid:5b47ab1cb84bc45fea95f8a0] 

[CDS-6412](https://includedhealth.atlassian.net/browse/CDS-6412)

[CDS-6412]: https://includedhealth.atlassian.net/browse/CDS-6412?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-01-18T23:53:42Z
Repository: ConsultingMD/tp
PR #1811: [CDS-6467] get tp to pass tf opslevel campaign

Description:

[CDS-6467](https://includedhealth.atlassian.net/browse/CDS-6467)

[CDS-6467]: https://includedhealth.atlassian.net/browse/CDS-6467?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-01-17T22:46:42Z
Repository: ConsultingMD/stone
PR #1445: [CDS-6375] Discrepancy between Coverage Server Projection Logic and Data Factory Logic Leads to Loss of Coverage

Description:
There appears to be a discrepancy in some coverage cases between how data factory creates fhir bundles and how coverage server expects the bundles to appear. For example, for ID {{0014w000039733tAAA}}, the FHIR bundle returns 

```
 "resourceType" : "Coverage",
            "subscriber" : {
               "reference" : "Patient/PDID:PatientDescription-9fe2dc7601d316152c92e8f73ad4dc3b3b724ff6cfe1106210863563a8bb9110a46919201dbdcef0c4442ebef492f28d20806dee104f03af1d79eea21d0471f3"
            },
            "grouping" : {
               "group" : "3342073",
               "class" : "PPO",
               "planDisplay" : "HDFC",
               "plan" : "HDFC"
            },
            "id" : "CarrierCoverageId-XXXX,
            "period" : {
               "start" : "2022-01-01",
               "end" : "2041-03-31"
            },
```

Note the end date is 2041-03-31. Stone expects 9999-12-31 as a future active end date, so this may be causing this members coverage to not go through coverage server. 

Collaboration between data tools and data services is required to reach resolution. 

[CDS-6375](https://includedhealth.atlassian.net/browse/CDS-6375)

[CDS-6375]: https://includedhealth.atlassian.net/browse/CDS-6375?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-01-12T21:55:54Z
Repository: ConsultingMD/support-tools
PR #8: add pyspark to requirements

Description:
```
(env) (base)   support-tools git:(main) ./main.py                                                                                                                                                                                                                                                                                                              <aws:sts>
WARNING:root:pyspark is not installed, cannot use the spark engine
Usage: main.py [OPTIONS] COMMAND [ARGS]...

Options:
  --debug / --no-debug
  --info / --no-info
  --environment TEXT
  --jira TEXT
  --red BOOLEAN
  --help                Show this message and exit.

Commands:
  coverage
  service
```


=====================================================
Timestamp:  2023-01-12T19:53:12Z
Repository: ConsultingMD/stone
PR #1442: [CDS-6391] Stone:  SignalException: SIGQUIT

Description:
View details in Rollbar: https://rollbar.com/GrandRounds/stone/items/689/


```


SignalException: SIGQUIT
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/delayed_job-4.1.9/lib/delayed/worker.rb", line 186, in sleep
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/delayed_job-4.1.9/lib/delayed/worker.rb", line 186, in block (2 levels) in start
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/delayed_job-4.1.9/lib/delayed/worker.rb", line 172, in loop
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/delayed_job-4.1.9/lib/delayed/worker.rb", line 172, in block in start
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/delayed_job-4.1.9/lib/delayed/plugins/clear_locks.rb", line 7, in block (2 levels) in <class:ClearLocks>
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/delayed_job-4.1.9/lib/delayed/lifecycle.rb", line 79, in block (2 levels) in add
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/delayed_job-4.1.9/lib/delayed/lifecycle.rb", line 61, in block in initialize
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/delayed_job-4.1.9/lib/delayed/lifecycle.rb", line 79, in block in add
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/delayed_job-4.1.9/lib/delayed/lifecycle.rb", line 66, in execute
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/delayed_job-4.1.9/lib/delayed/lifecycle.rb", line 40, in run_callbacks
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/delayed_job-4.1.9/lib/delayed/worker.rb", line 171, in start
  File "/data/app/lib/tasks/delayed_job.rake", line 6, in block (3 levels) in <top (required)>
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/rake-13.0.1/lib/rake/task.rb", line 281, in block in execute
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/rake-13.0.1/lib/rake/task.rb", line 281, in each
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/rake-13.0.1/lib/rake/task.rb", line 281, in execute
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/opentelemetry-instrumentation-rake-0.1.0/lib/opentelemetry/instrumentation/rake/patches/task.rb", line 19, in block in execute
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/opentelemetry-api-1.1.0/lib/opentelemetry/trace.rb", line 72, in block in with_span
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/opentelemetry-api-1.1.0/lib/opentelemetry/context.rb", line 87, in with_value
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/opentelemetry-api-1.1.0/lib/opentelemetry/trace.rb", line 72, in with_span
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/opentelemetry-api-1.1.0/lib/opentelemetry/trace/tracer.rb", line 29, in in_span
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/opentelemetry-instrumentation-rake-0.1.0/lib/opentelemetry/instrumentation/rake/patches/task.rb", line 18, in execute
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/rake-13.0.1/lib/rake/task.rb", line 219, in block in invoke_with_call_chain
  File "/usr/local/lib/ruby/2.6.0/monitor.rb", line 235, in mon_synchronize
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/rake-13.0.1/lib/rake/task.rb", line 199, in invoke_with_call_chain
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/rake-13.0.1/lib/rake/task.rb", line 188, in invoke
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/rake-13.0.1/lib/rake/application.rb", line 160, in invoke_task
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/rake-13.0.1/lib/rake/application.rb", line 116, in block (2 levels) in top_level
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/rake-13.0.1/lib/rake/application.rb", line 116, in each
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/rake-13.0.1/lib/rake/application.rb", line 116, in block in top_level
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/rake-13.0.1/lib/rake/application.rb", line 125, in run_with_threads
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/rake-13.0.1/lib/rake/application.rb", line 110, in top_level
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/rake-13.0.1/lib/rake/application.rb", line 83, in block in run
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/rake-13.0.1/lib/rake/application.rb", line 186, in standard_exception_handling
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/rake-13.0.1/lib/rake/application.rb", line 80, in run
  File "/data/app/vendor/bundle/ruby/2.6.0/gems/rake-13.0.1/exe/rake", line 27, in <top (required)>
  File "/data/app/vendor/bundle/ruby/2.6.0/bin/rake", line 23, in load
  File "/data/app/vendor/bundle/ruby/2.6.0/bin/rake", line 23, in <top (required)>
  File "/usr/local/lib/ruby/2.6.0/bundler/cli/exec.rb", line 74, in load
  File "/usr/local/lib/ruby/2.6.0/bundler/cli/exec.rb", line 74, in kernel_load
  File "/usr/local/lib/ruby/2.6.0/bundler/cli/exec.rb", line 28, in run
  File "/usr/local/lib/ruby/2.6.0/bundler/cli.rb", line 463, in exec
  File "/usr/local/lib/ruby/2.6.0/bundler/vendor/thor/lib/thor/command.rb", line 27, in run
  File "/usr/local/lib/ruby/2.6.0/bundler/vendor/thor/lib/thor/invocation.rb", line 126, in invoke_command
  File "/usr/local/lib/ruby/2.6.0/bundler/vendor/thor/lib/thor.rb", line 387, in dispatch
  File "/usr/local/lib/ruby/2.6.0/bundler/cli.rb", line 27, in dispatch
  File "/usr/local/lib/ruby/2.6.0/bundler/vendor/thor/lib/thor/base.rb", line 466, in start
  File "/usr/local/lib/ruby/2.6.0/bundler/cli.rb", line 18, in start
  File "/usr/local/lib/ruby/gems/2.6.0/gems/bundler-1.17.2/exe/bundle", line 30, in block in <top (required)>
  File "/usr/local/lib/ruby/2.6.0/bundler/friendly_errors.rb", line 124, in with_friendly_errors
  File "/usr/local/lib/ruby/gems/2.6.0/gems/bundler-1.17.2/exe/bundle", line 22, in <top (required)>
  File "/usr/local/bin/bundle", line 23, in load
  File "/usr/local/bin/bundle", line 23, in <main>

```


[CDS-6391](https://includedhealth.atlassian.net/browse/CDS-6391)

[CDS-6391]: https://includedhealth.atlassian.net/browse/CDS-6391?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-01-12T18:17:19Z
Repository: ConsultingMD/potluck
PR #10431: [CDS-6416] Update UEP Logic for McDonalds Corporate Owned Restaurants (McOpCo)

Description:
* Previously the population available for DOD UC/BH services were the items in red.  Now we need to add Job Class Code 06
** Old Population: 
*** {color:#ff5630}*_Division Field (aka Job Class Code) is in the list (01, 02, 03, 04, 05, 07, 08, 09, 16)_*{color}
** NEW Population: 
*** *_Division Field (aka Job Class Code) is in the list (01, 02, 03, 04, 05,_* {color:#006644}*_06_*{color}*_, 07, 08, 09, 16)_*
* Additional background info:
** Company Groups and Company Group Mappings: 
*** Company - [McDonalds Corporate Owned (McOpCo)|https://poc.doctorondemand.com/ccadmin/organizations/company/1444/change/]
*** Company Group - [McDonalds Corporate Owned (McOpCo)|https://poc.doctorondemand.com/ccadmin/organizations/companygroup/1770/change/]

[CDS-6416](https://includedhealth.atlassian.net/browse/CDS-6416)

[CDS-6416]: https://includedhealth.atlassian.net/browse/CDS-6416?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-01-12T18:14:14Z
Repository: ConsultingMD/potluck
PR #10430: Revert "[CDS-6365] update retention policy for key uep tables while root causing inc-290"

Description:
Reverts ConsultingMD/potluck#10364

root cause was identified so we can revert this PR.


=====================================================
Timestamp:  2023-01-10T02:11:40Z
Repository: ConsultingMD/potluck
PR #10364: [CDS-6365] update retention policy for key uep tables while root causing inc-290

Description:

[CDS-6365](https://includedhealth.atlassian.net/browse/CDS-6365)

[CDS-6365]: https://includedhealth.atlassian.net/browse/CDS-6365?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-01-06T23:04:32Z
Repository: ConsultingMD/engineering
PR #25: QOL improvement: augment ih-make-branch to support passing in a jira ticket url

Description:
Before:
```
ih-name-branch https://includedhealth.atlassian.net/browse/CDS-6292
``` 
would fail because it expects to only receive the jira issue id. This results in one always having to manually get this jira link when calling this function. This makes it so you don't have to manually update the jira link you get from the jira UI (which is the url and not the issue id).


=====================================================
Timestamp:  2023-01-06T22:39:16Z
Repository: ConsultingMD/support-tools
PR #4: add tabulate to requirements.txt

Description:



=====================================================
Timestamp:  2023-01-03T18:34:27Z
Repository: ConsultingMD/potluck
PR #10286: [uep] make carrier_coverage filter logic configurable by customer

Description:
https://includedhealth.atlassian.net/browse/CDS-6305?
- add is_med filter for carrier coverage + update specs
- add filter_coverage_term_date_null_in_carrier_coverage config + update carrier_coverage logic to leverage it + set setting for Google config


=====================================================
Timestamp:  2023-01-03T01:55:57Z
Repository: ConsultingMD/potluck
PR #10276: [uep] do a coalesce when setting the policy_holder_uuid to account for at&t orphaned dependents

Description:
https://includedhealth.atlassian.net/browse/CDS-6311


=====================================================
Timestamp:  2023-01-03T01:18:38Z
Repository: ConsultingMD/potluck
PR #10275: add is_rx/is_med flags to carrier_coverage_with_entity_ids

Description:
https://includedhealth.atlassian.net/browse/DDISCO-698


=====================================================
Timestamp:  2023-01-01T23:24:29Z
Repository: ConsultingMD/potluck
PR #10273: [uep] encapsulate division/ft_medical_option_id_current_plan_year in quotes + perf improvements

Description:
https://includedhealth.atlassian.net/browse/CDS-6300

Confirmed this fixes the issue that we saw for McDonalds Corporate. The leading zeros in the mcd division field (use for the mapping) was causing the filter to not work.

Confirmed via local test that this works:
before:
```
CompanyEligibilityCandidateProjectionTask$: **** RG TESTING ***: McCoPo baseCount: 62642, basePostCompanyGroupMappingsCount: 0, companyEligibilityCandidateDsCount: 0
```
after:
```
**** RG TESTING ***: McCoPo baseCount: 62642, basePostCompanyGroupMappingsCount: 48865, companyEligibilityCandidateDsCount: 48865
```


=====================================================
Timestamp:  2023-01-01T00:00:08Z
Repository: ConsultingMD/potluck
PR #10272: [uep] only export rows that have a policy_holder_uuid set

Description:
https://includedhealth.atlassian.net/browse/CDS-6299

See ticket description for context.


=====================================================
Timestamp:  2022-12-30T19:01:25Z
Repository: ConsultingMD/dod-backend
PR #10640: Daimler ldod schema update: mapping should be on the insurance_plan again

Description:
https://includedhealth.atlassian.net/browse/{ticket}

{REQUIRED: Enter a description of the changes made in the PR.
Be sure include guidance to reviewers if necessary.
Describe any associated risk as applicable.}

---

Reminder: Merged code will be deployed to production today.

Use this checklist to ensure your code is safe to deploy to production:

* [ ] Are changes feature flagged?
* [ ] Do the changes have thorough unit tests?

Some other things to consider:

* Appropriate documentation (i.e. good docstrings and/or content in `docs/`).
* If your code involves a database migration, please review the [migration checklist](https://grandrounds.atlassian.net/wiki/spaces/ENG/pages/3329482880/Migration+PR+Approval+Checklist).

Reviewers can use the [Backend Code Review Guidelines](https://grandrounds.atlassian.net/wiki/spaces/ENG/pages/3329479464/Backend+Code+Review+Guidelines) to aid the review.



=====================================================
Timestamp:  2022-12-27T18:19:01Z
Repository: ConsultingMD/potluck
PR #10222: [uep] update production company_id for Comcast & HP Inc. and Crown Castle to be the correct one

Description:
https://includedhealth.atlassian.net/browse/CDS-6275
https://includedhealth.atlassian.net/browse/CDS-6276


=====================================================
Timestamp:  2022-12-22T23:12:31Z
Repository: ConsultingMD/potluck
PR #10209: [uep 1/1] update candidate logic to include future loaded files from tomorrow to allow us to load process the 1/1 files on 12/31

Description:
https://includedhealth.atlassian.net/browse/CDS-6259


=====================================================
Timestamp:  2022-12-22T17:11:27Z
Repository: ConsultingMD/potluck
PR #10195: [uep onboarding] McDonalds Corporate Config

Description:
https://includedhealth.atlassian.net/browse/CDS-5282


=====================================================
Timestamp:  2022-12-21T23:00:32Z
Repository: ConsultingMD/potluck
PR #10173: [uep testing] update comcast prod id to map to Demo Premium Company id to do early testing

Description:



=====================================================
Timestamp:  2022-12-21T22:56:25Z
Repository: ConsultingMD/potluck
PR #10172: [uep testing] update comcast prod id to map to Demo Premium Company id to do early testing

Description:



=====================================================
Timestamp:  2022-12-21T21:28:26Z
Repository: ConsultingMD/potluck
PR #10162: [uep perf] bump driver_mem_mb on the delta projection

Description:
https://includedhealth.atlassian.net/browse/CDS-6247


=====================================================
Timestamp:  2022-12-20T21:28:40Z
Repository: ConsultingMD/potluck
PR #10132: [uep onboarding] update comcast/hp prod company_id to map to current placeholder company to unblock prod testing

Description:
This allows us to early load the dod ce objects for the members of these customers.


=====================================================
Timestamp:  2022-12-20T02:29:00Z
Repository: ConsultingMD/potluck
PR #10117: [uep onboarding] OneOncology

Description:
https://includedhealth.atlassian.net/browse/CDS-6217

Context: https://github.com/ConsultingMD/potluck/pull/9691#discussion_r1047825408


=====================================================
Timestamp:  2022-12-19T21:47:53Z
Repository: ConsultingMD/potluck
PR #10108: [uep perf] cache base in candidate projection, do an empty foreach instead of a count in delta exporter

Description:
https://includedhealth.atlassian.net/browse/CDS-6213


=====================================================
Timestamp:  2022-12-16T22:23:41Z
Repository: ConsultingMD/potluck
PR #10086: [uep] should be GrNextFilenameDate

Description:
https://includedhealth.atlassian.net/browse/CDS-6204


=====================================================
Timestamp:  2022-12-16T21:15:45Z
Repository: ConsultingMD/potluck
PR #10083: [uep onboarding] Amedisys / Amedisys Cobra configs

Description:
https://includedhealth.atlassian.net/browse/CDS-6059
https://includedhealth.atlassian.net/browse/CDS-6169

https://ih-epdd.slack.com/archives/C03G603TE4W/p1671225428877579

Context: https://github.com/ConsultingMD/potluck/pull/9691#discussion_r1047825408


=====================================================
Timestamp:  2022-12-16T04:59:14Z
Repository: ConsultingMD/potluck
PR #10074: [uep] use the max gr_next_filename_date to cover race condition

Description:
https://includedhealth.atlassian.net/browse/CDS-6204


=====================================================
Timestamp:  2022-12-15T20:47:40Z
Repository: ConsultingMD/potluck
PR #10057: bump timeout for candidate projection

Description:



=====================================================
Timestamp:  2022-12-15T18:40:23Z
Repository: ConsultingMD/potluck
PR #10046: [uep onboarding] HP Inc. config

Description:
https://includedhealth.atlassian.net/browse/CDS-5791

Context: https://github.com/ConsultingMD/potluck/pull/9691#discussion_r1047825408


=====================================================
Timestamp:  2022-12-14T18:14:22Z
Repository: ConsultingMD/loading-dock
PR #771: Update CODEOWNERS

Description:



=====================================================
Timestamp:  2022-12-14T02:17:36Z
Repository: ConsultingMD/potluck
PR #10000: [UEP] convert these to Option[T] to account edge case (as seen in UAT) where there aren't any active members yet

Description:
Seyfarth doesn't have any active members in the test file loaded in UAT. This edge is causing the task to [fail](https://catalog-airflow-webserver.uat.grnds.com/log?dag_id=dod.eligibility.project_company_eligibility_delta&task_id=project_foundation&execution_date=2022-12-14T01%3A34%3A31.750205%2B00%3A00) in UAT.


=====================================================
Timestamp:  2022-12-10T05:39:11Z
Repository: ConsultingMD/potluck
PR #9941: [uep] filter out rows with invalid entity_ids and future-dated files from raw coverage and carrier coverage

Description:
https://includedhealth.atlassian.net/browse/CDS-6141


=====================================================
Timestamp:  2022-12-09T01:07:20Z
Repository: ConsultingMD/potluck
PR #9901: [uep onboarding] removing insurance_carrier and medical_plan_code from the AT&T mapping

Description:
https://includedhealth.atlassian.net/browse/CDS-5103


=====================================================
Timestamp:  2022-12-08T07:39:30Z
Repository: ConsultingMD/potluck
PR #9855: [uep] multiple active company eligibility records for same person causing Issues with DOD Coverage

Description:
https://includedhealth.atlassian.net/browse/CDS-5944

This addresses the case we were seeing members with SSN's that changed any of their first/last/dob which resulted in uep generating a duplicate ce record for them. In the insert logic we needed to filter out members with SSN when processing the SSN-less join configuration.

Now we correctly generate an update row (and no insert row) when these subscribers change any of first/last/dob

After this change we may still generate a duplicate ce record for the following case:
- a subscriber/dependent changes their ssn (uncommon but still occurs) [affects every uep customer that's not Google]
- an ssn-less dependent changes either of first/last/dob (more common, usually for spouses due to marriage, or updating child names) [only affects Google since all other uep customers don't accept ssn-less dependents)

For both of those remaining cases the hypothesis is that the pipeline should generate a `deactivate` row on the next run of the pipeline (post new dod rds export). I think I've seen this happen already but not fully confident yet.

AT: I ran these changes against Production (snapshot: `lasik-task-1670482604`) and was able to verify that we no longer generate duplicate ce records when:
- a Google member with SSN previously populated changes their SSN and leaves first/last/dob the same.
- a Google member with SSN populated changes any of the following fields: first/last/dob

Existing tests should cover this.


=====================================================
Timestamp:  2022-12-07T22:48:37Z
Repository: ConsultingMD/potluck
PR #9846: [uep onboarding] AT&T config

Description:
https://includedhealth.atlassian.net/browse/CDS-5103


=====================================================
Timestamp:  2022-12-07T21:23:03Z
Repository: ConsultingMD/potluck
PR #9840: [uep] Crown Castle members with a gr_coverage_end_date of 2023-01-01 are being marked for deactivate in the delta projection

Description:
https://includedhealth.atlassian.net/browse/CDS-6102

NOTE: This was caught before these delta changes were exported to dod-be so none of these (331) members lost coverage.

This typically only happens for EOY eligibility files where a vendor will sometimes send both the last elig file of the year and the first one for 1/1. For the members that will lose coverage at the end of the year (or they dont show up in the 1/1 file) they have a gr_coverage_end_date different than 9999-12-31 (2023-01-01 for this crown castle example).

UEP treated `!= 9999-12-31` to determine inactive members and didn't make sure that that value is lower than Date.now (which is what this change does). 

AT: ran change locally against Production (task_snapshot = `lasik-task-1670438220`) and confirmed that with this change none of the Crown Castle members that have a valid_until in the delta projection of `2023-01-01` are marked for deactivate  

Production: (Crown Castle is 1433)
<img width="1218" alt="image" src="https://user-images.githubusercontent.com/1312796/206298732-924eaac3-5491-416e-8640-a17cbd4978f0.png">


Branch:
<img width="1561" alt="image" src="https://user-images.githubusercontent.com/1312796/206298800-c3608ae6-429e-40d5-9db8-fb792f0e7435.png">

Existing test case covers this.



=====================================================
Timestamp:  2022-12-06T23:07:35Z
Repository: ConsultingMD/potluck
PR #9818: [uep] Refactor how we map to company groups on the delta candidate projection

Description:
https://includedhealth.atlassian.net/browse/CDS-6085

This will allow for:

- easier uep onboarding as one would be able to specify wildcard instead of having to match on specific string

- easier to in the future add support for other columns to map to company groups (like ft_medical_option_id_current_plan_year for AT&T and HP)


=====================================================
Timestamp:  2022-12-03T00:41:49Z
Repository: ConsultingMD/potluck
PR #9772: [uep onboarding] Update Crown Castle mapping for 1/1/23

Description:
https://includedhealth.atlassian.net/browse/CDS-6066


=====================================================
Timestamp:  2022-12-03T00:16:24Z
Repository: ConsultingMD/potluck
PR #9771: [uep onboarding] Cielo config

Description:
https://includedhealth.atlassian.net/browse/CDS-5916


=====================================================
Timestamp:  2022-12-02T23:02:04Z
Repository: ConsultingMD/potluck
PR #9770: [uep onboarding] Level Set Health config

Description:
https://includedhealth.atlassian.net/browse/CDS-6043


=====================================================
Timestamp:  2022-12-02T22:28:02Z
Repository: ConsultingMD/potluck
PR #9768: [uep onboarding] Lubrizol config

Description:
https://includedhealth.atlassian.net/browse/CDS-5631


=====================================================
Timestamp:  2022-12-02T21:55:56Z
Repository: ConsultingMD/potluck
PR #9766: [uep onboarding] Tyson Foods config

Description:
https://includedhealth.atlassian.net/browse/CDS-5263

Context: https://github.com/ConsultingMD/potluck/pull/9691#discussion_r1047825408


=====================================================
Timestamp:  2022-12-02T07:05:26Z
Repository: ConsultingMD/potluck
PR #9740: [uep]Augment delta exporter to send '9999-12-31' in update rows to account for potential members that were previously deactivated and have regained coverage

Description:
https://includedhealth.atlassian.net/browse/CDS-5958

DOD-BE PR: https://github.com/ConsultingMD/dod-backend/pull/10526 needs to be merged and deployed first before merging this one.


=====================================================
Timestamp:  2022-12-02T07:04:39Z
Repository: ConsultingMD/dod-backend
PR #10526: [uep] augment payload_parser to include mapping for valid_until when its 9999-12-31

Description:
https://includedhealth.atlassian.net/browse/CDS-5958

Related Potluck PR: https://github.com/ConsultingMD/potluck/pull/9740


=====================================================
Timestamp:  2022-12-01T06:01:42Z
Repository: ConsultingMD/potluck
PR #9699: [uep] Early Access / Testing Google members who registered before the GA launch appear to not be regaining coverage

Description:
https://includedhealth.atlassian.net/browse/CDS-5958

I verified the changes by running against production and verified that on the delta snapshot generated we correctly generate an [update](https://includedhealth.atlassian.net/browse/CDS-5958?focusedCommentId=902726) row (and we no longer generate an insert row) for the member identified in the ticket.

snapshot: `lasik-task-1669871778`


=====================================================
Timestamp:  2022-11-30T22:38:17Z
Repository: ConsultingMD/potluck
PR #9694: [uep onboarding] Comcast configuration

Description:
https://includedhealth.atlassian.net/browse/CDS-5380


=====================================================
Timestamp:  2022-11-28T19:31:58Z
Repository: ConsultingMD/potluck
PR #9656: include entity_id in delta projection for insert/update rows to help debugging

Description:
https://includedhealth.atlassian.net/browse/CDS-6025


=====================================================
Timestamp:  2022-11-22T19:39:40Z
Repository: ConsultingMD/dod-backend
PR #10496: remove subscriber_ssn and is_dependent from _ce_already_exists method

Description:
https://includedhealth.atlassian.net/browse/CDS-5970

{REQUIRED: Enter a description of the changes made in the PR.
Be sure include guidance to reviewers if necessary.
Describe any associated risk as applicable.}

---

Reminder: Merged code will be deployed to production today.

Use this checklist to ensure your code is safe to deploy to production:

* [ ] Are changes feature flagged?
* [ ] Do the changes have thorough unit tests?

Some other things to consider:

* Appropriate documentation (i.e. good docstrings and/or content in `docs/`).
* If your code involves a database migration, please review the [migration checklist](https://grandrounds.atlassian.net/wiki/spaces/ENG/pages/3329482880/Migration+PR+Approval+Checklist).

Reviewers can use the [Backend Code Review Guidelines](https://grandrounds.atlassian.net/wiki/spaces/ENG/pages/3329479464/Backend+Code+Review+Guidelines) to aid the review.



=====================================================
Timestamp:  2022-10-28T03:26:51Z
Repository: ConsultingMD/airflow-warehouse
PR #577: logger -> logging

Description:



=====================================================
Timestamp:  2022-10-26T19:53:48Z
Repository: ConsultingMD/DPW
PR #1581: Story/data 873/scale up in oe surge

Description:



=====================================================
Timestamp:  2022-10-26T17:35:24Z
Repository: ConsultingMD/tp
PR #1771: adjust service replica counts in preparation for 1/1

Description:
@ConsultingMD/cds 


=====================================================
Timestamp:  2022-10-24T20:29:38Z
Repository: ConsultingMD/potluck
PR #9216: [CDS-5757] [UEP] use raw_coverage_with_entity_ids instead of merged_gr_coverage_with_entity_ids

Description:
We need to move off of {{merged_gr_coverage_with_entity_ids}} and instead instead use {{raw_coverage_with_entity_ids}} for various reasons:

* {{merged_gr_coverage_with_entity_ids}} merges the values in a non-deterministic way. This can present itself in false positives in the delta projection.
* {{merged_gr_coverage_with_entity_id}} doesnt correctly model the coverage world like {{raw_coverage_with_entity_ids}}:
** Consider the following existing escenario: A subscriber/primary and their spouse both work at Google. They are both subscribers and dependents of each other. This means that on the eligibility file there are four rows: two where each person is a subscriber and two where the spouse is a dependent of the subscriber.
*** In {{merged_gr_coverage_with_entity_id}} we only show the two rows (chosen at random)
*** In {{raw_coverage_with_entity_ids}} we show the 4 rows


Implementation details:
We should only produce one row per member. If a member has both a SUB and a DEP row, give preference to the SUB row. If a DEP has multiple rows under different SUBs, give preference to the first SUB when sorting by subscriber_ssn (desc).

[CDS-5757](https://includedhealth.atlassian.net/browse/CDS-5757)


=====================================================
Timestamp:  2022-10-21T18:22:04Z
Repository: ConsultingMD/potluck
PR #9199: [CDS-5765] UEP: remove ssn/subscriber_ssn from the carrier_coverage join conditions since we no longer need it

Description:
[CDS-5765](https://includedhealth.atlassian.net/browse/CDS-5765)

After the recent ER changes (adding Google specific rules) we're now seeing uniqueness by just joining on entity_id:
```
sql = """
with base as (
SELECT *, 
row_number() OVER (PARTITION BY gr_customer, member_first_name, member_last_name, member_date_of_birth, member_ssn, entity_id ORDER BY gr_filename DESC, gr_filename_date desc) AS row_number
FROM data_factory.carrier_coverage_with_entity_ids:v1
where gr_customer = 'Google' and coverage_term_date is null),
base_row_number_ones as (
select *
from base 
where row_number = 1),
second_window as (
select *,
     row_number() OVER (PARTITION BY gr_customer, entity_id ORDER BY gr_filename DESC, gr_filename_date desc) AS final_row_number
 from base_row_number_ones
)
select entity_id, final_row_number, count(*) from second_window where final_row_number = 1 group by entity_id, final_row_number order by count(*) desc limit 10
"""
```
<img width="447" alt="image" src="https://user-images.githubusercontent.com/1312796/197263402-b4ad01d8-b3e1-4d04-a166-909bebe2b20f.png">

`_col2` is `count(*)` and they're all 1  . This wasn't the case before and it's why we included ssn/subscriber_ssn in the join conditions to guarantee uniqueness.

This change will also allow the population of the insurance member id of 329 additional members which we weren't populating it before because:
- the ssn was null on the coverage file and not null on the carrier coverage file so the join condition wasn't succeeding


=====================================================
Timestamp:  2022-10-18T21:27:41Z
Repository: ConsultingMD/tp
PR #1770: change to aws_rds_free_storage_space_average

Description:
copy paste human error by me.


=====================================================
Timestamp:  2022-10-18T19:42:12Z
Repository: ConsultingMD/tp
PR #1769: [DATA-873] set allow_missing_data: true to remove noise alarm noise

Description:

[DATA-873](https://includedhealth.atlassian.net/browse/DATA-873)

These alarms are currently firing off at various times during the day when it gets no data which is annoying
<img width="1731" alt="image" src="https://user-images.githubusercontent.com/1312796/196528223-4d9541c5-d0ac-4927-a582-1909b30893e6.png">

Setting `allow_missing_data: true` to remove false positives.


=====================================================
Timestamp:  2022-10-18T18:56:14Z
Repository: ConsultingMD/tp
PR #1768: [DATA-873] Update TP DB identifier regex in alarms.yaml

Description:

[DATA-873](https://includedhealth.atlassian.net/browse/DATA-873)

<img width="1385" alt="image" src="https://user-images.githubusercontent.com/1312796/196519457-ab33924d-d6f4-45f1-8452-65f6658f8439.png">



=====================================================
Timestamp:  2022-10-12T23:50:59Z
Repository: ConsultingMD/potluck
PR #9114: [CDS-5673] Duplicate Coverage Records for Google Dependents

Description:
* 0014w00003g3T7TAAU - showing duplicate coverage in the hub, both as a dependent.
!image-20221011-215317.png|width=169,height=125!
** [https://grhc.lightning.force.com/lightning/r/Account/0014w00003g3T7TAAU/view?overrideNavRules=true|https://grhc.lightning.force.com/lightning/r/Account/0014w00003g3T7TAAU/view?overrideNavRules=true|smart-link]
** linked account is showing {{no employer relation}}
*** [https://poc.doctorondemand.com/ccadmin/members/member/5695397/change/|https://poc.doctorondemand.com/ccadmin/members/member/5695397/change/]
* 

[CDS-5673](https://includedhealth.atlassian.net/browse/CDS-5673)


=====================================================
Timestamp:  2022-10-12T21:36:44Z
Repository: ConsultingMD/potluck
PR #9111: add retry logic to delta exporter

Description:
```
com.amazonaws.SdkClientException: Unable to execute HTTP request: Broken pipe (Write failed)
```
https://catalog-airflow-webserver.production.grnds.com/log?dag_id=dod.eligibility.company_eligibility_delta_exporter_red&task_id=export_red&execution_date=2022-10-12T21%3A10%3A37.079733%2B00%3A00


=====================================================
Timestamp:  2022-10-12T17:51:44Z
Repository: ConsultingMD/DPW
PR #1576: [DATA-873] Scale up TP in preparation for OE surge

Description:
[DATA-873](https://includedhealth.atlassian.net/browse/DATA-873)


bump up TP DB instance: db.m4.2xlarge -> db.m4.10xlarge


=====================================================
Timestamp:  2022-10-11T22:41:22Z
Repository: ConsultingMD/potluck
PR #9095: [CDS-5673] Duplicate Coverage Records for Google Dependents

Description:
* 0014w00003g3T7TAAU - showing duplicate coverage in the hub, both as a dependent.
!image-20221011-215317.png|width=169,height=125!
** [https://grhc.lightning.force.com/lightning/r/Account/0014w00003g3T7TAAU/view?overrideNavRules=true|https://grhc.lightning.force.com/lightning/r/Account/0014w00003g3T7TAAU/view?overrideNavRules=true|smart-link]
** linked account is showing {{no employer relation}}
*** [https://poc.doctorondemand.com/ccadmin/members/member/5695397/change/|https://poc.doctorondemand.com/ccadmin/members/member/5695397/change/]

Verified by running task localy agaisn't prod, we can see that after this change we're now detecting the `26952` rows of SSNless dependents  
<img width="678" alt="image" src="https://user-images.githubusercontent.com/1312796/195261746-d8e3a197-2403-4d7e-ad2d-e3794d514dde.png">


[CDS-5673](https://includedhealth.atlassian.net/browse/CDS-5673)


=====================================================
Timestamp:  2022-10-11T20:39:35Z
Repository: ConsultingMD/tp
PR #1767: [DATA-873] Scale up TP Production in preparation for OE surge

Description:
[DATA-873](https://includedhealth.atlassian.net/browse/DATA-873)
6X per https://docs.google.com/document/d/1P_9JBUXsDixhVhUVOLsWFpEaiimzaqkMZ3cW6smy5ec/edit#

Bumping up the TP DB instance: https://github.com/ConsultingMD/DPW/pull/1576


=====================================================
Timestamp:  2022-10-11T18:53:43Z
Repository: ConsultingMD/tp
PR #1766: scale up TP 2X in Production to account for expected OE surge

Description:
preemptively scale TP 2X before OE starts. The google traffic is forecasted to be much higher than what weve previously seen


=====================================================
Timestamp:  2022-10-10T19:48:03Z
Repository: ConsultingMD/tp
PR #1765: update threshold

Description:
https://ih-epdd.slack.com/archives/C03G9F7665B/p1665431295516269?thread_ts=1665422440.554969&cid=C03G9F7665B


=====================================================
Timestamp:  2022-10-10T18:21:12Z
Repository: ConsultingMD/tp
PR #1764: can't use grace_period

Description:
From https://github.com/ConsultingMD/tp/pull/1763
https://ci.us-east-1.uat.grnds.com/#/namespaces/deploy/pipelineruns/tp-pr-097d332a?pipelineTask=deploy-alarms&step=deploy-alarms
```
Failed validating 'enum' in schema['properties']['alarms']['additionalProperties']['properties']['alb']['properties']['latency']['propertyNames']:
    {'enum': ['priority', 'type', 'threshold']}
```


=====================================================
Timestamp:  2022-10-10T17:18:34Z
Repository: ConsultingMD/tp
PR #1763: tune alarms + set replicas to 8 in UAT

Description:
Tuning alarms to remove false positive noise. Also updating the replicas in UAT to account for DS load testing.


=====================================================
Timestamp:  2022-10-07T17:41:33Z
Repository: ConsultingMD/jarvis
PR #16160: [CDS-5603] surface AvailableBenefits response in debug page in stark

Description:
[CDS-5603](https://includedhealth.atlassian.net/browse/CDS-5603)

Flag created: https://app.launchdarkly.com/default/production/features/project-zero-chores/targeting
<img width="1789" alt="image" src="https://user-images.githubusercontent.com/1312796/195195875-7f3336b9-b1bb-4f27-bb73-7abf8673f3f6.png">



=====================================================
Timestamp:  2022-10-06T23:55:18Z
Repository: ConsultingMD/dod-backend
PR #10289: UEP: make sure delta inserts are idempotent

Description:
https://includedhealth.atlassian.net/browse/CDS-5461


=====================================================
Timestamp:  2022-10-05T20:57:26Z
Repository: ConsultingMD/bobs
PR #4244: 2x bump for coverage-server, FAS 1/2, bundleapp, fhir-server in Production

Description:
https://ih-epdd.slack.com/archives/C03FDDTJRM5/p1665001712497919
https://ih-epdd.slack.com/archives/C03FDDTJRM5/p1665001802958349


=====================================================
Timestamp:  2022-10-05T20:45:02Z
Repository: ConsultingMD/stone
PR #1415: 2x stone bump

Description:



=====================================================
Timestamp:  2022-10-05T19:06:04Z
Repository: ConsultingMD/potluck
PR #9017: [CDS-5610] use nullsafe join syntax when joining on carrier_coverage table to account for null ssn

Description:

[CDS-5610](https://includedhealth.atlassian.net/browse/CDS-5610)


Google ssn-less members didn't have their insurance member id populated.

Issue:
Learn something new about Spark everyday. Setting the join conditions via a `Seq` doesn't handle nullsafe join columns. We need to use the uglier join syntax to be able to explicitly use the `<=>` nullsafe operator on the `ssn` join condition. 

I confirmed this is working by running the task against prod and querying snapshot version to confirm that the `insurance_member_id` of an ssn-less dependent is now populated.


=====================================================
Timestamp:  2022-09-30T15:08:21Z
Repository: ConsultingMD/potluck
PR #8968: [CDS-5333] Tune the delta exporter

Description:

[CDS-5333](https://includedhealth.atlassian.net/browse/CDS-5333)


=====================================================
Timestamp:  2022-09-30T03:40:02Z
Repository: ConsultingMD/potluck
PR #8964: [CDS-5333] Tune the delta exporter

Description:

[CDS-5333](https://includedhealth.atlassian.net/browse/CDS-5333)


=====================================================
Timestamp:  2022-09-27T22:50:26Z
Repository: ConsultingMD/potluck
PR #8935: [CDS-5333] Tune the delta exporter

Description:

[CDS-5333](https://includedhealth.atlassian.net/browse/CDS-5333)


=====================================================
Timestamp:  2022-09-27T21:28:18Z
Repository: ConsultingMD/potluck
PR #8933: [CDS-5523] Add flag to filter out delta payload based on the company_id

Description:
[CDS-5523](https://includedhealth.atlassian.net/browse/CDS-5523)

<img width="2311" alt="image" src="https://user-images.githubusercontent.com/1312796/192650794-bb70d3d2-a59d-4241-b68e-6a2a9c13df50.png">



=====================================================
Timestamp:  2022-09-27T18:57:44Z
Repository: ConsultingMD/terraform-vault
PR #456: [CDS-5523] Add flag on dod-be to persist delta payload based on the customer

Description:

[CDS-5523](https://includedhealth.atlassian.net/browse/CDS-5523)

LD Project created already: https://app.launchdarkly.com/settings/projects/lasik/environments
Vault also updated adding the `CATALOG_AIRFLOW_LAUNCH_DARKLY_KEY` key for both Production and UAT.


=====================================================
Timestamp:  2022-09-27T00:02:54Z
Repository: ConsultingMD/potluck
PR #8922: catch the expected exception for now

Description:
specifying the specific exception to catch and not the parent class

```
com.amazonaws.services.sns.model.InvalidParameterException: Invalid parameter: Message too long 
```


=====================================================
Timestamp:  2022-09-26T22:22:24Z
Repository: ConsultingMD/potluck
PR #8921: [UEP] try/catch when publishing msg to catch issues

Description:
https://grand-rounds.pagerduty.com/incidents/Q2O7EKOTZQ86U3


=====================================================
Timestamp:  2022-09-25T21:35:08Z
Repository: ConsultingMD/potluck
PR #8911: [CDS-5526] delta update address comparisons yielding false positives

Description:
[CDS-5526](https://includedhealth.atlassian.net/browse/CDS-5526)
CE  = company eligibility
CP = candidate projection
Seems like `eqNullSafe` method doesn't behave as we'd expect. 

Seems like a lot of changes but its just changing from `!eqNullSafe` -> separate checks: `field null in CE but not null in CP || fields null in CP but not null in CE || CE/CP value is different`


=====================================================
Timestamp:  2022-09-24T00:24:36Z
Repository: ConsultingMD/potluck
PR #8909: [CDS-5531] delta exporter sends the phone number as office type and the delta projection checks for home office type

Description:

[CDS-5531](https://includedhealth.atlassian.net/browse/CDS-5531)

The delta projection is using home office type but the exporter was using office type. This resulted in false positives.


=====================================================
Timestamp:  2022-09-22T21:41:33Z
Repository: ConsultingMD/potluck
PR #8890: [CDS-5522] delta projection sometimes fails with FetchFailedException: Too large frame

Description:

[CDS-5522](https://includedhealth.atlassian.net/browse/CDS-5522)

from https://github.com/ConsultingMD/potluck/pull/8880


=====================================================
Timestamp:  2022-09-20T20:16:12Z
Repository: ConsultingMD/potluck
PR #8855: [CDS-5419] Update dod rds export job in UAT so it happens N times before as N times the bronze/lasik runs on UAT

Description:
[https://ih-epdd.slack.com/archives/C03UY1FARAR/p1663093583499359|https://ih-epdd.slack.com/archives/C03UY1FARAR/p1663093583499359|smart-link] 

Bronze UAT schedule: 10am, 2pm, 6pm, 10pm PT

[CDS-5419](https://includedhealth.atlassian.net/browse/CDS-5419)


=====================================================
Timestamp:  2022-09-20T16:56:01Z
Repository: ConsultingMD/metropolis
PR #1639: [DATA-871] Update Zelis decoding

Description:



=====================================================
Timestamp:  2022-09-20T16:36:15Z
Repository: ConsultingMD/tp
PR #1760: [DATA-872] Remove use of with-secrets to start tp

Description:

[DATA-872](https://includedhealth.atlassian.net/browse/DATA-872)


=====================================================
Timestamp:  2022-09-15T22:39:45Z
Repository: ConsultingMD/potluck
PR #8796: [CDS-5333] revert initial tuning to exporter

Description:

[CDS-5333](https://includedhealth.atlassian.net/browse/CDS-5333)


=====================================================
Timestamp:  2022-09-15T06:49:19Z
Repository: ConsultingMD/potluck
PR #8778: [CDS-5428] google dependents with no SSNs are still being triggered for inserts after already having CE records

Description:

[CDS-5428](https://includedhealth.atlassian.net/browse/CDS-5428)


=====================================================
Timestamp:  2022-09-15T01:31:19Z
Repository: ConsultingMD/potluck
PR #8777: [CDS-5414] also join on ssn/subscriber_ssn to guarantee unique rows

Description:
[CDS-5414](https://includedhealth.atlassian.net/browse/CDS-5414)

Does defeat the purpose of ER but unblocks this until the potential ER linkage issues are addressed


=====================================================
Timestamp:  2022-09-15T00:32:16Z
Repository: ConsultingMD/potluck
PR #8775: [CDS-5333] Tune the delta exporter

Description:

[CDS-5333](https://includedhealth.atlassian.net/browse/CDS-5333)


=====================================================
Timestamp:  2022-09-14T21:57:19Z
Repository: ConsultingMD/potluck
PR #8769: [CDS-5414] use window function to fetch latest insurance_member_id across all received carrier_coverage files for that customer

Description:
[CDS-5414](https://includedhealth.atlassian.net/browse/CDS-5414)


=====================================================
Timestamp:  2022-09-14T06:37:36Z
Repository: ConsultingMD/potluck
PR #8759: [CDS-5414] use window function to fetch latest insurance_member_id across all received carrier_coverage files for that customer

Description:

![image](https://user-images.githubusercontent.com/1312796/190078606-bacde1e3-a3bf-4410-be22-fdaaf84a23f4.png)

The candidate projection currently takes the latest carrier_eligibility of file of that gr_customer to join with. Well need to update this logic since:

A gr_customer can have multiple carrier_coverage data_sources configured. Could be:
  - multiple carrier_coverage data_sources for the same carrier but with different expected frequency (weekly, monthly) (Crown Castle)
  - multiple carrier_coverage data_source for different carriers
  - multiple carrier_coverage data_sources, the real one and a fake/test one (even in Production, like Google)
  
To support all possible scenarios above, we need to partition the rows by ccPartitionKeys and order by GrFilename
and GrFilenameDate to select the most recent row of a given partition.

[CDS-5414](https://includedhealth.atlassian.net/browse/CDS-5414)


=====================================================
Timestamp:  2022-09-13T21:47:22Z
Repository: ConsultingMD/potluck
PR #8743: [CDS-5411] Filter out carrier coverage rows where coverage_term_date is not null

Description:
This will remove duplicate rows seen in the candidate projection (that showed up after joining with carrier_coverage) where one parent added their child, then removed them and the other parent added the child. These two rows would have a different insurance_member_id. We only need to fetch the record where coverage_term_date is null (meaning active coverage) 

[CDS-5411](https://includedhealth.atlassian.net/browse/CDS-5411)


=====================================================
Timestamp:  2022-09-13T00:38:09Z
Repository: ConsultingMD/potluck
PR #8718: [CDS-5401] Augment delta update logic to be nullsafe

Description:

[CDS-5401](https://includedhealth.atlassian.net/browse/CDS-5401)

Verified we're seeing the expected counts now:
```
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 228632 entries, 0 to 228631
```


=====================================================
Timestamp:  2022-09-10T07:01:14Z
Repository: ConsultingMD/potluck
PR #8702: [CDS-5374] UEP: account for carrier_file not being loaded in uat env for customers

Description:
candidate task failing in uat because for crown castle (which is a customer on the UEP, doesn't have a carrier_coverage file loaded)

[CDS-5374](https://includedhealth.atlassian.net/browse/CDS-5374)


=====================================================
Timestamp:  2022-09-10T05:20:49Z
Repository: ConsultingMD/potluck
PR #8701: [CDS-5374] get the member_id from the carrier_coverage: filter latest file by gr_customer

Description:
This is already fixed in https://github.com/ConsultingMD/potluck/pull/8686 which has more changes. 

Made this PR to fix immediate issue in master so we can enable the UEP over the weekend in UAT.
[CDS-5374](https://includedhealth.atlassian.net/browse/CDS-5374)


=====================================================
Timestamp:  2022-09-09T19:08:30Z
Repository: ConsultingMD/potluck
PR #8695: [CDS-5374] candidate projection: disable auto broadcast joins and only use latest carrier_coverage rows

Description:
[CDS-5374](https://includedhealth.atlassian.net/browse/CDS-5374)


=====================================================
Timestamp:  2022-09-09T05:57:59Z
Repository: ConsultingMD/potluck
PR #8686: [CDS-5378] Update UEP to use main_merged_coverage and carrier_coverage tables that have entity_ids

Description:
This is to be able to capture the ~30k dependents that have no ssn. These are currently not being included in the delta projection.

[CDS-5378](https://includedhealth.atlassian.net/browse/CDS-5378)

It's best to review this PR commit by commit. What this PR has:

- Switch to use table versions of merged_coverage/carrier_coverage with entity_ids so we're able to get insurance_member_id for dependents with no SSNs and don't have to do the joins ourselves.
- Update delta projection config, define `JoinConfiguration`. This is to support multiple join_key configurations. This was added to support Google's use case where majority of members have SSNs but there's a small % of dependents that won't have SSN.
- Update delta projection config, define `filter_dependents_no_ssn`. Added to support Google whereas dependents with no ssn are considered valid and we should generate CE records for these members. Whereas for Crown Castle this flag is set to true since we expect every member on the eligibility file to have an ssn.
- Update test fixtures to reflect the new configs + use code suggestions from intellij
- Test dependent with no ssn case. Do the uuid calculation (for inserts) downstream
- fix the logic to retrieved the member_id from the carrier_coverage file. I was not filtering by the gr_customer when getting the most recent gr_filename_date. Verified locally that this works now by running the candidate projection with debug logging statements.


=====================================================
Timestamp:  2022-09-09T02:12:09Z
Repository: ConsultingMD/potluck
PR #8684: [CDS-5374] get the member_id from the carrier_coverage file when available

Description:

[CDS-5374](https://includedhealth.atlassian.net/browse/CDS-5374)

We're going to do populate the insurance group number field once we know more about the requirements for that one.


=====================================================
Timestamp:  2022-09-09T00:08:05Z
Repository: ConsultingMD/potluck
PR #8679: [CDS-5333] Tune the delta exporter

Description:

[CDS-5333](https://includedhealth.atlassian.net/browse/CDS-5333)

 copied overrides from inovalon ingestions. This might be overkill but we can change that later.


=====================================================
Timestamp:  2022-09-08T23:55:00Z
Repository: ConsultingMD/potluck
PR #8678: [CDS-5372] gender is not being included in the delta exporter payload

Description:

[CDS-5372](https://includedhealth.atlassian.net/browse/CDS-5372)

This bug flew under the radar since we had loaded crown castle via the legacy loader so it was already there for non insert records.


=====================================================
Timestamp:  2022-09-07T16:30:12Z
Repository: ConsultingMD/dod-backend
PR #10119: bump dod-backend-sqs-lasik-event-consumer production replicas to 15

Description:
https://includedhealth.atlassian.net/browse/CDS-5334

Please sanity check the following calculations:

With 1 replica it took `6hrs` to process `190k` msgs.

With 15 replicas: 190k/15 = 12.6K msgs per replica
12.6/190k = 6.6%
6hrs -> 360mins * 6.6% = `~24 mins` to process all 190k msgs


=====================================================
Timestamp:  2022-09-06T22:48:05Z
Repository: ConsultingMD/dod-backend
PR #10116: put metric title in quotes

Description:



=====================================================
Timestamp:  2022-09-06T18:12:04Z
Repository: ConsultingMD/dod-backend
PR #10114: Create Grafana panel to view count of msgs consume by lasik sqs

Description:
https://includedhealth.atlassian.net/browse/CDS-5327


=====================================================
Timestamp:  2022-09-03T01:17:39Z
Repository: ConsultingMD/potluck
PR #8622: [CDS-5265] Adding all the mappings for Google

Description:
[CDS-5265](https://includedhealth.atlassian.net/browse/CDS-5265)

https://querybook.production.grnds.com/lasik/query_execution/466281/

<img width="1306" alt="image" src="https://user-images.githubusercontent.com/1312796/188250340-eb298403-8c9c-4288-91a3-10d53fff7229.png">

https://ih-epdd.slack.com/archives/C03FXQFDAT1/p1662166325759449?thread_ts=1662160880.228539&cid=C03FXQFDAT1

The mappings provided in https://includedhealth.atlassian.net/browse/CDS-5096 were not complete.


=====================================================
Timestamp:  2022-09-02T21:55:19Z
Repository: ConsultingMD/potluck
PR #8616: [CX-936] revert loading-dock-airflow/run_airflow.sh change and rely on previous config

Description:
[CX-936](https://includedhealth.atlassian.net/browse/CX-936)

From https://github.com/ConsultingMD/potluck/pull/8490, to fix:
```
fatal error: An error occurred (404) when calling the HeadObject operation: Key "potluck/loading-dock-airflow/loadingdock/deps.zip" does not exist
```


=====================================================
Timestamp:  2022-09-02T19:04:30Z
Repository: ConsultingMD/tp
PR #1751: [DATA-869] Migrate TP to use tng params: bump fog-aws gem

Description:

[DATA-869](https://includedhealth.atlassian.net/browse/DATA-869)


=====================================================
Timestamp:  2022-09-02T01:36:50Z
Repository: ConsultingMD/potluck
PR #8592: [CDS-5265] Enable Google in unified elig pipeline Production

Description:

[CDS-5265](https://includedhealth.atlassian.net/browse/CDS-5265)


=====================================================
Timestamp:  2022-09-01T23:45:54Z
Repository: ConsultingMD/potluck
PR #8590: [CDS-5237] e2e testing: Add checkpoint during insert and after the union

Description:
https://includedhealth.atlassian.net/browse/CDS-5237


=====================================================
Timestamp:  2022-09-01T20:10:24Z
Repository: ConsultingMD/tp
PR #1750: [DATA-869] Migrate TP to use tng params

Description:

[DATA-869](https://includedhealth.atlassian.net/browse/DATA-869)


=====================================================
Timestamp:  2022-09-01T15:02:40Z
Repository: ConsultingMD/tp
PR #1749: Revert changes from #1748 and #1747

Description:
Revert changes from https://github.com/ConsultingMD/tp/pull/1748 and https://github.com/ConsultingMD/tp/pull/1747

The issue was definitely introduced in those two PRs. Let's remove from master until I get this working.


=====================================================
Timestamp:  2022-09-01T02:08:59Z
Repository: ConsultingMD/tp
PR #1748: bump grnds-deploy

Description:
Needed to enable tng params.

Needed to bump the ruby version due to the following error when running `bundle update grnds-deploy`:
```
minitest-5.16.3 requires ruby version < 4.0, >= 2.6, which is incompatible with the current version, ruby 2.5.1p57
```
So decided to update to the least disruptive version which is `2.7.4`.


=====================================================
Timestamp:  2022-09-01T01:05:13Z
Repository: ConsultingMD/deploy
PR #38: disable vault instantiation if DISABLE_VAULT_SECRETS is set

Description:
Needed to move over LGRH rails services to TNG Params


=====================================================
Timestamp:  2022-08-31T19:10:19Z
Repository: ConsultingMD/tp
PR #1747: switch to tng parameters: bump grnds-deploy and remove Zuul references

Description:
Remove Zuul references. Use Rails.application.secrets instead. Update newrelic config to add dev environment to fix annoying warning


=====================================================
Timestamp:  2022-08-30T20:26:42Z
Repository: ConsultingMD/tp
PR #1746: Update tng parameters

Description:



=====================================================
Timestamp:  2022-08-30T15:50:14Z
Repository: ConsultingMD/potluck
PR #8554: update CODEOWNERS: remove folks that are no longer at IH

Description:



=====================================================
Timestamp:  2022-08-29T23:15:40Z
Repository: ConsultingMD/potluck
PR #8543: [CDS-5237] Augment deactivates/updates logic to remove false positives

Description:
https://includedhealth.atlassian.net/browse/CDS-5237


=====================================================
Timestamp:  2022-08-26T01:35:09Z
Repository: ConsultingMD/dod-backend
PR #10067: [CDS-5237] augment log warning in #zzz_default to also include the self.record[field_name] to better debug

Description:
https://includedhealth.atlassian.net/browse/CDS-5237
This will allow us to better debug 
![image](https://user-images.githubusercontent.com/1312796/186799102-bdded09f-c653-4c27-9120-b662ad114764.png)



=====================================================
Timestamp:  2022-08-26T00:15:19Z
Repository: ConsultingMD/potluck
PR #8517: [CDS-5237] valid_from/valid_until is being defaulted to 1970-01-01 in the delta exporter

Description:
Issue:

Before, when `delta.validUntil.isDefined` is false, meaning that `validUntil` is None, `delta.getValidUntil` equal `0` which baffles my mind.  This then ends up being converted to `1970-01-01`

<img width="1208" alt="image" src="https://user-images.githubusercontent.com/1312796/186790246-21fa7174-d7ed-4d58-b339-7c89544c6efb.png">

<img width="336" alt="image" src="https://user-images.githubusercontent.com/1312796/186790395-0002e0d3-c308-4adf-a35e-af4019e37cf2.png">

The fix is to not do anything if the field is not defined. 

Also taking the opportunity to convert all the values to `Option[T]` so that `message.asJson.deepDropNullValues` actually removed the null fields.

AT: The following is TEST DATA. After this change this is the payload for an `update` row:
```json
{
  "specversion" : "1.0",
  "type" : "ObjectOperations",
  "source" : "/lasik",
  "subject" : "CompanyEligibility",
  "id" : "5fece701-9861-4434-b1f0-63c0837b596f",
  "time" : "2022-08-26T00:46:37.842735",
  "data" : {
    "1" : {
      "EligibilityFileStatus" : {
        "eligibility_file_name" : "got_eligibility.txt",
        "client_record_date" : "1975-06-24",
        "complete" : false,
        "company_id" : 2
      },
      "CompanyEligibility" : {
        "app_label" : "eligibility",
        "model" : "companyeligibility",
        "records" : [
        ]
      },
      "CompanyEligibilityDependents" : {
        "app_label" : "eligibility",
        "model" : "companyeligibility",
        "records" : [
          {
            "zzz_operation" : "update",
            "id" : 4,
            "uuid" : "0284129c-10ac-4043-a850-a10be5dbdf29",
            "company_group_id" : 2,
            "street_address" : "15 Beverly Hills",
            "extended_address" : "some",
            "locality" : "Los Angeles",
            "postal_code" : "90210",
            "state_code" : "CA",
            "country_code" : "US",
            "email" : "catelyn@stark.com",
            "first_name" : "Catelyn",
            "last_name" : "Snow",
            "dob" : "1975-06-23",
            "ssn" : "953-88-2947",
            "subscriber_ssn" : "999-88-7777",
            "valid_from" : "1975-07-14",
            "is_dependent" : true,
            "is_spouse_eligible" : true,
            "is_children_eligible" : true,
            "is_international" : false,
            "zzz_policy_holder_id_uuid" : "7f9a05dd-7a07-443f-a351-66e8e68bda00",
            "relationship_to_employee" : "spouse",
            "employee_id" : "7",
            "insurance_plan" : "Future Plan",
            "division" : "flight",
            "job_title" : "protector",
            "insurance_group_id" : "298",
            "insurance_member_id" : "4",
            "opted_in" : true,
            "registration_link" : "catlink"
          }
        ]
      },
      "Addresses" : {
        "app_label" : "contact_info",
        "model" : "Address",
        "records" : [
        ]
      },
      "UserPhoneNumbers" : {
        "app_label" : "contact_info",
        "model" : "UserPhoneNumber",
        "records" : [
          {
            "zzz_operation" : "update",
            "id" : 2,
            "phone_number" : "4293423401",
            "phone_number_type" : "Office",
            "content_type_id" : 415,
            "object_id" : 4,
            "zzz_object_id_uuid" : "0284129c-10ac-4043-a850-a10be5dbdf29",
            "zzz_content_type_app_label" : "eligibility",
            "zzz_content_type_model" : "companyeligibility"
          }
        ]
      }
    }
  }
}
```
You can see that `valid_until` is not included in the payload when it's not set.


=====================================================
Timestamp:  2022-08-25T20:19:17Z
Repository: ConsultingMD/potluck
PR #8507: [CDS-5267] Update delta projection to handle a config being only set on one env

Description:

[CDS-5267](https://includedhealth.atlassian.net/browse/CDS-5267)


=====================================================
Timestamp:  2022-08-25T18:14:41Z
Repository: ConsultingMD/dod-backend
PR #10059: chmod +x dod_backend/sqs_entrypoint_v3.sh

Description:
From https://github.com/ConsultingMD/dod-backend/pull/10058


=====================================================
Timestamp:  2022-08-25T17:13:41Z
Repository: ConsultingMD/dod-backend
PR #10058: [CDS-5273] update dod-backend-sqs-lasik-event-consumer to use sqs_entrypoint_v3 which uses ConsumerWithMetrics

Description:
https://includedhealth.atlassian.net/browse/CDS-5273


=====================================================
Timestamp:  2022-08-25T16:44:20Z
Repository: ConsultingMD/eventflow
PR #43: Fix linting

Description:



=====================================================
Timestamp:  2022-08-25T16:10:59Z
Repository: ConsultingMD/eventflow
PR #42: add prometheus to spelling wordlist

Description:



=====================================================
Timestamp:  2022-08-25T15:55:07Z
Repository: ConsultingMD/eventflow
PR #41: update Gauge definition to have label. Use defensive coding

Description:
https://includedhealth.atlassian.net/browse/CDS-5273

Fixes
![image](https://user-images.githubusercontent.com/1312796/186712815-714aeddb-6419-4030-896d-d707e3863239.png)



=====================================================
Timestamp:  2022-08-25T14:41:04Z
Repository: ConsultingMD/potluck
PR #8498: [CDS-5237] don't include the payer_id in the payload since it's not set

Description:
Fixes `Error during bulk update`
```
Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/django/db/backends/base/base.py", line 242, in _commit
    return self.connection.commit()
psycopg2.errors.ForeignKeyViolation: insert or update on table "eligibility_companyeligibility" violates foreign key constraint "payer_id_refs_id_e170ee9c"
DETAIL:  Key (payer_id)=(0) is not present in table "eligibility_payer".
```

Given that were not setting the payer_id on the lasik side since we found out that this relationship is already set from the company_group, Ill make a change on the lasik side to not send over an empty payer_id


=====================================================
Timestamp:  2022-08-25T04:25:45Z
Repository: ConsultingMD/dod-backend
PR #10055: revert back to using Consumer until ConsumerWithMetrics is fixed

Description:



=====================================================
Timestamp:  2022-08-25T03:42:14Z
Repository: ConsultingMD/dod-backend
PR #10054: bump eventflow from 0.17 to 0.18 to fix error in ConsumerWithMetrics

Description:



=====================================================
Timestamp:  2022-08-25T03:13:41Z
Repository: ConsultingMD/eventflow
PR #40: update how we check for the prometheus setting so it doesn't break. b

Description:
ump version

Fixes
<img width="1682" alt="image" src="https://user-images.githubusercontent.com/1312796/186566348-ae17b426-07ac-4778-b825-8256ef37cc23.png">

fix from https://stackoverflow.com/questions/11486721/django-argument-of-type-lazysettings-is-not-iterable-how-then-to-check-if-a-s


=====================================================
Timestamp:  2022-08-24T23:55:37Z
Repository: ConsultingMD/dod-backend
PR #10053: truncate the eligibility_file_name coming from lasik to only the last 150 chars

Description:
https://includedhealth.atlassian.net/browse/CDS-5237

Fixes 
```
psycopg2.errors.StringDataRightTruncation: value too long for type character varying(150)
```
Seen when running the pipeline in Production.


=====================================================
Timestamp:  2022-08-24T22:00:21Z
Repository: ConsultingMD/dod-backend
PR #10052: Task/cds 5273/update consumer use consumerwithmetrics

Description:
https://includedhealth.atlassian.net/browse/CDS-5273

also adds more detailed logging to help debugging.


=====================================================
Timestamp:  2022-08-24T21:58:14Z
Repository: ConsultingMD/potluck
PR #8494: [CDS-5236] re-enable diffs comparison disabled in https://github.com/ConsultingMD/potluck/pull/8401

Description:

[CDS-5236](https://includedhealth.atlassian.net/browse/CDS-5236)

These diff were commented to filter out the known expected changes in the diff. This change brings it back so we generate delta rows for these records.


=====================================================
Timestamp:  2022-08-24T18:43:02Z
Repository: ConsultingMD/DPW
PR #1560: add new loading-dock-airflow repo

Description:
Related to https://github.com/ConsultingMD/potluck/pull/8490


=====================================================
Timestamp:  2022-08-24T18:42:54Z
Repository: ConsultingMD/potluck
PR #8490: loading-dock-airflow split into own docker image instead of using catalog image

Description:
LD Airflow is currently on version `2.1.4`. Catalog is on version `2.0.1`. Due to this migration disparity we're currently unable to successfully deploy the LD Airflow service. We can either revert back to the catalog version or we can just split these out to into its own container for LD airflow that the CX team can manage and own. This change attempts to do the latter and copies all the files from the `airflow` container (like `airflow-staging` did). This allows the CX team to upgrade the LD airflow at their will and not have Catalog airflow changes affect the LD airflow.

Corresponding DPW change: https://github.com/ConsultingMD/DPW/pull/1560


=====================================================
Timestamp:  2022-08-24T15:48:56Z
Repository: ConsultingMD/potluck
PR #8484: [CDS-5267] Update delta projection to handle a config being only set on one env

Description:

[CDS-5267](https://includedhealth.atlassian.net/browse/CDS-5267)


=====================================================
Timestamp:  2022-08-23T22:20:55Z
Repository: ConsultingMD/potluck
PR #8472: [CDS-5267] Update delta projection to handle a config being only set on one env

Description:

[CDS-5267](https://includedhealth.atlassian.net/browse/CDS-5267)


=====================================================
Timestamp:  2022-08-23T18:55:13Z
Repository: ConsultingMD/potluck
PR #8466: [CDS-5161] Update candidate/delta projection to add mapping for Google

Description:
Google will be pretty similar to Crown Castle implementation. It will be a {{ssn}} client. It will only have one company group which will be for the members that have Anthem as their insurance. Well want to wait until we received the first production eligibility file from Google to verify what the actual insurance plan string will be for Anthem members.

[CDS-5161](https://includedhealth.atlassian.net/browse/CDS-5161)


=====================================================
Timestamp:  2022-08-19T18:52:54Z
Repository: ConsultingMD/dod-backend
PR #10021: obfuscate additional fields from rollbar

Description:
https://includedhealth.atlassian.net/browse/CDS-5237


=====================================================
Timestamp:  2022-08-19T17:53:01Z
Repository: ConsultingMD/potluck
PR #8435: [CDS-5237] unified eligibility e2e testing: update delta exporter case classes with expected field names

Description:

[CDS-5237](https://includedhealth.atlassian.net/browse/CDS-5237)


=====================================================
Timestamp:  2022-08-19T16:39:18Z
Repository: ConsultingMD/potluck
PR #8430: [CDS-5237] unified eligibility pipeline: update phone number type default value

Description:
Addresses https://includedhealth.atlassian.net/browse/CDS-5237?focusedCommentId=812244


=====================================================
Timestamp:  2022-08-18T17:55:43Z
Repository: ConsultingMD/potluck
PR #8407: [CDS-5117] Turn on the delta exporter to actually publish messages

Description:
{{catalog/resources/tasks/dod/eligibility/company_eligibility_delta_exporter.prototxt}}

update {{do_publish}} to {{true}}

[CDS-5117](https://includedhealth.atlassian.net/browse/CDS-5117)


=====================================================
Timestamp:  2022-08-18T17:49:17Z
Repository: ConsultingMD/engineering
PR #8: Update prme command after Jira migration

Description:



=====================================================
Timestamp:  2022-08-17T22:25:38Z
Repository: ConsultingMD/metropolis
PR #1633: Story/data 856/augment load canonical generate provider tags entries

Description:
Additional fixes


=====================================================
Timestamp:  2022-08-05T21:24:44Z
Repository: ConsultingMD/metropolis
PR #1630: [DATA-850] Load IH provider lgbtq  flags file in metropolis

Description:

[DATA-850](https://grandrounds.atlassian.net/browse/DATA-850)


=====================================================
Timestamp:  2022-08-05T16:57:16Z
Repository: ConsultingMD/metropolis
PR #1628: [DATA-853] Update IH loader to ignore the header row

Description:
* mimic visits_access/enclarity
* detect dag: {{airflow/dags/detect_visits_access.py}}
* load dag: {{airflow/dags/load_visits_access.py}}
* load dag should not trigger load_canonical (like visits access, we can change this later)
* define ih loader, ih_to_db, ih_archiver
* add header mappings to {{airflow/dags/lib/source_file_mappings.py}} (minus the load_history_id one)

Acceptance Criteria:

* There is a dag called {{detect_ih_provider_tags}} that detects when new provider tags files are uploaded
* There is a dag called {{load_ih_provider_tags}} that is triggered by the detect tag and loads the data into {{ih.raw_provider_tags}}
** This dag should also backup the data to S3.

[DATA-853](https://grandrounds.atlassian.net/browse/DATA-853)


=====================================================
Timestamp:  2022-08-04T20:56:30Z
Repository: ConsultingMD/metropolis
PR #1625: [DATA-853] Create detect_ih_provider_tags/load_ih_provider_tags tasks to detect/load flags file

Description:
* mimic visits_access/enclarity
* detect dag: {{airflow/dags/detect_visits_access.py}}
* load dag: {{airflow/dags/load_visits_access.py}}
* load dag should not trigger load_canonical (like visits access, we can change this later)
* define ih loader, ih_to_db, ih_archiver
* add header mappings to {{airflow/dags/lib/source_file_mappings.py}} (minus the load_history_id one)

Acceptance Criteria:

* There is a dag called {{detect_ih_provider_tags}} that detects when new provider tags files are uploaded
* There is a dag called {{load_ih_provider_tags}} that is triggered by the detect tag and loads the data into {{ih.raw_provider_tags}}
** This dag should also backup the data to S3.

[DATA-853](https://grandrounds.atlassian.net/browse/DATA-853)


=====================================================
Timestamp:  2022-07-27T16:49:26Z
Repository: ConsultingMD/potluck
PR #8103: [IHDB-19190] Update insert logic to filter out dependents with blank/null ssn

Description:
[https://ih-epdd.slack.com/archives/C03FXQFDAT1/p1658865351614349|https://ih-epdd.slack.com/archives/C03FXQFDAT1/p1658865351614349|smart-link] 

[https://grandrounds.atlassian.net/browse/IHDB-19110?focusedCommentId=792303|https://grandrounds.atlassian.net/browse/IHDB-19110?focusedCommentId=792303|smart-link] 

[IHDB-19190](https://grandrounds.atlassian.net/browse/IHDB-19190)


=====================================================
Timestamp:  2022-07-26T20:43:36Z
Repository: ConsultingMD/potluck
PR #8096: [IHDB-19189] Update deactivates logic in the delta projection to use the correct company_id

Description:

[IHDB-19189](https://grandrounds.atlassian.net/browse/IHDB-19189)


=====================================================
Timestamp:  2022-07-25T20:34:38Z
Repository: ConsultingMD/potluck
PR #8081: save the policy_holder_id as int instead of string

Description:



=====================================================
Timestamp:  2022-07-21T20:04:40Z
Repository: ConsultingMD/potluck
PR #8051: [DB-19157] obfuscate phone number and employee_id for the delta projection

Description:

[DB-19157](https://grandrounds.atlassian.net/browse/DB-19157)


=====================================================
Timestamp:  2022-07-21T18:01:42Z
Repository: ConsultingMD/potluck
PR #8047: [DB-19149] Update delta projection to use the correct company_id

Description:
!image-20220720-222727.png|width=784,height=509!

[DB-19149](https://grandrounds.atlassian.net/browse/DB-19149)


=====================================================
Timestamp:  2022-07-19T17:09:02Z
Repository: ConsultingMD/potluck
PR #8017: [LDF-2847] Lasik ingestors for new historical_coverage bronze type

Description:

[LDF-2847](https://grandrounds.atlassian.net/browse/LDF-2847)


=====================================================
Timestamp:  2022-07-15T22:16:14Z
Repository: ConsultingMD/potluck
PR #8000: [DB-19107] Give red-exporter catalog role permission to publish sns messages dod 

Description:

[DB-19107](https://grandrounds.atlassian.net/browse/DB-19107)


=====================================================
Timestamp:  2022-07-15T17:00:58Z
Repository: ConsultingMD/dod-backend
PR #9833: Add id/uuid to eligibility loader messages for create/update/disable so we can compare against lasik

Description:
https://doctorondemand.atlassian.net/browse/DB-19088
---

Reminder: Merged code will be deployed to production today.

Use this checklist to ensure your code is safe to deploy to production:

* [ ] Are changes feature flagged?
* [ ] Do the changes have thorough unit tests?

Some other things to consider:

* Appropriate documentation (i.e. good docstrings and/or content in `docs/`).
* If your code involves a database migration, please review the [migration checklist](https://doctorondemand.atlassian.net/wiki/spaces/ENG/pages/492929326/Migration+PR+Approval+Checklist).

Reviewers can use the [Backend Code Review Guidelines](https://doctorondemand.atlassian.net/wiki/spaces/ENG/pages/85365403/Backend+Code+Review+Guidelines) to aid the review.



=====================================================
Timestamp:  2022-07-08T18:41:29Z
Repository: ConsultingMD/data-ops
PR #293: develop changes into master

Description:



=====================================================
Timestamp:  2022-07-08T18:27:33Z
Repository: ConsultingMD/data-ops
PR #292: add 3 new fields to salesforce_sales_cloud_account

Description:



=====================================================
Timestamp:  2022-07-07T19:11:28Z
Repository: ConsultingMD/potluck
PR #7898: [DB-19049] Fix country_code casting on candidate projection

Description:

[DB-19049](https://grandrounds.atlassian.net/browse/DB-19049)


=====================================================
Timestamp:  2022-07-07T17:02:53Z
Repository: ConsultingMD/potluck
PR #7894: [DB-19028] debug delta projection failure

Description:

[DB-19028](https://grandrounds.atlassian.net/browse/DB-19028)


=====================================================
Timestamp:  2022-07-06T16:21:45Z
Repository: ConsultingMD/potluck
PR #7875: [LD-729] update get_incident api call to include date_range param to ignore endpoint defaults

Description:
[LD-729](https://grandrounds.atlassian.net/browse/LD-729)

https://developer.pagerduty.com/api-reference/9d0b4b12e36f9-list-incidents
<img width="983" alt="image" src="https://user-images.githubusercontent.com/1312796/177597808-7d63086c-9f64-4343-8004-e5e4c71d0a4b.png">



=====================================================
Timestamp:  2022-07-05T21:01:01Z
Repository: ConsultingMD/potluck
PR #7861: [DB-19028] filter out rows with null company_ids from delta projection

Description:

[DB-19028](https://grandrounds.atlassian.net/browse/DB-19028)


=====================================================
Timestamp:  2022-07-01T18:11:05Z
Repository: ConsultingMD/metropolis
PR #1621: [DATA-846] Update looker api url and creds for new IH instance

Description:
client_id/client_secret variables updated via airflow UI
<img width="26" alt="image" src="https://user-images.githubusercontent.com/1312796/176948108-1219e089-4bd7-429a-8e74-74ecf38f4abc.png">
Task was successful.
[DATA-846](https://grandrounds.atlassian.net/browse/DATA-846)


=====================================================
Timestamp:  2022-06-21T20:50:01Z
Repository: ConsultingMD/dod-backend
PR #9694: implement operations for UserPhoneNumber

Description:
https://doctorondemand.atlassian.net/browse/DB-18693
---

Pilots use checklists to save planes from fiery crashes.  Use this checklist to save your code from a fiery crash in production. If something doesn't apply, please check it anyway to indicate to a reviewer that you considered it.

* [x] Did you write tests?
* [ ] Did you review any API schema changes?
* [x] Is there appropriate documentation (i.e. good docstrings and/or content in `docs/`)?
* [ ] Did you review the [migration checklist](https://doctorondemand.atlassian.net/wiki/spaces/ENG/pages/492929326/Migration+PR+Approval+Checklist) if the code includes a migration? Did you apply the `Migration` label to this PR?
* [ ] If this is a high risk PR, is the Jira issue marked with the High risk flag?
* [ ] Is the code safe to [deploy](https://potential-train-b6febc47.pages.github.io/guides/feature-flags-guide.html) to production *without* immediate verification? Is the code feature flagged or added to an existing feature flag? Did you add the `feature_flag` label to the associated Jira issue? Did you create the follow on issue to clean up the flag later?

Reviewers can use the [Backend Code Review Guidelines](https://doctorondemand.atlassian.net/wiki/spaces/ENG/pages/85365403/Backend+Code+Review+Guidelines) to aid the review.



=====================================================
Timestamp:  2022-06-17T21:02:29Z
Repository: ConsultingMD/dod-backend
PR #9688: implement operations on address section

Description:
https://doctorondemand.atlassian.net/browse/DB-18678
---

Pilots use checklists to save planes from fiery crashes.  Use this checklist to save your code from a fiery crash in production. If something doesn't apply, please check it anyway to indicate to a reviewer that you considered it.

* [x] Did you write tests?
* [ ] Did you review any API schema changes?
* [x] Is there appropriate documentation (i.e. good docstrings and/or content in `docs/`)?
* [ ] Did you review the [migration checklist](https://doctorondemand.atlassian.net/wiki/spaces/ENG/pages/492929326/Migration+PR+Approval+Checklist) if the code includes a migration? Did you apply the `Migration` label to this PR?
* [ ] If this is a high risk PR, is the Jira issue marked with the High risk flag?
* [ ] Is the code safe to [deploy](https://potential-train-b6febc47.pages.github.io/guides/feature-flags-guide.html) to production *without* immediate verification? Is the code feature flagged or added to an existing feature flag? Did you add the `feature_flag` label to the associated Jira issue? Did you create the follow on issue to clean up the flag later?

Reviewers can use the [Backend Code Review Guidelines](https://doctorondemand.atlassian.net/wiki/spaces/ENG/pages/85365403/Backend+Code+Review+Guidelines) to aid the review.



=====================================================
Timestamp:  2022-06-07T05:04:03Z
Repository: ConsultingMD/potluck
PR #7548: [DB-18667] Create CompanyEligibilityCandidate projection

Description:

[DB-18667](https://grandrounds.atlassian.net/browse/DB-18667)

Related: https://doctorondemand.atlassian.net/browse/DB-18692


=====================================================
Timestamp:  2022-05-27T20:04:58Z
Repository: ConsultingMD/dod-backend
PR #9538: Update the price column in the CoverageHistory table to just show CoverageDisplayPricing.price for each related segment

Description:
https://doctorondemand.atlassian.net/browse/DB-18696

---

Pilots use checklists to save planes from fiery crashes.  Use this checklist to save your code from a fiery crash in production. If something doesn't apply, please check it anyway to indicate to a reviewer that you considered it.

* [ ] Did you write tests?
* [ ] Did you review any API schema changes?
* [ ] Is there appropriate documentation (i.e. good docstrings and/or content in `docs/`)?
* [ ] Did you review the [migration checklist](https://doctorondemand.atlassian.net/wiki/spaces/ENG/pages/492929326/Migration+PR+Approval+Checklist) if the code includes a migration? Did you apply the `Migration` label to this PR?
* [ ] If this is a high risk PR, is the Jira issue marked with the High risk flag?
* [ ] Is the code safe to [deploy](https://potential-train-b6febc47.pages.github.io/guides/feature-flags-guide.html) to production *without* immediate verification? Is the code feature flagged or added to an existing feature flag? Did you add the `feature_flag` label to the associated Jira issue? Did you create the follow on issue to clean up the flag later?

Reviewers can use the [Backend Code Review Guidelines](https://doctorondemand.atlassian.net/wiki/spaces/ENG/pages/85365403/Backend+Code+Review+Guidelines) to aid the review.

Before:
![image](https://user-images.githubusercontent.com/1312796/170782246-a90ac65d-a24f-4173-b646-7a77dc80a0eb.png)

Now:
<img width="2248" alt="image" src="https://user-images.githubusercontent.com/1312796/170782281-a10e5474-9aa7-44a6-b3f2-b421767f5d11.png">




=====================================================
Timestamp:  2022-05-25T21:56:18Z
Repository: ConsultingMD/dod-backend
PR #9518: Show CoverageHistory table in MemberCoverage admin view

Description:
https://doctorondemand.atlassian.net/browse/DB-18507

---

Pilots use checklists to save planes from fiery crashes.  Use this checklist to save your code from a fiery crash in production. If something doesn't apply, please check it anyway to indicate to a reviewer that you considered it.

* [ ] Did you write tests?
* [ ] Did you review any API schema changes?
* [ ] Is there appropriate documentation (i.e. good docstrings and/or content in `docs/`)?
* [ ] Did you review the [migration checklist](https://doctorondemand.atlassian.net/wiki/spaces/ENG/pages/492929326/Migration+PR+Approval+Checklist) if the code includes a migration? Did you apply the `Migration` label to this PR?
* [ ] If this is a high risk PR, is the Jira issue marked with the High risk flag?
* [ ] Is the code safe to [deploy](https://potential-train-b6febc47.pages.github.io/guides/feature-flags-guide.html) to production *without* immediate verification? Is the code feature flagged or added to an existing feature flag? Did you add the `feature_flag` label to the associated Jira issue? Did you create the follow on issue to clean up the flag later?

Reviewers can use the [Backend Code Review Guidelines](https://doctorondemand.atlassian.net/wiki/spaces/ENG/pages/85365403/Backend+Code+Review+Guidelines) to aid the review.

QA:
In this example I take a member and update their employer's name from `Automation Complex Employer Company Group [test] [two]` to `Automation Complex Employer Company Group [test] [two] [three]`. We then see the historical name show up in the coverage history table:
<img width="2534" alt="image" src="https://user-images.githubusercontent.com/1312796/170373631-4e447511-89d1-4097-874a-4fc7e29de398.png">
<img width="2263" alt="image" src="https://user-images.githubusercontent.com/1312796/170373877-1e3c7d82-0646-4dc8-8465-12e3ba4f1b29.png">

Can probably polish more the `pricing` and `created_at` columns.


=====================================================
Timestamp:  2022-05-25T18:53:41Z
Repository: ConsultingMD/dod-backend
PR #9515: add member fk to CoverageHistory

Description:
https://doctorondemand.atlassian.net/browse/DB-18680


---

Pilots use checklists to save planes from fiery crashes.  Use this checklist to save your code from a fiery crash in production. If something doesn't apply, please check it anyway to indicate to a reviewer that you considered it.

* [ ] Did you write tests?
* [ ] Did you review any API schema changes?
* [ ] Is there appropriate documentation (i.e. good docstrings and/or content in `docs/`)?
* [ ] Did you review the [migration checklist](https://doctorondemand.atlassian.net/wiki/spaces/ENG/pages/492929326/Migration+PR+Approval+Checklist) if the code includes a migration? Did you apply the `Migration` label to this PR?
* [ ] If this is a high risk PR, is the Jira issue marked with the High risk flag?
* [ ] Is the code safe to [deploy](https://potential-train-b6febc47.pages.github.io/guides/feature-flags-guide.html) to production *without* immediate verification? Is the code feature flagged or added to an existing feature flag? Did you add the `feature_flag` label to the associated Jira issue? Did you create the follow on issue to clean up the flag later?

Reviewers can use the [Backend Code Review Guidelines](https://doctorondemand.atlassian.net/wiki/spaces/ENG/pages/85365403/Backend+Code+Review+Guidelines) to aid the review.



=====================================================
Timestamp:  2022-05-19T21:08:21Z
Repository: ConsultingMD/dod-backend
PR #9487: [DB-18585] display configuration on membercoverage page

Description:
[Ticket](https://doctorondemand.atlassian.net/browse/DB-18585)
---

Pilots use checklists to save planes from fiery crashes.  Use this checklist to save your code from a fiery crash in production. If something doesn't apply, please check it anyway to indicate to a reviewer that you considered it.

* [ ] Did you write tests?
* [ ] Did you review any API schema changes?
* [ ] Is there appropriate documentation (i.e. good docstrings and/or content in `docs/`)?
* [ ] Did you review the [migration checklist](https://doctorondemand.atlassian.net/wiki/spaces/ENG/pages/492929326/Migration+PR+Approval+Checklist) if the code includes a migration? Did you apply the `Migration` label to this PR?
* [ ] If this is a high risk PR, is the Jira issue marked with the High risk flag?
* [ ] Is the code safe to [deploy](https://potential-train-b6febc47.pages.github.io/guides/feature-flags-guide.html) to production *without* immediate verification? Is the code feature flagged or added to an existing feature flag? Did you add the `feature_flag` label to the associated Jira issue? Did you create the follow on issue to clean up the flag later?

Reviewers can use the [Backend Code Review Guidelines](https://doctorondemand.atlassian.net/wiki/spaces/ENG/pages/85365403/Backend+Code+Review+Guidelines) to aid the review.

<img width="1442" alt="image" src="https://user-images.githubusercontent.com/1312796/169404456-5f2cbd9e-cb28-48bd-a0c1-acd018fb222e.png">




=====================================================
Timestamp:  2022-05-18T18:25:18Z
Repository: ConsultingMD/potluck
PR #7341: [DATA-841] change trigger to SENTINEL_CHANGED for staged canonical

Description:

[DATA-841](https://grandrounds.atlassian.net/browse/DATA-841)


=====================================================
Timestamp:  2022-05-12T16:22:56Z
Repository: ConsultingMD/metropolis
PR #1617: [DATA-841] add support for sentinel files to s3_archiver

Description:

[DATA-841](https://grandrounds.atlassian.net/browse/DATA-841)

To fix:
```
22/05/11 21:24:19 ERROR Runners: EXIT-FAILURE Uncaught error: Illegal character in scheme name at index 0: 2022-05-10T20:56:42/2ca74b4c-3079-4759-b3b1-7574949b9111/
java.base/java.net.URI.create(URI.java:883)
java.base/java.net.URI.resolve(URI.java:1066)
com.grandrounds.catalog.spark.tasks.ingestors.SentinelFileInput.$anonfun$resolveInput$1(GenericInput.scala:168)
```


=====================================================
Timestamp:  2022-05-11T16:31:28Z
Repository: ConsultingMD/potluck
PR #7280: [LDF-2638] Use sentinel for staged metropolis provider canonical

Description:
[LDF-2638](https://grandrounds.atlassian.net/browse/LDF-2638)

To always load the latest version.


=====================================================
Timestamp:  2022-05-09T20:57:42Z
Repository: ConsultingMD/metropolis
PR #1615: [DATA-841] add support for sentinel files to s3_archiver

Description:

[DATA-841](https://grandrounds.atlassian.net/browse/DATA-841)


=====================================================
Timestamp:  2022-05-02T21:52:54Z
Repository: ConsultingMD/metropolis
PR #1614: [DATA-841] add support for sentinel files to s3_archiver

Description:

[DATA-841](https://grandrounds.atlassian.net/browse/DATA-841)


=====================================================
Timestamp:  2022-04-28T19:26:04Z
Repository: ConsultingMD/potluck
PR #7207: add missing deps for ld

Description:
The loading dock DAGs are failing to load in both UAT and production. Both environments show the following error. 

![image](https://user-images.githubusercontent.com/1312796/165831111-6b093c9b-d8fb-4214-ac43-6efe5e8af4fd.png)



=====================================================
Timestamp:  2022-04-26T19:02:37Z
Repository: ConsultingMD/loading-dock
PR #579: [LDF-2833] Build historic eligibility pipeline to support Trend Analysis

Description:

[LDF-2833](https://grandrounds.atlassian.net/browse/LDF-2833)


=====================================================
Timestamp:  2022-04-22T21:04:19Z
Repository: ConsultingMD/potluck
PR #7154: [LDF-2934] Migrating and unmasking dw_callsegments from LDoD data warehouse into Lasik

Description:
The DoD warehouse currently houses a table called dod.public.dw_callsegment that identifies legacy customer information as well as segment (health plan vs. employer) which via call_segment could be linked to the silver.televisits:v1 table. This would have broad applications to linking non-legacy customers to visit events and begin to support customer reporting and success metric tracking. 

[LDF-2934](https://grandrounds.atlassian.net/browse/LDF-2934)


=====================================================
Timestamp:  2022-04-22T19:10:35Z
Repository: ConsultingMD/potluck
PR #7150: [LDF-2942] Unmasking LDoD appointment slot data

Description:
Need the following tables and the fields listed under each to be unmasked--none of these tables or fields in them have PHI


=====================================================
Timestamp:  2022-04-21T20:46:10Z
Repository: ConsultingMD/looker-master
PR #1482: fix annoying white color for manage workflow link, set color the same as the other links

Description:
 as the other links.

Before:
<img width="638" alt="image" src="https://user-images.githubusercontent.com/1312796/164549411-07f4434e-cc8e-4980-9951-2c0ac57d43a6.png">


After:
<img width="644" alt="image" src="https://user-images.githubusercontent.com/1312796/164549483-366eb242-3662-4981-8e91-3d87a0157f11.png">



=====================================================
Timestamp:  2022-04-19T18:32:02Z
Repository: ConsultingMD/loading-dock
PR #574: [LDF-2833] Build historic eligibility pipeline to support Trend Analysis

Description:

[LDF-2833](https://grandrounds.atlassian.net/browse/LDF-2833)

Potluck PR: https://github.com/ConsultingMD/potluck/pull/7081


=====================================================
Timestamp:  2022-04-19T18:31:53Z
Repository: ConsultingMD/potluck
PR #7081: [LDF-2833] Build historic eligibility pipeline to support Trend Analysis

Description:
[LDF-2833](https://grandrounds.atlassian.net/browse/LDF-2833)

LD PR: https://github.com/ConsultingMD/loading-dock/pull/574


=====================================================
Timestamp:  2022-04-18T21:20:16Z
Repository: ConsultingMD/bronze
PR #2986: [LDF-2833] Build historic eligibility pipeline to support Trend Analysis

Description:

[LDF-2833](https://grandrounds.atlassian.net/browse/LDF-2833)


=====================================================
Timestamp:  2022-04-13T17:19:17Z
Repository: ConsultingMD/potluck
PR #6985: [LDF-2825] DAG for Task data_factory.gr_filenames failed.

Description:
[https://grand-rounds.pagerduty.com/incidents/Q3R1WI0UJYGTFF|https://grand-rounds.pagerduty.com/incidents/Q3R1WI0UJYGTFF]

* dag_id: data_factory.gr_filenames
* run_id: scheduled__2022-04-12T08:30:00 00:00
* task_name: data_factory.gr_filenames

[LDF-2825](https://grandrounds.atlassian.net/browse/LDF-2825)


=====================================================
Timestamp:  2022-04-11T17:13:05Z
Repository: ConsultingMD/loading-dock
PR #567: [LD-725] tune ld alarms

Description:

[LD-725](https://grandrounds.atlassian.net/browse/LD-725)


=====================================================
Timestamp:  2022-04-07T17:42:20Z
Repository: ConsultingMD/loading-dock
PR #566: [LD-725] tune ld alarms

Description:

[LD-725](https://grandrounds.atlassian.net/browse/LD-725)


=====================================================
Timestamp:  2022-04-05T21:30:26Z
Repository: ConsultingMD/bronze
PR #2929: [LDF-2591] Test 3rd party utilization ingest pipeline in bronze UAT

Description:
[LDF-2591](https://grandrounds.atlassian.net/browse/LDF-2591)


=====================================================
Timestamp:  2022-04-04T20:18:47Z
Repository: ConsultingMD/loading-dock
PR #562: [LD-723] filter out third_party_utilization from metrics until we actually have TPU data sources

Description:

[LD-723](https://grandrounds.atlassian.net/browse/LD-723)


=====================================================
Timestamp:  2022-04-01T21:04:55Z
Repository: ConsultingMD/potluck
PR #6866: [LDF-2354] Create the lasik ingestor for third party utilization bronze type

Description:
[LDF-2354](https://grandrounds.atlassian.net/browse/LDF-2354)

Related: https://github.com/ConsultingMD/bronze/pull/2929

```
tools/lasik task gen parquet --table data_factory.third_party_utilization --example_s3_path 's3://grnds-uat-df-output/bronze/bronze-20220407155356/redThirdPartyUtilization/data/main/red_third_party_utilization/third_party_utilization/part-00000-427e69fc-914f-4502-a96c-53a37d15b9ea-c000.snappy.parquet'
```


=====================================================
Timestamp:  2022-04-01T19:22:24Z
Repository: ConsultingMD/potluck
PR #6861: [LDF-1514] ingest raw enclarity tables

Description:
[LDF-1514](https://grandrounds.atlassian.net/browse/LDF-1514)


=====================================================
Timestamp:  2022-03-28T21:05:45Z
Repository: ConsultingMD/potluck
PR #6800: [LDF-1515] ingest raw ama tables

Description:
{noformat}rgarcia@floyd:5432/production> \dt ama.raw*
                      List of relations

 Schema              Name               Type    Owner   

 ama     raw_addrtype                   table  floydbot 
 ama     raw_dbo_ama_boards_codes       table  floydbot 
 ama     raw_dbo_ama_npi                table  floydbot 
 ama     raw_dbo_county_codes           table  floydbot 
 ama     raw_dbo_lu_ama_hosp_affil      table  floydbot 
 ama     raw_dbo_lu_ama_mti             table  floydbot 
 ama     raw_dbo_lu_ama_schools         table  floydbot 
 ama     raw_dbo_pe                     table  floydbot 
 ama     raw_dbo_pmsa                   table  floydbot 
 ama     raw_dbo_specialties            table  floydbot 
 ama     raw_grand_rounds_abms          table  floydbot 
 ama     raw_grand_rounds_ama           table  floydbot 
 ama     raw_grand_rounds_doctorfinder  table  floydbot 
 ama     raw_grand_rounds_gmt           table  floydbot 
 ama     raw_grand_rounds_gmt_hist      table  floydbot 
 ama     raw_mpa                        table  floydbot 
 ama     raw_mpa_map                    table  floydbot 
 ama     raw_msa                        table  floydbot 
 ama     raw_top                        table  floydbot 
 ama     raw_tops                       table  floydbot 

(20 rows)

rgarcia@floyd:5432/production>{noformat}

[LDF-1515](https://grandrounds.atlassian.net/browse/LDF-1515)


=====================================================
Timestamp:  2022-03-25T23:24:43Z
Repository: ConsultingMD/potluck
PR #6792: [LDF-1514] ingest raw enclarity tables

Description:
{noformat}rgarcia@floyd:5432/production> \dt enclarity.raw*
                            List of relations

  Schema                     Name                    Type    Owner   

 enclarity  raw_confidence_score_range               table  floydbot 
 enclarity  raw_grandrounds_addresscrosswalk         table  floydbot 
 enclarity  raw_grandrounds_addrphonefax_idv         table  floydbot 
 enclarity  raw_grandrounds_assoc_idv                table  floydbot 
 enclarity  raw_grandrounds_boardsanction_idv        table  floydbot 
 enclarity  raw_grandrounds_csl_idv                  table  floydbot 
 enclarity  raw_grandrounds_dea_idv                  table  floydbot 
 enclarity  raw_grandrounds_fac_master               table  floydbot 
 enclarity  raw_grandrounds_geolocations             table  floydbot 
 enclarity  raw_grandrounds_gktostrennuscrosswalk    table  floydbot 
 enclarity  raw_grandrounds_license_idv              table  floydbot 
 enclarity  raw_grandrounds_master_idv               table  floydbot 
 enclarity  raw_grandrounds_medicaid_idv             table  floydbot 
 enclarity  raw_grandrounds_medicare_enrollment_idv  table  floydbot 
 enclarity  raw_grandrounds_medicare_idv             table  floydbot 
 enclarity  raw_grandrounds_medschool_idv            table  floydbot 
 enclarity  raw_grandrounds_network_idv              table  floydbot 
 enclarity  raw_grandrounds_npi_idv                  table  floydbot 
 enclarity  raw_grandrounds_office_attr_idv          table  floydbot 
 enclarity  raw_grandrounds_taxonomy_idv             table  floydbot 
 enclarity  raw_provider_status_code                 table  floydbot 
 enclarity  raw_sanction_code                        table  floydbot 
 enclarity  raw_sanction_provider_type               table  floydbot 
 enclarity  raw_taxonomy_code                        table  floydbot 

(24 rows)

rgarcia@floyd:5432/production>{noformat}

[LDF-1514](https://grandrounds.atlassian.net/browse/LDF-1514)


=====================================================
Timestamp:  2022-03-23T18:21:28Z
Repository: ConsultingMD/potluck
PR #6746: [LDF-2638] Create ingestions for stage metropolis provider canonical

Description:

[LDF-2638](https://grandrounds.atlassian.net/browse/LDF-2638)


=====================================================
Timestamp:  2022-03-22T18:49:32Z
Repository: ConsultingMD/bronze
PR #2908: [LDF-2590] Copy bronze manifests needed for the given run based on the allow list

Description:

[LDF-2590](https://grandrounds.atlassian.net/browse/LDF-2590)


=====================================================
Timestamp:  2022-03-18T20:54:06Z
Repository: ConsultingMD/potluck
PR #6685: [LDF-2638] Create ingestors for staging metropolis provider canonical

Description:

[LDF-2638](https://grandrounds.atlassian.net/browse/LDF-2638)


=====================================================
Timestamp:  2022-03-18T17:20:55Z
Repository: ConsultingMD/potluck
PR #6680: [LDF-2364] Unmask raw DoD data table

Description:
Requesting the following be unmasked in Lasik to help support care plan reporting and the ability to link DoD care plan referrals out of VPC into CCP/The Hub. 



# dod.raw.care_plans_careplanorder_care_plan_types:v1 (All fields)
# dod.raw.care_plans_careplanorder:v1 (All but {{JSON Data}} and {{Notes}})
# dod.raw.care_plans_careplantype:v1 (All fields but {{Name}})

[LDF-2364](https://grandrounds.atlassian.net/browse/LDF-2364)


=====================================================
Timestamp:  2022-03-16T19:23:44Z
Repository: ConsultingMD/metropolis
PR #1602: [DATA-837] update backup file name pattern

Description:

[DATA-837](https://grandrounds.atlassian.net/browse/DATA-837)


=====================================================
Timestamp:  2022-03-15T20:19:11Z
Repository: ConsultingMD/potluck
PR #6623: [LDF-2620] update trigger_deps for customer_id_enricher

Description:

[LDF-2620](https://grandrounds.atlassian.net/browse/LDF-2620)


=====================================================
Timestamp:  2022-03-14T20:02:26Z
Repository: ConsultingMD/bronze
PR #2896: [LDF-2551] Remove part of the coverage pipeline that does plan look ups for walmart OE

Description:
[https://github.com/ConsultingMD/bronze/blob/master/claims-spark/src/main/java/com/grandrounds/coverage/CoveragePipeline.java#L512|https://github.com/ConsultingMD/bronze/blob/master/claims-spark/src/main/java/com/grandrounds/coverage/CoveragePipeline.java#L512]

Switch the input of the customer_id_enricher to be the output of this new lasik projection

[LDF-2551](https://grandrounds.atlassian.net/browse/LDF-2551)

DRAFT until https://github.com/ConsultingMD/potluck/pull/6602 has been merged and we've produced at least 1 successful run of the pipeline using the new lasik task.


=====================================================
Timestamp:  2022-03-14T19:51:42Z
Repository: ConsultingMD/potluck
PR #6602: [LDF-2551] Remove part of the coverage pipeline that does plan look ups for walmart OE

Description:
[https://github.com/ConsultingMD/bronze/blob/master/claims-spark/src/main/java/com/grandrounds/coverage/CoveragePipeline.java#L512|https://github.com/ConsultingMD/bronze/blob/master/claims-spark/src/main/java/com/grandrounds/coverage/CoveragePipeline.java#L512]

Switch the input of the customer_id_enricher to be the output of this new lasik projection

[LDF-2551](https://grandrounds.atlassian.net/browse/LDF-2551)


=====================================================
Timestamp:  2022-03-10T20:57:16Z
Repository: ConsultingMD/potluck
PR #6576: [LDF-2530] Validate new MainRawCoverageProjectorWithAuxInfo is in parity with existing main raw coverage

Description:
Ensure output of new projector is in parity with data_factory.internal.main_raw_coverage:v3

[LDF-2530](https://grandrounds.atlassian.net/browse/LDF-2530)


=====================================================
Timestamp:  2022-03-09T20:08:57Z
Repository: ConsultingMD/tp
PR #1717: [DATA-706] Upload new docspot dataset (provider photos)

Description:
*Notes:*

[DATA-706](https://grandrounds.atlassian.net/browse/DATA-706)


=====================================================
Timestamp:  2022-03-08T18:27:42Z
Repository: ConsultingMD/potluck
PR #6531: [LDF-2577] Dont trigger file_with_only_duplicate_rows alert for eligibility files

Description:

[LDF-2577](https://grandrounds.atlassian.net/browse/LDF-2577)


=====================================================
Timestamp:  2022-03-04T19:57:48Z
Repository: ConsultingMD/tp
PR #1716: [DATA-706] Drop user app from Dockerfile, add vim

Description:
*Notes:*

[DATA-706](https://grandrounds.atlassian.net/browse/DATA-706)


=====================================================
Timestamp:  2022-03-03T22:32:17Z
Repository: ConsultingMD/potluck
PR #6474: [LDF-2530] Validate new MainRawCoverageProjectorWithAuxInfo is in parity with existing main raw coverage

Description:
Ensure output of new projector is in parity with data_factory.internal.main_raw_coverage:v3

[LDF-2530](https://grandrounds.atlassian.net/browse/LDF-2530)


=====================================================
Timestamp:  2022-02-25T18:23:04Z
Repository: ConsultingMD/potluck
PR #6373: [LD-702] Dedicated PD services for Seth Selken, Sherry Guo

Description:
Create dedicated PD services for Seth Selken, Sherry Guo.

[LD-702](https://grandrounds.atlassian.net/browse/LD-702)

Create PD escalation policy for each SE
Create PD service for each SE
Create PD  Jira Cloud integration (in PD)
Update Potluck Vault
Update Potluck pagerduty.json in S3
Update alerting code to know about each SEs PD service


=====================================================
Timestamp:  2022-02-25T16:36:53Z
Repository: ConsultingMD/potluck
PR #6371: [LDF-2422] Walmart auxiliary lookup is a lasik enrichment

Description:
Plan Lookups for Eligibility

* plan mappings (e.g. for Walmart) is an enrichment on raw coverage data
* win: quicker remediation of coverage incidents (no need to re-run canonicalization)

Create a lasik projection that reads in data_factory.internal.main_raw_coverage:v3 and writes to some internal table. This new internal table will become the input for the customer_id_enricher. 

The projection should utilize existing code in bronze [https://github.com/ConsultingMD/bronze/blob/master/claims-spark/src/main/java/com/grandrounds/coverage/CoveragePipeline.java#L833-L852|https://github.com/ConsultingMD/bronze/blob/master/claims-spark/src/main/java/com/grandrounds/coverage/CoveragePipeline.java#L833-L852]

Once this new internal table has been written we can compare the existing  data_factory.internal.main_raw_coverage:v3 table to ensure that the tables are exactly the same.

After this is validated we can delete the method call on the bronze side and change the input to the customer_id_enricher. [https://github.com/ConsultingMD/potluck/blob/master/catalog/resources/tasks/data_factory/customer_id_enricher.prototxt|https://github.com/ConsultingMD/potluck/blob/master/catalog/resources/tasks/data_factory/customer_id_enricher.prototxt|smart-link] 

Existing bronze tests  [https://github.com/ConsultingMD/bronze/blob/master/claims-spark/src/test/java/com/grandrounds/coverage/CoveragePipelineTest.java|https://github.com/ConsultingMD/bronze/blob/master/claims-spark/src/test/java/com/grandrounds/coverage/CoveragePipelineTest.java|smart-link]

[LDF-2422](https://grandrounds.atlassian.net/browse/LDF-2422)


=====================================================
Timestamp:  2022-02-14T22:41:17Z
Repository: ConsultingMD/tp
PR #1714: [DATA-834] dont return empty list when doing a ME search and sorting by distance

Description:
*Notes:*

[DATA-834](https://grandrounds.atlassian.net/browse/DATA-834)


=====================================================
Timestamp:  2022-02-10T20:56:02Z
Repository: ConsultingMD/tp
PR #1713: [DATA-832] Allow TP to pull in Match Engine Scores for non-MDs

Description:
*Notes:*

[DATA-832](https://grandrounds.atlassian.net/browse/DATA-832)


=====================================================
Timestamp:  2022-02-09T23:07:59Z
Repository: ConsultingMD/tp
PR #1712: [DATA-832] Allow TP to pull in Match Engine Scores for non-MDs

Description:
*Notes:*

[DATA-832](https://grandrounds.atlassian.net/browse/DATA-832)

Flag off:
<img width="1225" alt="image" src="https://user-images.githubusercontent.com/1312796/153305723-dba5f41c-402e-4e0b-8d53-96f9ee34fbb2.png">


Flag on:
<img width="1164" alt="image" src="https://user-images.githubusercontent.com/1312796/153305783-c3ae2809-d466-4f35-817f-77935ec2c0da.png">



=====================================================
Timestamp:  2022-02-09T21:41:07Z
Repository: ConsultingMD/tp
PR #1711: [DATA-832] Allow TP to pull in Match Engine Scores for non-MDs

Description:
[DATA-832](https://grandrounds.atlassian.net/browse/DATA-832)
LD flag created here: https://app.launchdarkly.com/tp/production/features/route-non-md-searches-to-match-engine/targeting

Pointing my local TP to hit up ME uat:

flag off (current behavior):
<img width="1167" alt="image" src="https://user-images.githubusercontent.com/1312796/153294178-a97a48d0-8a71-4598-9e8d-73ea73932b7a.png">


Flag on (routing non-md search to ME):
<img width="1203" alt="image" src="https://user-images.githubusercontent.com/1312796/153294236-5e131a46-b916-42dc-96ce-abdb2c79eb17.png">



=====================================================
Timestamp:  2022-01-06T04:56:51Z
Repository: ConsultingMD/tp
PR #1706: [DATA-826] [STEP 2] integer out of range for canonical.provider_location_id_mappings id column

Description:
error: [http://airflow.analytics.grandrounds.com:8080/admin/airflow/log?task_id=update_id_mappings_for_provider_tables and dag_id=load_canonical and execution_date=2022-01-05T07:08:07.328687|http://airflow.analytics.grandrounds.com:8080/admin/airflow/log?task_id=update_id_mappings_for_provider_tables and dag_id=load_canonical and execution_date=2022-01-05T07:08:07.328687]

* [https://stackoverflow.com/questions/24308239/postgresql-integer-out-of-range|https://stackoverflow.com/questions/24308239/postgresql-integer-out-of-range|smart-link]  change type int to varchar. This pipeline will be moved over to lasik anyways so no need to get to crazy with refactors.
* also change the type for the other affected tables.

[DATA-826](https://grandrounds.atlassian.net/browse/DATA-826)


=====================================================
Timestamp:  2022-01-06T03:36:47Z
Repository: ConsultingMD/tp
PR #1705: [DATA-826] [STEP 1] integer out of range for canonical.provider_location_id_mappings id column

Description:
error: [http://airflow.analytics.grandrounds.com:8080/admin/airflow/log?task_id=update_id_mappings_for_provider_tables and dag_id=load_canonical and execution_date=2022-01-05T07:08:07.328687|http://airflow.analytics.grandrounds.com:8080/admin/airflow/log?task_id=update_id_mappings_for_provider_tables and dag_id=load_canonical and execution_date=2022-01-05T07:08:07.328687]

* [https://stackoverflow.com/questions/24308239/postgresql-integer-out-of-range|https://stackoverflow.com/questions/24308239/postgresql-integer-out-of-range|smart-link]  change type int to varchar. This pipeline will be moved over to lasik anyways so no need to get to crazy with refactors.
* also change the type for the other affected tables.

[DATA-826](https://grandrounds.atlassian.net/browse/DATA-826)


=====================================================
Timestamp:  2022-01-06T00:54:05Z
Repository: ConsultingMD/metropolis
PR #1585: [DATA-826] integer out of range for canonical.provider_location_id_mappings id column

Description:
error: [http://airflow.analytics.grandrounds.com:8080/admin/airflow/log?task_id=update_id_mappings_for_provider_tables and dag_id=load_canonical and execution_date=2022-01-05T07:08:07.328687|http://airflow.analytics.grandrounds.com:8080/admin/airflow/log?task_id=update_id_mappings_for_provider_tables and dag_id=load_canonical and execution_date=2022-01-05T07:08:07.328687]

* [https://stackoverflow.com/questions/24308239/postgresql-integer-out-of-range|https://stackoverflow.com/questions/24308239/postgresql-integer-out-of-range|smart-link]  change type int to varchar. This pipeline will be moved over to lasik anyways so no need to get to crazy with refactors.
* also change the type for the other affected tables.

[DATA-826](https://grandrounds.atlassian.net/browse/DATA-826)


=====================================================
Timestamp:  2021-12-21T21:44:45Z
Repository: ConsultingMD/loading-dock
PR #496: Revert "[LD-632] alert when manifest generation fail due to next filename date"

Description:
Reverts ConsultingMD/loading-dock#493


=====================================================
Timestamp:  2021-12-20T18:36:00Z
Repository: ConsultingMD/loading-dock
PR #495: [LD-149] Do not page in UAT environment

Description:
PagerDuty alerts should not be triggered in UAT. Control whether PagerDuty alerts are triggered with an environment setting (UAT and production).

[LD-149](https://grandrounds.atlassian.net/browse/LD-149)

Potluck PR: https://github.com/ConsultingMD/potluck/pull/5748


=====================================================
Timestamp:  2021-12-20T18:35:32Z
Repository: ConsultingMD/potluck
PR #5748: [LD-149] Do not page in UAT environment

Description:
PagerDuty alerts should not be triggered in UAT. Control whether PagerDuty alerts are triggered with an environment setting (UAT and production).

[LD-149](https://grandrounds.atlassian.net/browse/LD-149)

LD PR: https://github.com/ConsultingMD/loading-dock/pull/495


=====================================================
Timestamp:  2021-12-14T19:14:14Z
Repository: ConsultingMD/potluck
PR #5682: [LD-660] export tables more frequently

Description:

[LD-660](https://grandrounds.atlassian.net/browse/LD-660)


=====================================================
Timestamp:  2021-12-13T16:24:50Z
Repository: ConsultingMD/metropolis
PR #1584: [DATA-824] data_value_2 --> data_value2

Description:
*Notes:*

[DATA-824](https://grandrounds.atlassian.net/browse/DATA-824)


=====================================================
Timestamp:  2021-12-09T22:22:27Z
Repository: ConsultingMD/engineering-deep
PR #1169: fix prme command and gr-load-root-key

Description:



=====================================================
Timestamp:  2021-12-09T20:21:02Z
Repository: ConsultingMD/metropolis
PR #1583: [DATA-824] add column data_value_2 to raw_provider_group_affiliations

Description:
*Notes:*

[DATA-824](https://grandrounds.atlassian.net/browse/DATA-824)


=====================================================
Timestamp:  2021-12-03T05:14:23Z
Repository: ConsultingMD/metropolis
PR #1577: [DATA-821] update canonical/load_provider_board_certifications.sql to use meetingmocrequirementsindicator

Description:
[DATA-821](https://grandrounds.atlassian.net/browse/DATA-821)


=====================================================
Timestamp:  2021-12-02T22:43:48Z
Repository: ConsultingMD/potluck
PR #5582: [LDF-1514] ingest raw enclarity tables

Description:
{noformat}rgarcia@floyd:5432/production> \dt enclarity.raw*
                            List of relations

  Schema                     Name                    Type    Owner   

 enclarity  raw_confidence_score_range               table  floydbot 
 enclarity  raw_grandrounds_addresscrosswalk         table  floydbot 
 enclarity  raw_grandrounds_addrphonefax_idv         table  floydbot 
 enclarity  raw_grandrounds_assoc_idv                table  floydbot 
 enclarity  raw_grandrounds_boardsanction_idv        table  floydbot 
 enclarity  raw_grandrounds_csl_idv                  table  floydbot 
 enclarity  raw_grandrounds_dea_idv                  table  floydbot 
 enclarity  raw_grandrounds_fac_master               table  floydbot 
 enclarity  raw_grandrounds_geolocations             table  floydbot 
 enclarity  raw_grandrounds_gktostrennuscrosswalk    table  floydbot 
 enclarity  raw_grandrounds_license_idv              table  floydbot 
 enclarity  raw_grandrounds_master_idv               table  floydbot 
 enclarity  raw_grandrounds_medicaid_idv             table  floydbot 
 enclarity  raw_grandrounds_medicare_enrollment_idv  table  floydbot 
 enclarity  raw_grandrounds_medicare_idv             table  floydbot 
 enclarity  raw_grandrounds_medschool_idv            table  floydbot 
 enclarity  raw_grandrounds_network_idv              table  floydbot 
 enclarity  raw_grandrounds_npi_idv                  table  floydbot 
 enclarity  raw_grandrounds_office_attr_idv          table  floydbot 
 enclarity  raw_grandrounds_taxonomy_idv             table  floydbot 
 enclarity  raw_provider_status_code                 table  floydbot 
 enclarity  raw_sanction_code                        table  floydbot 
 enclarity  raw_sanction_provider_type               table  floydbot 
 enclarity  raw_taxonomy_code                        table  floydbot 

(24 rows)

rgarcia@floyd:5432/production>{noformat}

[LDF-1514](https://grandrounds.atlassian.net/browse/LDF-1514)


=====================================================
Timestamp:  2021-12-02T19:07:07Z
Repository: ConsultingMD/data-ops
PR #181: develop --> master

Description:



=====================================================
Timestamp:  2021-12-01T23:45:48Z
Repository: ConsultingMD/potluck
PR #5567: [LDF-1513] ingest raw zelis tables

Description:
{noformat}rgarcia@floyd:5432/production> \dt zelis.raw*
                       List of relations

 Schema               Name                Type    Owner   

 zelis   raw_address                      table  floydbot 
 zelis   raw_board_cert_domain            table  floydbot 
 zelis   raw_language_domain              table  floydbot 
 zelis   raw_name                         table  floydbot 
 zelis   raw_practice_status_domain       table  floydbot 
 zelis   raw_product_domain               table  floydbot 
 zelis   raw_project_mapping_generations  table  floydbot 
 zelis   raw_provider_core                table  floydbot 
 zelis   raw_provider_education           table  floydbot 
 zelis   raw_provider_group_affil         table  floydbot 
 zelis   raw_provider_hospital_affil      table  floydbot 
 zelis   raw_provider_identifier          table  floydbot 
 zelis   raw_provider_language            table  floydbot 
 zelis   raw_provider_product             table  floydbot 
 zelis   raw_provider_specialty           table  floydbot 
 zelis   raw_provider_specialty_score     table  floydbot 
 zelis   raw_provider_tag                 table  floydbot 
 zelis   raw_provider_type_domain         table  floydbot 
 zelis   raw_raw_specialty_domain         table  floydbot 
 zelis   raw_specialty_domain             table  floydbot 

(20 rows)

rgarcia@floyd:5432/production>{noformat}

[LDF-1513](https://grandrounds.atlassian.net/browse/LDF-1513)


=====================================================
Timestamp:  2021-12-01T16:40:08Z
Repository: ConsultingMD/data-ops
PR #180: merge latest changes from develop

Description:



=====================================================
Timestamp:  2021-12-01T16:38:04Z
Repository: ConsultingMD/data-ops
PR #179: set global HostKeyAlgorithms so things work with latest openssh version

Description:



=====================================================
Timestamp:  2021-11-30T22:03:29Z
Repository: ConsultingMD/data-ops
PR #178: merge latest changes from develop into master

Description:



=====================================================
Timestamp:  2021-11-30T21:58:54Z
Repository: ConsultingMD/data-ops
PR #177: AN-70 Send Additional VPC Data To SFMC

Description:
https://doctorondemand.atlassian.net/browse/AN-70


=====================================================
Timestamp:  2021-11-30T19:33:58Z
Repository: ConsultingMD/data-ops
PR #176: merge latest changes from develop into master

Description:



=====================================================
Timestamp:  2021-11-30T19:31:52Z
Repository: ConsultingMD/data-ops
PR #175: An 72 make bh fields available in looker

Description:



=====================================================
Timestamp:  2021-11-30T18:19:06Z
Repository: ConsultingMD/data-ops
PR #174: merge latest changes from develop

Description:



=====================================================
Timestamp:  2021-11-30T17:03:43Z
Repository: ConsultingMD/data-ops
PR #173: An 72 make bh fields available in looker

Description:
https://doctorondemand.atlassian.net/browse/AN-72


=====================================================
Timestamp:  2021-11-30T16:51:50Z
Repository: ConsultingMD/dod-cfn-utils
PR #113: whitelist salesforce_time_off table

Description:
https://doctorondemand.atlassian.net/browse/AN-72


=====================================================
Timestamp:  2021-11-29T21:55:16Z
Repository: ConsultingMD/data-ops
PR #172: merge latest changes from develop into master

Description:



=====================================================
Timestamp:  2021-11-29T21:29:57Z
Repository: ConsultingMD/loading-dock
PR #470: [LD-646] file poll failed alerts not auto resolving

Description:
context: https://grandrounds.slack.com/archives/C01D2EFT96D/p1638206036057000

[LD-646](https://grandrounds.atlassian.net/browse/LD-646)


=====================================================
Timestamp:  2021-11-29T18:22:44Z
Repository: ConsultingMD/loading-dock
PR #469: [LD-645] add newline to metrics endpoint until prometheus metric code is fixed to do this

Description:
https://grandrounds.slack.com/archives/C2BTPFJDT/p1637265763194000

[LD-645](https://grandrounds.atlassian.net/browse/LD-645)


=====================================================
Timestamp:  2021-11-23T20:49:18Z
Repository: ConsultingMD/data-ops
PR #171: An 67 create integration priority health rx claims data

Description:
https://doctorondemand.atlassian.net/browse/AN-67

Dependent PR: https://github.com/doctorondemand/dod-cfn-utils/pull/112


=====================================================
Timestamp:  2021-11-23T20:47:47Z
Repository: ConsultingMD/dod-cfn-utils
PR #112:  integration For Priority Health Rx Claim Data

Description:
https://doctorondemand.atlassian.net/browse/AN-67

Data Ops PR: https://github.com/doctorondemand/data-ops/pull/171


=====================================================
Timestamp:  2021-11-22T20:00:29Z
Repository: ConsultingMD/loading-dock
PR #463: [LD-638] permissions error exporting LD tables in UAT

Description:
* [https://rollbar.com/GrandRounds/loading-dock/items/381/?utm_campaign=new_item_message and utm_medium=slack and utm_source=rollbar-notification|https://rollbar.com/GrandRounds/loading-dock/items/381/?utm_campaign=new_item_message and utm_medium=slack and utm_source=rollbar-notification]
* [https://rollbar.com/GrandRounds/loading-dock/items/383/?utm_campaign=new_item_message and utm_medium=slack and utm_source=rollbar-notification|https://rollbar.com/GrandRounds/loading-dock/items/383/?utm_campaign=new_item_message and utm_medium=slack and utm_source=rollbar-notification]
* [https://rollbar.com/GrandRounds/loading-dock/items/382/?utm_campaign=new_item_message and utm_medium=slack and utm_source=rollbar-notification|https://rollbar.com/GrandRounds/loading-dock/items/382/?utm_campaign=new_item_message and utm_medium=slack and utm_source=rollbar-notification]

[LD-638](https://grandrounds.atlassian.net/browse/LD-638)


=====================================================
Timestamp:  2021-11-22T19:49:15Z
Repository: ConsultingMD/loading-dock
PR #462: [LD-637] exclude sentinel.txt file from the files view

Description:
!image-20211122-191403.png|width=1282,height=649!

[LD-637](https://grandrounds.atlassian.net/browse/LD-637)


=====================================================
Timestamp:  2021-11-19T22:05:40Z
Repository: ConsultingMD/loading-dock
PR #460: [LD-631] Fix file validation not setting filename_date

Description:

[LD-631](https://grandrounds.atlassian.net/browse/LD-631)


=====================================================
Timestamp:  2021-11-19T19:40:39Z
Repository: ConsultingMD/potluck
PR #5456: [LDF-1533] Unmask LDOD VPC Datasets

Description:
We need to unmask the following datasets to measure enrollment. 

{{dod.raw.appointments_doctorcallhold:v1}}

{{dod.raw.schedulerequests_schedulerequest:v1}}

{{dod.raw.doctors_primarycareprovider:v1}}
{{dod.raw.appointments_slot:v1}}

{{dod.raw.appointments_psychologistappointmenthold:v1}}

[LDF-1533](https://grandrounds.atlassian.net/browse/LDF-1533)


=====================================================
Timestamp:  2021-11-18T20:00:30Z
Repository: ConsultingMD/loading-dock
PR #457: [LD-619] Add alarms for LD manifest counts for all domains

Description:

[LD-619](https://grandrounds.atlassian.net/browse/LD-619)


=====================================================
Timestamp:  2021-11-17T23:51:04Z
Repository: ConsultingMD/data-ops
PR #170: [AN-72] Make Behavioral Health SFDC fields visible in Looker

Description:
https://doctorondemand.atlassian.net/browse/AN-72


=====================================================
Timestamp:  2021-11-17T23:45:11Z
Repository: ConsultingMD/data-ops
PR #169: An 72 make bh fields available in looker

Description:



=====================================================
Timestamp:  2021-11-17T18:38:08Z
Repository: ConsultingMD/loading-dock
PR #454: [LD-621] view salesforce record doesnt work

Description:
!image-20211116-174758.png|width=190,height=99!

clicking the link shows

!image-20211116-174822.png|width=2556,height=1245!

[LD-621](https://grandrounds.atlassian.net/browse/LD-621)


=====================================================
Timestamp:  2021-11-17T18:12:21Z
Repository: ConsultingMD/loading-dock
PR #453: [LD-621] view salesforce record doesnt work

Description:
!image-20211116-174758.png|width=190,height=99!

clicking the link shows

!image-20211116-174822.png|width=2556,height=1245!

[LD-621](https://grandrounds.atlassian.net/browse/LD-621)


=====================================================
Timestamp:  2021-11-16T15:44:13Z
Repository: ConsultingMD/loading-dock
PR #446: bump bronze sha

Description:
![image](https://user-images.githubusercontent.com/1312796/142015114-d1dac741-dd61-4496-8fc0-26b93f2e56cc.png)

Sometimes you'll update the bronze sha in LD and a test will fail. The test output is always similar to:
```
org.opentest4j.AssertionFailedError: Unexpected exception thrown: java.lang.IllegalArgumentException: ClaimLayout not found for: issi
	at org.junit.jupiter.api.AssertDoesNotThrow.createAssertionFailedError(AssertDoesNotThrow.java:83)
	at org.junit.jupiter.api.AssertDoesNotThrow.assertDoesNotThrow(AssertDoesNotThrow.java:76)
	at org.junit.jupiter.api.AssertDoesNotThrow.assertDoesNotThrow(AssertDoesNotThrow.java:59)
```

This is letting us know that there's been a new bronze layout added for which we haven't added a definition to LD yet.

It tells us the type (`ClaimLayout`) so we know which [file](https://github.com/ConsultingMD/loading-dock/tree/master/src/main/java/com/grandrounds/loadingdock/bronze/layouts) to add it to.

The bronze layouts are [here](https://github.com/ConsultingMD/bronze/tree/master/claims-lib/src/main/java/com/grandrounds/layouts).

It also tells us which layout is missing: `issi`. So now we copy [that](https://github.com/ConsultingMD/bronze/blob/master/claims-lib/src/main/java/com/grandrounds/layouts/ClaimLayout.java#L56) layout definition from the bronze file into the [LD](https://github.com/ConsultingMD/loading-dock/blob/master/src/main/java/com/grandrounds/loadingdock/bronze/layouts/ClaimLayout.java) one.

If you have your IDE setup locally you avoid some cycles by running [this](https://github.com/ConsultingMD/loading-dock/blob/master/src/test/java/com/grandrounds/loadingdock/layouts/LayoutsTest.java) particular test locally and making all the necessary changes before committing and pushing to GH.

![image](https://user-images.githubusercontent.com/1312796/142017219-17f8aa94-00c8-4fb0-9487-2e94b15eb718.png)



=====================================================
Timestamp:  2021-11-15T20:41:19Z
Repository: ConsultingMD/potluck
PR #5397: [LD-614] account for null customer in the ds health report

Description:

[LD-614](https://grandrounds.atlassian.net/browse/LD-614)


=====================================================
Timestamp:  2021-11-15T16:03:18Z
Repository: ConsultingMD/potluck
PR #5393: [LD-614] account for null customer in the ds health report

Description:

[LD-614](https://grandrounds.atlassian.net/browse/LD-614)


=====================================================
Timestamp:  2021-11-11T20:48:55Z
Repository: ConsultingMD/data-ops
PR #168: merge latest develop changes to master

Description:



=====================================================
Timestamp:  2021-11-11T17:42:56Z
Repository: ConsultingMD/potluck
PR #5364: [LDF-1381] LDOD MSAT Table Unmasking

Description:
*Goal:* We need to unmask two tables to unblock MSAT reporting via the workflow established by Kevin here: [https://grandrounds.atlassian.net/browse/DATAREQ-102|https://grandrounds.atlassian.net/browse/DATAREQ-102|smart-link]  

# dod.raw.members_membersurveyresponse:v1

(note {{response_id}} column should not be obfuscated, since it contains the response score.)

# raw.members_membertestimonial:v1

If this makes any difference in terms of effort / scheduling, would love to have the {{members_membersurveyresponse:v1}} table before the {{members_membertestimonial:v1}} table.

[LDF-1381](https://grandrounds.atlassian.net/browse/LDF-1381)


=====================================================
Timestamp:  2021-11-11T16:51:29Z
Repository: ConsultingMD/bronze
PR #2719: [LD-612] update LoadingDockManifestEntryIO to account for null customer id in the manifest

Description:

[LD-612](https://grandrounds.atlassian.net/browse/LD-612)


=====================================================
Timestamp:  2021-11-10T21:05:23Z
Repository: ConsultingMD/potluck
PR #5354: [LDF-1391] update rx projections to be FOUNDATION_PROJECTION

Description:

[LDF-1391](https://grandrounds.atlassian.net/browse/LDF-1391)


=====================================================
Timestamp:  2021-11-10T16:59:50Z
Repository: ConsultingMD/potluck
PR #5350: [LDF-1379] update med_service projection to SPARK

Description:

[LDF-1379](https://grandrounds.atlassian.net/browse/LDF-1379)


=====================================================
Timestamp:  2021-11-08T22:16:02Z
Repository: ConsultingMD/potluck
PR #5320: [LDF-1256] create med_services normalized projection

Description:

[LDF-1256](https://grandrounds.atlassian.net/browse/LDF-1256)


=====================================================
Timestamp:  2021-11-04T21:59:38Z
Repository: ConsultingMD/potluck
PR #5293: [LDF-1256] create med_services normalized projection

Description:

[LDF-1256](https://grandrounds.atlassian.net/browse/LDF-1256)


=====================================================
Timestamp:  2021-11-04T14:30:44Z
Repository: ConsultingMD/potluck
PR #5288: [LD-595] update logic of the file_with_only_duplicate_rows alert to remove false positives

Description:
context: https://grandrounds.slack.com/archives/C01D2EFT96D/p1633737222092600?thread_ts=1633707791.089700 and cid=C01D2EFT96D

[LD-595](https://grandrounds.atlassian.net/browse/LD-595)


=====================================================
Timestamp:  2021-11-03T20:24:39Z
Repository: ConsultingMD/loading-dock
PR #432: [LD-504] Processing DAG should check both encrypted flag and encryption type before attempting decrypt

Description:
Currently it looks like we only look at the encryption_type. If encryption_type is specified and encrypted is false, we still attempt a decrypt.

[LD-504](https://grandrounds.atlassian.net/browse/LD-504)


=====================================================
Timestamp:  2021-11-03T15:54:18Z
Repository: ConsultingMD/potluck
PR #5277: [LD-596] whitelisted account_slug column in data_source table to be ingested on the lasik side

Description:
account_slug is already exported from loading dock side.

[LD-596](https://grandrounds.atlassian.net/browse/LD-596)


=====================================================
Timestamp:  2021-11-03T15:11:13Z
Repository: ConsultingMD/loading-dock
PR #430: bump bronze sha

Description:



=====================================================
Timestamp:  2021-11-02T16:41:44Z
Repository: ConsultingMD/data-ops
PR #161: Develop -> Master (latest changes)

Description:



=====================================================
Timestamp:  2021-11-02T15:31:11Z
Repository: ConsultingMD/loading-dock
PR #428: bump bronze sha

Description:



=====================================================
Timestamp:  2021-11-01T21:35:31Z
Repository: ConsultingMD/dod-config
PR #220: remove SFTP_USER for healthscope from prd as well

Description:



=====================================================
Timestamp:  2021-10-28T20:18:01Z
Repository: ConsultingMD/potluck
PR #5231: [LD-577] add service_id string column to alerting_subscriber

Description:
* Add a new `character varying` column, `service_id` to the `alerting_subscriber` table. 
** it will capture the PD service id ({{https://grand-rounds.pagerduty.com/service-directory/PWNNWUS}}, service_id would be {{PWNNWUS}}) for that alerting subscriber if there is one.
* Update alerting logic to fire the alert to the owners service if they have a service id (Mostly all of SE will have one) otherwise fire to the LD service.

Everyone in SE has their own SE service created in PD so this ticket is to continue supporting this process for them.

[LD-577](https://grandrounds.atlassian.net/browse/LD-577)


=====================================================
Timestamp:  2021-10-28T18:31:10Z
Repository: ConsultingMD/potluck
PR #5228: [LDF-1274] mirror unique inovalon tables to BQ

Description:

[LDF-1274](https://grandrounds.atlassian.net/browse/LDF-1274)


=====================================================
Timestamp:  2021-10-28T16:19:40Z
Repository: ConsultingMD/potluck
PR #5226: [LDF-1243] ingest claim

Description:

[LDF-1243](https://grandrounds.atlassian.net/browse/LDF-1243)


=====================================================
Timestamp:  2021-10-27T23:01:00Z
Repository: ConsultingMD/potluck
PR #5216: [LD-588] set LD_IMAGE_TAG to master so it always uses the last known good img

Description:

[LD-588](https://grandrounds.atlassian.net/browse/LD-588)


=====================================================
Timestamp:  2021-10-26T18:38:46Z
Repository: ConsultingMD/potluck
PR #5187: [LDF-1252] ingest inovalon national claims data

Description:
[LDF-1252](https://grandrounds.atlassian.net/browse/LDF-1252)

First pass: https://github.com/ConsultingMD/potluck/pull/5184


=====================================================
Timestamp:  2021-10-26T16:50:48Z
Repository: ConsultingMD/potluck
PR #5184: [LDF-1251] ingest provider (inovalon data)

Description:

[LDF-1251](https://grandrounds.atlassian.net/browse/LDF-1251)

first pass


=====================================================
Timestamp:  2021-10-25T18:11:12Z
Repository: ConsultingMD/potluck
PR #5157: fix datasource health report specs

Description:



=====================================================
Timestamp:  2021-10-22T19:25:08Z
Repository: ConsultingMD/potluck
PR #5141: [LD-583] update notify_subscribers api call

Description:
[LD-583](https://grandrounds.atlassian.net/browse/LD-583)

need to pass the post params


=====================================================
Timestamp:  2021-10-22T17:27:56Z
Repository: ConsultingMD/potluck
PR #5139: [LD-582] update legacy file_not_polled alert to work with the expected_frequency enum instead of integers

Description:

[LD-582](https://grandrounds.atlassian.net/browse/LD-582)


=====================================================
Timestamp:  2021-10-22T15:52:33Z
Repository: ConsultingMD/potluck
PR #5136: [LD-582] update legacy file_not_polled alert to work with the expected_frequency enum instead of integers

Description:

[LD-582](https://grandrounds.atlassian.net/browse/LD-582)




=====================================================
Timestamp:  2021-10-21T21:48:42Z
Repository: ConsultingMD/loading-dock
PR #414: [LD-581] add individual notifications endpoint for file poll failed alerts

Description:

[LD-581](https://grandrounds.atlassian.net/browse/LD-581)


=====================================================
Timestamp:  2021-10-21T21:23:06Z
Repository: ConsultingMD/loading-dock
PR #413: [LD-576] triggering poll-failed notifications raises error

Description:
[https://rollbar.com/GrandRounds/loading-dock/items/328/|https://rollbar.com/GrandRounds/loading-dock/items/328/]

!image-20211020-201803.png|width=1340,height=966!

need to update {{findFailedPollsWithoutAlert}} to add in the email

[LD-576](https://grandrounds.atlassian.net/browse/LD-576)


=====================================================
Timestamp:  2021-10-21T18:49:41Z
Repository: ConsultingMD/loading-dock
PR #412: [LD-580] whitelisted salesforce_id column in data_source table to be ingested on the lasik side

Description:
datahub query still shows the old salesforce_id:

select salesforce_id from loading_dock.data_source:v1 limit 100

https://github.com/ConsultingMD/potluck/pull/5125

https://datahub.production.grnds.com/lasik/query_execution/205149/

These deprecated columns needed to be removed from the export.


=====================================================
Timestamp:  2021-10-21T18:49:01Z
Repository: ConsultingMD/potluck
PR #5125: [LD-580] whitelisted salesforce_id column in data_source table to be ingested on the lasik side

Description:
datahub query still shows the old salesforce_id:

select salesforce_id from loading_dock.data_source:v1 limit 100

Related: https://github.com/ConsultingMD/loading-dock/pull/412


=====================================================
Timestamp:  2021-10-21T18:25:18Z
Repository: ConsultingMD/dod-config
PR #206: remove unused configs

Description:
@brianrider lmk if this is correct

Related: https://github.com/doctorondemand/data-ops/pull/151
https://doctorondemand.atlassian.net/browse/AN-64


=====================================================
Timestamp:  2021-10-21T17:27:46Z
Repository: ConsultingMD/potluck
PR #5122: [DATAREQ-102] Enable dod survey data in the yellow data catalog

Description:
To ensure request are prioritized appropriately, please make sure you have answered the following questions within this ticket:

* What is the business use case?
A dashboard to internal stakeholders to show a combined NPS / MSAT score. 
* What timeline/deadlines are involved?
Early this quarter.
* Are there any other points of contact that should be involved?
cc: [~accountid:611279d07ab143006e799492] [~accountid:5a00fc67c37f7a76bce0523a] [~accountid:60d597a2d5dde80071afd405] on the LDoD side
* What is the cost or downside if this requested work is not done?
It is required for company OKRs. Lauren / Ben can provide additional context if needed.
* What system are we migrating the data from?
LDOD

[DATAREQ-102](https://grandrounds.atlassian.net/browse/DATAREQ-102)


=====================================================
Timestamp:  2021-10-20T20:27:14Z
Repository: ConsultingMD/loading-dock
PR #409: [LD-576] triggering poll-failed notifications raises error

Description:
[https://rollbar.com/GrandRounds/loading-dock/items/328/|https://rollbar.com/GrandRounds/loading-dock/items/328/]

!image-20211020-201803.png|width=1340,height=966!

need to update {{findFailedPollsWithoutAlert}} to add in the email

[LD-576](https://grandrounds.atlassian.net/browse/LD-576)


=====================================================
Timestamp:  2021-10-20T16:50:17Z
Repository: ConsultingMD/loading-dock
PR #408: bump bronze sha

Description:



=====================================================
Timestamp:  2021-10-19T19:37:00Z
Repository: ConsultingMD/data-ops
PR #151: Terminate HSB Nevada Data Integration

Description:
https://doctorondemand.atlassian.net/browse/AN-64


=====================================================
Timestamp:  2021-10-15T18:40:16Z
Repository: ConsultingMD/potluck
PR #5051: [LD-566] escape special characters from the run_id

Description:

[LD-566](https://grandrounds.atlassian.net/browse/LD-566)


=====================================================
Timestamp:  2021-10-14T21:29:34Z
Repository: ConsultingMD/potluck
PR #5045: [LD-567] enable platform alerting for LD airflow

Description:

[LD-567](https://grandrounds.atlassian.net/browse/LD-567)


=====================================================
Timestamp:  2021-10-13T21:24:49Z
Repository: ConsultingMD/potluck
PR #5019: [LD-563] fix ds health report specs

Description:

[LD-563](https://grandrounds.atlassian.net/browse/LD-563)


=====================================================
Timestamp:  2021-10-13T17:11:41Z
Repository: ConsultingMD/potluck
PR #5012: [LD-562] join with the jarvis customer id instead of the loading dock one

Description:

[LD-562](https://grandrounds.atlassian.net/browse/LD-562)

this join should've been on the jarvis customer id instead of the ld one.


=====================================================
Timestamp:  2021-10-13T14:48:01Z
Repository: ConsultingMD/potluck
PR #5010: [LD-557] there are some old data sources that dont have a vendor associated to them

Description:
We need to refactor the health report to account for this.

context: https://grandrounds.slack.com/archives/C01D2EFT96D/p1634135189095100?thread_ts=1634083209.094000&cid=C01D2EFT96D

[LD-557](https://grandrounds.atlassian.net/browse/LD-557)


=====================================================
Timestamp:  2021-10-12T19:14:23Z
Repository: ConsultingMD/potluck
PR #4997: [LD-556] Remove unused ingestion tasks for legacy data sources and vendors

Description:
These ingestions tasks are not used by anything downstream and the upstream tooling that exports this is flaky and results in recurring PD alerts for ingestion failures.

[LD-556](https://grandrounds.atlassian.net/browse/LD-556)


=====================================================
Timestamp:  2021-10-12T17:45:13Z
Repository: ConsultingMD/potluck
PR #4996: Deprecate jarvis data_source_id field in favor of the LD one

Description:
Reverts ConsultingMD/potluck#4959


=====================================================
Timestamp:  2021-10-12T17:44:49Z
Repository: ConsultingMD/bronze
PR #2690: [LD-453] Deprecate jarvis data_source_id field in favor of the LD one

Description:
Reverts ConsultingMD/bronze#2685


=====================================================
Timestamp:  2021-10-11T17:40:37Z
Repository: ConsultingMD/loading-dock
PR #395: [LD-540] Fix typo

Description:
When a user performs a search for data sources, we should modify the url to match the search criteria. Also, when a url is submitted with search criteria, display the data sources list page with search criteria applied. This makes it easy to know what was searched for, and also allows the user to share these links with other users.

[LD-540](https://grandrounds.atlassian.net/browse/LD-540)


=====================================================
Timestamp:  2021-10-07T19:59:09Z
Repository: ConsultingMD/bronze
PR #2685: Revert "Revert "Revert "[LD-453] Deprecate jarvis data_source_id field in favor of the LD one"""

Description:
Reverts ConsultingMD/bronze#2673


=====================================================
Timestamp:  2021-10-07T19:58:51Z
Repository: ConsultingMD/potluck
PR #4959: Revert "Deprecate jarvis data_source_id field in favor of the LD one"""

Description:
Reverts ConsultingMD/potluck#4820


=====================================================
Timestamp:  2021-10-05T16:54:28Z
Repository: ConsultingMD/potluck
PR #4926: [LD-504] remove deprecated encrypted/compressed flags

Description:
Currently it looks like we only look at the encryption_type. If encryption_type is specified and encrypted is false, we still attempt a decrypt.

[LD-504](https://grandrounds.atlassian.net/browse/LD-504)


=====================================================
Timestamp:  2021-10-05T14:10:06Z
Repository: ConsultingMD/metropolis
PR #1558: [DATA-811] JSONDecodeError: Invalid control character when loading rTP audits

Description:
h3. [http://airflow.analytics.grandrounds.com:8080/admin/airflow/log?task_id=download_reverse_tp_and_load and dag_id=detect_reverse_tp_and_load and execution_date=2021-10-05T10:10:46.091324|http://airflow.analytics.grandrounds.com:8080/admin/airflow/log?task_id=download_reverse_tp_and_load and dag_id=detect_reverse_tp_and_load and execution_date=2021-10-05T10:10:46.091324]

{noformat}[2021-10-05 10:13:22,348] {models.py:1595} ERROR - Invalid control character at: line 145 column 680 (char 100295)
Traceback (most recent call last):
  File "/home/ubuntu/miniconda3/envs/metropolis_airflow/lib/python3.5/site-packages/airflow/models.py", line 1493, in _run_raw_task
    result = task_copy.execute(context=context)
  File "/home/ubuntu/miniconda3/envs/metropolis_airflow/lib/python3.5/site-packages/airflow/operators/python_operator.py", line 89, in execute
    return_value = self.execute_callable()
  File "/home/ubuntu/miniconda3/envs/metropolis_airflow/lib/python3.5/site-packages/airflow/operators/python_operator.py", line 94, in execute_callable
    return self.python_callable(*self.op_args, **self.op_kwargs)
  File "/home/ubuntu/metropolis/airflow/dags/lib/looker_to_db/reverse_tp_to_db.py", line 56, in load_audit_events
    for event in audit_events:
  File "/home/ubuntu/metropolis/airflow/dags/lib/iterators/audit_event_iterators.py", line 29, in __next__
    cursor_timestamp=self.cursor_timestamp, limit=self.api_limit
  File "/home/ubuntu/metropolis/airflow/dags/lib/clients/looker_client.py", line 71, in get_audit_events
    return json.loads(response.text.replace("\t", ""))
  File "/home/ubuntu/miniconda3/envs/metropolis_airflow/lib/python3.5/json/__init__.py", line 319, in loads
    return _default_decoder.decode(s)
  File "/home/ubuntu/miniconda3/envs/metropolis_airflow/lib/python3.5/json/decoder.py", line 339, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/home/ubuntu/miniconda3/envs/metropolis_airflow/lib/python3.5/json/decoder.py", line 355, in raw_decode
    obj, end = self.scan_once(s, idx)
json.decoder.JSONDecodeError: Invalid control character at: line 145 column 680 (char 100295)
[2021-10-05 10:13:22,348] {models.py:1595} ERROR - Invalid control character at: line 145 column 680 (char 100295)
Traceback (most recent call last):
  File "/home/ubuntu/miniconda3/envs/metropolis_airflow/lib/python3.5/site-packages/airflow/models.py", line 1493, in _run_raw_task
    result = task_copy.execute(context=context)
  File "/home/ubuntu/miniconda3/envs/metropolis_airflow/lib/python3.5/site-packages/airflow/operators/python_operator.py", line 89, in execute
    return_value = self.execute_callable()
  File "/home/ubuntu/miniconda3/envs/metropolis_airflow/lib/python3.5/site-packages/airflow/operators/python_operator.py", line 94, in execute_callable
    return self.python_callable(*self.op_args, **self.op_kwargs)
  File "/home/ubuntu/metropolis/airflow/dags/lib/looker_to_db/reverse_tp_to_db.py", line 56, in load_audit_events
    for event in audit_events:
  File "/home/ubuntu/metropolis/airflow/dags/lib/iterators/audit_event_iterators.py", line 29, in __next__
    cursor_timestamp=self.cursor_timestamp, limit=self.api_limit
  File "/home/ubuntu/metropolis/airflow/dags/lib/clients/looker_client.py", line 71, in get_audit_events
    return json.loads(response.text.replace("\t", ""))
  File "/home/ubuntu/miniconda3/envs/metropolis_airflow/lib/python3.5/json/__init__.py", line 319, in loads
    return _default_decoder.decode(s)
  File "/home/ubuntu/miniconda3/envs/metropolis_airflow/lib/python3.5/json/decoder.py", line 339, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/home/ubuntu/miniconda3/envs/metropolis_airflow/lib/python3.5/json/decoder.py", line 355, in raw_decode{noformat}

[DATA-811](https://grandrounds.atlassian.net/browse/DATA-811)


=====================================================
Timestamp:  2021-09-24T18:41:17Z
Repository: ConsultingMD/potluck
PR #4820: Deprecate jarvis data_source_id field in favor of the LD one""

Description:
Reverts ConsultingMD/potluck#4646


=====================================================
Timestamp:  2021-09-24T17:30:21Z
Repository: ConsultingMD/bronze
PR #2673: Revert "Revert "[LD-453] Deprecate jarvis data_source_id field in favor of the LD one""

Description:
Reverts ConsultingMD/bronze#2660


=====================================================
Timestamp:  2021-09-22T22:16:30Z
Repository: ConsultingMD/potluck
PR #4787: [LD-523] Update DS Health Report to use LD data source tables instead of the nightly looker/jarvis data source table

Description:

[LD-523](https://grandrounds.atlassian.net/browse/LD-523)


=====================================================
Timestamp:  2021-09-22T17:36:27Z
Repository: ConsultingMD/loading-dock
PR #372: [LD-542] Export the alert_after column of a data source

Description:

[LD-542](https://grandrounds.atlassian.net/browse/LD-542)


=====================================================
Timestamp:  2021-09-22T00:15:50Z
Repository: ConsultingMD/potluck
PR #4772: [LD-542] Export the alert_after column of a data source

Description:

[LD-542](https://grandrounds.atlassian.net/browse/LD-542)


=====================================================
Timestamp:  2021-09-22T00:06:40Z
Repository: ConsultingMD/loading-dock
PR #370: [LD-542] Export the alert_after column of a data source

Description:

[LD-542](https://grandrounds.atlassian.net/browse/LD-542)


=====================================================
Timestamp:  2021-09-17T22:41:58Z
Repository: ConsultingMD/loading-dock
PR #368: [LD-537] Not all the candidate vendor manifests are being updated when new exclusions are added

Description:
[https://grandrounds.slack.com/archives/CAPF33BEG/p1631886320081500?thread_ts=1631810008.060700 and cid=CAPF33BEG|https://grandrounds.slack.com/archives/CAPF33BEG/p1631886320081500?thread_ts=1631810008.060700 and cid=CAPF33BEG]

seems like theres still an issue in the manifest code thats not correctly picking refreshing the appropriate manifests.

File exclusion was added yesterday:

{noformat}

loading_dock_prod=> select * from file_exclusion where file ilike  %GrandRounds_HoosierEnergy_MedicalClaims_WBWC364P_20210914_132838% 


=====================================================
Timestamp:  2021-09-17T21:51:14Z
Repository: ConsultingMD/potluck
PR #4735: [LD-538] double quotes in the json columns are preventing the data from loading into potluck

Description:

[LD-538](https://grandrounds.atlassian.net/browse/LD-538)

Followed https://github.com/ConsultingMD/potluck/pull/4547


=====================================================
Timestamp:  2021-09-16T20:21:42Z
Repository: ConsultingMD/loading-dock
PR #367: [LD-525] exporting the poll_event table results in java.lang.OutOfMemoryError: GC overhead limit exceeded

Description:
[https://rollbar.com/GrandRounds/loading-dock/items/268|https://rollbar.com/GrandRounds/loading-dock/items/268]

Once this if fixed also add this table to the {{DEFAULT_EXPORTS}} list.

!image-20210910-182419.png|width=1249,height=1160!

[LD-525](https://grandrounds.atlassian.net/browse/LD-525)


=====================================================
Timestamp:  2021-09-16T16:56:22Z
Repository: ConsultingMD/loading-dock
PR #365: [LD-531] Bump Bronze SHA

Description:
PR here: [https://github.com/ConsultingMD/bronze/pull/2662#issuecomment-919392518|https://github.com/ConsultingMD/bronze/pull/2662#issuecomment-919392518]

Data sources to revalidate: [https://grandrounds.slack.com/archives/C01BQNYQS67/p1631642932153600?thread_ts=1631642834.153300 and cid=C01BQNYQS67|https://grandrounds.slack.com/archives/C01BQNYQS67/p1631642932153600?thread_ts=1631642834.153300 and cid=C01BQNYQS67]

Notes:

After the PR is merged:

* Update bronze sha in LD
* trigger a file_spec backfill
* revalidate candidate data sources

[LD-531](https://grandrounds.atlassian.net/browse/LD-531)


=====================================================
Timestamp:  2021-09-15T21:12:53Z
Repository: ConsultingMD/potluck
PR #4712: [LD-528] define ingestor for poll_event

Description:

[LD-528](https://grandrounds.atlassian.net/browse/LD-528)

Needs https://grandrounds.atlassian.net/browse/LD-525 to be merged first. Marking as draft for now


=====================================================
Timestamp:  2021-09-14T00:34:47Z
Repository: ConsultingMD/potluck
PR #4696: [LD-522] Define potluck ingestors for LD tables

Description:
data_source
customer
vendor
poll
poll_event

[LD-522](https://grandrounds.atlassian.net/browse/LD-522)

should fix https://catalog-airflow-webserver.production.grnds.com/log?dag_id=loading_dock.ingest_customer&task_id=ingest_foundation&execution_date=2021-09-14T00%3A20%3A33.310921%2B00%3A00


=====================================================
Timestamp:  2021-09-13T23:32:52Z
Repository: ConsultingMD/potluck
PR #4691: [LD-522] Define potluck ingestors for LD tables

Description:
data_source
customer
vendor
poll
poll_event

[LD-522](https://grandrounds.atlassian.net/browse/LD-522)


=====================================================
Timestamp:  2021-09-13T23:12:57Z
Repository: ConsultingMD/loading-dock
PR #363: [LD-529] create sentinel file for each table exported

Description:

[LD-529](https://grandrounds.atlassian.net/browse/LD-529)


=====================================================
Timestamp:  2021-09-13T22:33:15Z
Repository: ConsultingMD/potluck
PR #4688: Revert "[LD-522] Define potluck ingestors for LD tables"

Description:
Reverts ConsultingMD/potluck#4673

After merging master started failing with https://app.circleci.com/pipelines/github/ConsultingMD/potluck/19836/workflows/ed7026bd-410b-499f-a898-d66271f8a8da/jobs/175141

```
google.protobuf.text_format.ParseError: 32:7 : Field "prefix" is specified along with field "is_relative", another member of oneof "resolution" for message type "com.grandrounds.proto.catalog.IngestionInput.SentinelFile".
```


=====================================================
Timestamp:  2021-09-13T19:20:00Z
Repository: ConsultingMD/loading-dock
PR #362: Revert "[LD-525] write directly to tmp files."

Description:
Reverts ConsultingMD/loading-dock#361

https://rollbar.com/GrandRounds/loading-dock/items/277 and https://rollbar.com/GrandRounds/loading-dock/items/276 started occurring after deploying this.


=====================================================
Timestamp:  2021-09-10T23:18:28Z
Repository: ConsultingMD/potluck
PR #4676: [LD-527] Give Ingester access to LD bucket

Description:

[LD-527](https://grandrounds.atlassian.net/browse/LD-527)


=====================================================
Timestamp:  2021-09-10T21:22:09Z
Repository: ConsultingMD/potluck
PR #4673: [LD-522] Define potluck ingestors for LD tables

Description:
data_source
customer
vendor
poll

[LD-522](https://grandrounds.atlassian.net/browse/LD-522)


=====================================================
Timestamp:  2021-09-10T19:17:25Z
Repository: ConsultingMD/potluck
PR #4668: [LD-494] Create event to track all fixed width files greater than the expected fixedWidthRecordLength

Description:
With LD-493, all fixed width files of a greater than or equal length to the fixedWidthRecordLength will be considered valid. When the length is greater than this value, we want to create a poll event for tracking purposes because this could be beneficial to know for the future.

Create an event "FileWidthGreaterThanFixedWidthSpec" and emit this poll event when a file is detected with a length greater than the fixedWidthRecordLength in the FixedWidthLengthValidator.

[LD-494](https://grandrounds.atlassian.net/browse/LD-494)


=====================================================
Timestamp:  2021-09-10T19:15:10Z
Repository: ConsultingMD/loading-dock
PR #359: [LD-526] Remove poll_event from the default exports

Description:
Related: https://grandrounds.atlassian.net/browse/LD-525

[LD-526](https://grandrounds.atlassian.net/browse/LD-526)


=====================================================
Timestamp:  2021-09-10T01:03:08Z
Repository: ConsultingMD/jarvis
PR #15461: [DATA-797] Guard against no data_source found so it can check the else clause 

Description:
https://rollbar.com/GrandRounds/jarvis/items/31104

LD will become the SOR for data sources soon and jarvis data_sources will be deprecated.

context: https://grandrounds.slack.com/archives/CCVH1SSNN/p1631229363002400

[DATA-797](https://grandrounds.atlassian.net/browse/DATA-797)


=====================================================
Timestamp:  2021-09-09T21:49:37Z
Repository: ConsultingMD/loading-dock
PR #358: [LD-521] Add support to export customers and vendors tables to s3

Description:

[LD-521](https://grandrounds.atlassian.net/browse/LD-521)


=====================================================
Timestamp:  2021-09-09T20:19:23Z
Repository: ConsultingMD/loading-dock
PR #357: [LD-521] Add support to export customer and vendor tables to s3

Description:

[LD-521](https://grandrounds.atlassian.net/browse/LD-521)


=====================================================
Timestamp:  2021-09-09T17:24:08Z
Repository: ConsultingMD/potluck
PR #4648: [LD-520] Create dag that exports default ld tables to s3

Description:

[LD-520](https://grandrounds.atlassian.net/browse/LD-520)


=====================================================
Timestamp:  2021-09-09T16:23:06Z
Repository: ConsultingMD/potluck
PR #4646: Revert "[LD-453] Deprecate jarvis data_source_id field in favor of the LD one"

Description:
Reverts ConsultingMD/potluck#4594


=====================================================
Timestamp:  2021-09-09T16:22:31Z
Repository: ConsultingMD/bronze
PR #2660: Revert "[LD-453] Deprecate jarvis data_source_id field in favor of the LD one"

Description:
Reverts ConsultingMD/bronze#2653


=====================================================
Timestamp:  2021-09-08T19:04:40Z
Repository: ConsultingMD/loading-dock
PR #353: [LD-506] Look into adding lifecycle delete policy for s3 versioned buckets

Description:

[LD-506](https://grandrounds.atlassian.net/browse/LD-506)


=====================================================
Timestamp:  2021-09-08T17:57:58Z
Repository: ConsultingMD/potluck
PR #4638: [LD-519] Update manifest generation dags to run after PST working hours and before the bronze run kicks off

Description:

[LD-519](https://grandrounds.atlassian.net/browse/LD-519)
https://savvytime.com/converter/utc-to-pdt


=====================================================
Timestamp:  2021-09-04T00:51:00Z
Repository: ConsultingMD/potluck
PR #4610: [LD-478] Deprecate legacy data source alarms that LD will take over from

Description:

[LD-478](https://grandrounds.atlassian.net/browse/LD-478)


=====================================================
Timestamp:  2021-09-02T22:53:50Z
Repository: ConsultingMD/potluck
PR #4597: [LD-512] Update DS Health Report task to support LD squelches

Description:

[LD-512](https://grandrounds.atlassian.net/browse/LD-512)


=====================================================
Timestamp:  2021-09-02T20:19:40Z
Repository: ConsultingMD/potluck
PR #4594: [LD-453] Deprecate jarvis data_source_id field in favor of the LD one

Description:
At least, the absence of a value in this field should not fail the Bronze pipeline.

[LD-453](https://grandrounds.atlassian.net/browse/LD-453)
Related: https://grandrounds.atlassian.net/browse/DF-4097

Bronze PR: https://github.com/ConsultingMD/bronze/pull/2653


=====================================================
Timestamp:  2021-09-02T20:19:21Z
Repository: ConsultingMD/bronze
PR #2653: [LD-453] Deprecate jarvis data_source_id field in favor of the LD one

Description:
At least, the absence of a value in this field should not fail the Bronze pipeline.

[LD-453](https://grandrounds.atlassian.net/browse/LD-453)
Related: https://grandrounds.atlassian.net/browse/DF-4097

Potluck PR: https://github.com/ConsultingMD/potluck/pull/4594


=====================================================
Timestamp:  2021-09-02T16:30:28Z
Repository: ConsultingMD/potluck
PR #4589: [LD-510] remove sla for claims v1 manifest ingest task

Description:

[LD-510](https://grandrounds.atlassian.net/browse/LD-510)


=====================================================
Timestamp:  2021-09-02T15:07:42Z
Repository: ConsultingMD/bronze
PR #2652: [LD-509] bronze claims orchestrator is using `canonicalized` as the claims bronze type and cant find the claims LD manifest

Description:

[LD-509](https://grandrounds.atlassian.net/browse/LD-509)

```
2021-09-01T22:02:32.023-07:00Copy2021-09-02 05:02:31 INFO  LoadingDockManifestPipelineStage:52 - Reading sentinel contents at s3://grnds-production-loading-dock-manifest/build/canonicalized/sentinel.txt | 2021-09-02 05:02:31 INFO LoadingDockManifestPipelineStage:52 - Reading sentinel contents at s3://grnds-production-loading-dock-manifest/build/canonicalized/sentinel.txt
 | 2021-09-01T22:02:32.023-07:00 | 2021-09-02 05:02:31 ERROR Tool:171 - Error running pipeline stage: loading-dock-manifest: The specified key does not exist. (Service: Amazon S3; Status Code: 404; Error Code: NoSuchKey; Request ID: E03K0CD2Z8690EMP; S3 Extended Request ID: e/vTIBBTFszxxqPJmHi81nZh+Ux++C3PMnb9k27jVg91zcOTnRgewO95xSrWtk7iYF/L+pZrbYE=)
 | 2021-09-01T22:02:32.023-07:00 | com.amazonaws.services.s3.model.AmazonS3Exception: The specified key does not exist. (Service: Amazon S3; Status Code: 404; Error Code: NoSuchKey; Request ID: E03K0CD2Z8690EMP; S3 Extended Request ID: e/vTIBBTFszxxqPJmHi81nZh+Ux++C3PMnb9k27jVg91zcOTnRgewO95xSrWtk7iYF/L+pZrbYE=), S3 Extended Request ID: e/vTIBBTFszxxqPJmHi81nZh+Ux++C3PMnb9k27jVg91zcOTnRgewO95xSrWtk7iYF/L+pZrbYE=
```

<br class="Apple-interchange-newline">


=====================================================
Timestamp:  2021-09-01T18:09:15Z
Repository: ConsultingMD/loading-dock
PR #345: [LD-505] Update production_jarvis_data_sources_additional_data.csv to set the correct compression/encryption type on all domains

Description:
For coverage data sources, some of these may have reverted and will need to potentially have the data corrected and the correct configuration reset for these data sources.

[LD-505](https://grandrounds.atlassian.net/browse/LD-505)


=====================================================
Timestamp:  2021-09-01T00:12:14Z
Repository: ConsultingMD/potluck
PR #4568: [LD-422] Launch LD for Claims

Description:
[LD-422](https://grandrounds.atlassian.net/browse/LD-422)

Bronze: https://github.com/ConsultingMD/bronze/pull/2650


=====================================================
Timestamp:  2021-08-31T23:57:14Z
Repository: ConsultingMD/bronze
PR #2650: [LD-422] Launch LD for Claims

Description:
[LD-422](https://grandrounds.atlassian.net/browse/LD-422)

Potluck: https://github.com/ConsultingMD/potluck/pull/4568


=====================================================
Timestamp:  2021-08-31T22:20:57Z
Repository: ConsultingMD/potluck
PR #4563: [LD-501] Add Alarms for LD Airflow

Description:
[LD-501](https://grandrounds.atlassian.net/browse/LD-501)


=====================================================
Timestamp:  2021-08-31T22:14:38Z
Repository: ConsultingMD/potluck
PR #4562: [LD-501] Add Alarms for LD Airflow

Description:
[LD-501](https://grandrounds.atlassian.net/browse/LD-501)


=====================================================
Timestamp:  2021-08-31T21:48:39Z
Repository: ConsultingMD/loading-dock
PR #344: [LD-503] Enable versioning for the LD aws s3 bucket

Description:
[LD-503](https://grandrounds.atlassian.net/browse/LD-503)

Related: https://github.com/ConsultingMD/DPW/pull/1349


=====================================================
Timestamp:  2021-08-31T21:45:13Z
Repository: ConsultingMD/DPW
PR #1349: [LD-503] Add versioning support to the aws s3 bucket module

Description:

[LD-503](https://grandrounds.atlassian.net/browse/LD-503)


=====================================================
Timestamp:  2021-08-31T01:14:02Z
Repository: ConsultingMD/loading-dock
PR #342: bump bronze sha

Description:



=====================================================
Timestamp:  2021-08-30T21:56:05Z
Repository: ConsultingMD/potluck
PR #4536: [LD-497] circle ci task randomly fails

Description:
[https://app.circleci.com/pipelines/github/ConsultingMD/potluck/19241/workflows/0fab76cf-2469-46e4-b492-8d4585078088/jobs/167789|https://app.circleci.com/pipelines/github/ConsultingMD/potluck/19241/workflows/0fab76cf-2469-46e4-b492-8d4585078088/jobs/167789] (green build)
[https://app.circleci.com/pipelines/github/ConsultingMD/potluck/19239/workflows/30c5fd7c-fbfb-42de-9d70-6fba6f63cde3/jobs/167754|https://app.circleci.com/pipelines/github/ConsultingMD/potluck/19239/workflows/30c5fd7c-fbfb-42de-9d70-6fba6f63cde3/jobs/167754] (red build)


Fix: https://github.com/docker-library/php/issues/1192#issuecomment-902366923


[https://github.com/docker-library/php/issues/1192|https://github.com/docker-library/php/issues/1192|smart-link] 

[LD-497](https://grandrounds.atlassian.net/browse/LD-497)


=====================================================
Timestamp:  2021-08-30T17:55:19Z
Repository: ConsultingMD/potluck
PR #4532: [LD-492] Increase heap memory on revalidate command

Description:
Increase heap memory to at least 4G.

[LD-492](https://grandrounds.atlassian.net/browse/LD-492)

only doing it for the dag that needs it for now.


=====================================================
Timestamp:  2021-08-28T00:00:37Z
Repository: ConsultingMD/potluck
PR #4522: [LD-491] Give LD compute jobs more memory

Description:

[LD-491](https://grandrounds.atlassian.net/browse/LD-491)


=====================================================
Timestamp:  2021-08-27T02:31:26Z
Repository: ConsultingMD/potluck
PR #4510: [LD-487] If the data_source is not a collection, assume that the file_spec associated to it matches all files for it

Description:
Update the match logic such that if the data source is not collection, then always assume the single file_spec for it will always match (irregardless of the file_name_pattern matching)



File {{"s3://grnds-production-claims-sse-raw/uhc/travelers/test_claims/travelmedclm06302019.txt/c48095b7-61e3-4f52-8e50-5d7f9128ed2c"}} shows in {{missingLoadingDockEntries}} from the claims verify manifest run. Looking at the poll_events for this file:

{noformat}loading_dock_prod=> select pe.id, p.data_source_id, event, metadata, pe.created_at from poll_event pe join poll p on pe.poll_id = p.id and pe.created_at > 2021-08-24 and metadata->>file ilike %travelmedclm06302019% order by id asc


=====================================================
Timestamp:  2021-08-25T17:57:24Z
Repository: ConsultingMD/bronze
PR #2639: [DF-4113] Bind File Naming Convention Update

Description:
I received notification from Bind that their file naming convention will be changing, effective 9/1/21.

Old file naming convention:
BIND_target_MCLAIMS_prod_YYYYMMDD######.txt.pgp

(note that target could be any customer name)

New file naming convention:
bind_grandrounds_mclaims_prod_date_tgt_000001.txt

(note that tgt will be a 3 letter code for each customer)

I believe we will need to do some DF work to properly ingest the files with the new filenames.


[DF-4113](https://grandrounds.atlassian.net/browse/DF-4113)

New strategy added supports both files: https://rubular.com/r/t3NDF0XI4AfBHL


=====================================================
Timestamp:  2021-08-25T00:25:22Z
Repository: ConsultingMD/loading-dock
PR #331: move down in order so the headers are applied

Description:
quick bandage fix


=====================================================
Timestamp:  2021-08-24T23:23:49Z
Repository: ConsultingMD/loading-dock
PR #330: bump bronze sha

Description:



=====================================================
Timestamp:  2021-08-24T19:51:55Z
Repository: ConsultingMD/potluck
PR #4452: [LD-476] remove SLA for v1 ingestions tasks of bronze types that have been switched over to LD

Description:

[LD-476](https://grandrounds.atlassian.net/browse/LD-476)


=====================================================
Timestamp:  2021-08-20T22:44:40Z
Repository: ConsultingMD/loading-dock
PR #321: bump bronze sha

Description:



=====================================================
Timestamp:  2021-08-20T18:52:22Z
Repository: ConsultingMD/loading-dock
PR #320: [LD-462] Claims verification

Description:



=====================================================
Timestamp:  2021-08-19T23:26:45Z
Repository: ConsultingMD/loading-dock
PR #316: [LD-462] Claims verification

Description:
https://grandrounds.atlassian.net/browse/LD-462


=====================================================
Timestamp:  2021-08-19T22:14:30Z
Repository: ConsultingMD/loading-dock
PR #315: [LD-462] Claims verification

Description:
https://grandrounds.atlassian.net/browse/LD-462


=====================================================
Timestamp:  2021-08-18T21:26:09Z
Repository: ConsultingMD/loading-dock
PR #311: bump bronze sha

Description:



=====================================================
Timestamp:  2021-08-17T21:00:00Z
Repository: ConsultingMD/potluck
PR #4389: [LD-258] Add alert_after flag to data_sources

Description:
See [https://grandrounds.atlassian.net/browse/DF-3979|https://grandrounds.atlassian.net/browse/DF-3979] 

When set, use this value to determine if we need to emit a datasource missed expected frequency alert, if not use default tolerances

* Add flag to data_sources
* Update alert logic to check this flag when generating alerts

[LD-258](https://grandrounds.atlassian.net/browse/LD-258)

accompanying to https://github.com/ConsultingMD/loading-dock/pull/308


=====================================================
Timestamp:  2021-08-11T21:45:21Z
Repository: ConsultingMD/bronze
PR #2623: [LD-423] Launch LD for Coverage

Description:

[LD-423](https://grandrounds.atlassian.net/browse/LD-423)


=====================================================
Timestamp:  2021-08-11T21:45:06Z
Repository: ConsultingMD/potluck
PR #4332: [LD-423] Launch LD for Coverage

Description:

[LD-423](https://grandrounds.atlassian.net/browse/LD-423)


=====================================================
Timestamp:  2021-08-11T17:07:38Z
Repository: ConsultingMD/loading-dock
PR #303: [LD-452] Handle empty string explicit_date values

Description:

[LD-452](https://grandrounds.atlassian.net/browse/LD-452)

Potluck PR: https://github.com/ConsultingMD/potluck/pull/4329


=====================================================
Timestamp:  2021-08-11T17:05:46Z
Repository: ConsultingMD/potluck
PR #4329: [LD-452] Handle empty string explicit_date values

Description:
[LD-452](https://grandrounds.atlassian.net/browse/LD-452)

LD PR: https://github.com/ConsultingMD/loading-dock/pull/303


=====================================================
Timestamp:  2021-08-10T23:20:28Z
Repository: ConsultingMD/loading-dock
PR #300: bump bronze sha

Description:



=====================================================
Timestamp:  2021-08-10T16:33:38Z
Repository: ConsultingMD/bronze
PR #2620: [LD-444] add support for the squelched manifest column in the DS health report

Description:

[LD-444](https://grandrounds.atlassian.net/browse/LD-444)


=====================================================
Timestamp:  2021-08-06T23:28:23Z
Repository: ConsultingMD/potluck
PR #4287: [LD-444] add support for the squelched manifest column in the DS health report

Description:

[LD-444](https://grandrounds.atlassian.net/browse/LD-444)


=====================================================
Timestamp:  2021-08-05T21:29:06Z
Repository: ConsultingMD/loading-dock
PR #295: [LD-440] implement start_date_for_frequency with tolerances for the expected frequencies to not generate false positive alerts

Description:
    expected-frequency-missed query works via postman
      there are a lot of false positives
      - LD doesnt use any tolerances for the expected_frequency (like potluck does)
          well want to modify start_date_for_frequency to include the tolerance
      - there were a bunch of entries for datasources that need to be disabled/soft deleted
          Ive disabled/soft deleted them
```sql
SELECT counted.id AS ds_id,
         counted.slug AS ds_slug,
         counted.expected_frequency AS ds_expected_frequency,
         counted.start_date AS ds_start_date,
         counted.as_id AS as_id,
         counted.pagerduty_user_id AS as_pagerduty_user_id,
         counted.presentable_name AS as_presentable_name,
         counted.ds_owner AS ds_owner,
         counted.ds_jarvis_id AS ds_jarvis_id,
         counted.c_jarvis_id AS c_jarvis_id
FROM
    (SELECT DISTINCT ds.id,
         ds.slug,
         ds.expected_frequency,
         ds.start_date,
         ds.jarvis_id AS ds_jarvis_id,
         c.jarvis_id AS c_jarvis_id,
         dss.owner AS ds_owner,
         asu.id AS as_id,
         asu.pagerduty_user_id,
         asu.presentable_name,
         COUNT(p.id) FILTER (
    WHERE p.status = cast('done' AS poll_status)
            AND p.created_at
        BETWEEN start_date_for_frequency(localtimestamp, ds.expected_frequency)
            AND localtimestamp )
        OVER (PARTITION BY ds.id, ds.slug, ds.expected_frequency, ds.start_date, ds.jarvis_id, dss.owner, asu.pagerduty_user_id, asu.presentable_name ) AS done_count
    FROM data_source ds LEFT OUTER
    JOIN poll p
        ON ds.id = p.data_source_id LEFT OUTER
    JOIN data_source_subscription dss
        ON dss.data_source_id = ds.id LEFT OUTER
    JOIN alerting_subscriber asu
        ON asu.id = dss.alerting_subscriber_id LEFT OUTER
    JOIN customer c
        ON c.id = ds.customer_id LEFT OUTER
    JOIN alert al
        ON al.data_source_id = ds.id
            AND al.type = cast('expected_frequency_missed' AS alert_type)
            AND al.status = cast('active' AS alert_status)
    WHERE localtimestamp > ds.start_date
            AND ds.start_date < start_date_for_frequency(localtimestamp, ds.expected_frequency)
            AND (ds.end_date IS NULL
            OR localtimestamp < ds.end_date)
            AND ds.deleted_at IS NULL
            AND ds.disabled IS FALSE
            AND ds.one_time IS FALSE
            AND (al.created_at IS NULL
            OR al.created_at <= start_date_for_frequency(localtimestamp, ds.expected_frequency)) ) AS counted
WHERE counted.done_count = 0 
```
yields
```sql
 ds_id |                        ds_slug                         | ds_expected_frequency |    ds_start_date    | as_id | as_pagerduty_user_id | as_presentable_name | ds_owner | ds_jarvis_id | c_jarvis_id
-------+--------------------------------------------------------+-----------------------+---------------------+-------+----------------------+---------------------+----------+--------------+-------------
   493 | healthscope-benefits-walmart-testclaims                | weekly                | 2019-03-29 18:55:29 |     4 | PZJ5JQS              | Abhinav Praneet     | t        |          538 |         127
   286 | cvs-caremark-thehomedepotmainland-rxclaims             | 30_days               | 2017-08-03 19:10:02 |     4 | PZJ5JQS              | Abhinav Praneet     | t        |          345 |         172
   629 | anthemdaily-thehomedepotmainland-testclaims            | daily                 | 2020-08-17 14:33:54 |     4 | PZJ5JQS              | Abhinav Praneet     | t        |          667 |         172
   506 | customer-walmartnwardallasftworthcentralfl-eligibility | bi_weekly             | 2019-12-06 21:06:59 |     4 | PZJ5JQS              | Abhinav Praneet     | t        |          551 |         277
   505 | customer-walmartnorthsouthcarolina-eligibility         | bi_weekly             | 2019-12-06 21:06:59 |     4 | PZJ5JQS              | Abhinav Praneet     | t        |          550 |         278
   504 | customer-walmartcoloradowisconsinminnesota-eligibility | bi_weekly             | 2019-12-06 21:07:00 |     4 | PZJ5JQS              | Abhinav Praneet     | t        |          549 |         279
   503 | bcbs-ardaily-walmart-personalhealthstatements          | quarterly             | 2019-10-31 20:42:45 |     4 | PZJ5JQS              | Abhinav Praneet     | t        |          548 |         127
    39 | cvs-caremark-nielsen-rxclaims                          | weekly                | 2016-02-26 16:08:11 |     4 | PZJ5JQS              | Abhinav Praneet     | t        |           61 |          89
  1224 | meritain-cityofportland-rxclaims                       | weekly                | 1900-01-01 00:00:00 |     4 | PZJ5JQS              | Abhinav Praneet     | t        |          840 |         341
  1223 | meritain-cityofportland-testclaims                     | weekly                | 1900-01-01 00:00:00 |     4 | PZJ5JQS              | Abhinav Praneet     | t        |          839 |         341
   107 | customer-walmart-eligibility                           | bi_weekly             | 2016-12-21 06:46:16 |     4 | PZJ5JQS              | Abhinav Praneet     | t        |          179 |         127
   139 | uhc-walmart-testclaims                                 | 30_days               | 2016-01-04 23:22:02 |     4 | PZJ5JQS              | Abhinav Praneet     | t        |          216 |         127
   697 | anthem-travelers-testclaims                            | weekly                | 1900-01-01 00:00:00 |     4 | PZJ5JQS              | Abhinav Praneet     | t        |          732 |         190
   696 | cvs-caremark-travelers-rxclaims                        | weekly                | 2020-11-20 00:15:03 |     4 | PZJ5JQS              | Abhinav Praneet     | t        |          731 |         190
   674 | cvs-caremark-cognizant-rxclaims                        | daily                 | 1900-01-01 00:00:00 |     4 | PZJ5JQS              | Abhinav Praneet     | t        |          709 |         236
   645 | umr-windstream-testclaims                              | weekly                | 2020-10-07 19:29:08 |     4 | PZJ5JQS              | Abhinav Praneet     | t        |          683 |         312
   637 | imagine-health-thehomedepotmainland-carriereligibility | daily                 | 2020-09-23 04:04:11 |     4 | PZJ5JQS              | Abhinav Praneet     | t        |          675 |         172
    30 | truven-target-rxclaims                                 | 30_days               | 2015-12-10 09:12:31 |     5 | PL8SCNR              | Austin Berbereia    | t        |           46 |          12
   319 | cigna-concordiaplanservices-testclaims                 | 30_days               | 2018-02-21 12:02:03 |     5 | PL8SCNR              | Austin Berbereia    | t        |          380 |         191
   618 | bcbs-ardaily-tysonfoods-testclaims                     | daily                 | 2020-07-24 22:38:40 |     5 | PL8SCNR              | Austin Berbereia    | t        |          656 |         310
   608 | cvs-caremark-tysonfoods-rxclaims                       | daily                 | 2020-05-22 11:44:49 |     5 | PL8SCNR              | Austin Berbereia    | t        |          648 |         310
    67 | cvs-caremark-target-rxclaims                           | bi_weekly             | 2016-03-29 19:54:55 |     5 | PL8SCNR              | Austin Berbereia    | t        |          114 |          12
   435 | cvs-caremark-questdiagnostics-rxclaims                 | monthly               | 2019-01-08 08:39:49 |     5 | PL8SCNR              | Austin Berbereia    | t        |          483 |         109
   739 | aetna-meredithcorporation-testclaims                   | monthly               | 1900-01-01 00:00:00 |     6 | PPMHE67              | Connor White        | t        |          772 |         324
   549 | health-partners-turck-testclaims                       | quarterly             | 2020-02-06 16:37:36 |     6 | PPMHE67              | Connor White        | t        |          593 |         292
   934 | highmark-riteaid-testclaims-1                          | weekly                | 1900-01-01 00:00:00 |     6 | PPMHE67              | Connor White        | t        |          812 |         336
   989 | cvs-caremark-shelloil-rxclaims                         | monthly               | 1900-01-01 00:00:00 |     7 | P4XE0OZ              | Lindsey Gulla       | t        |          815 |         335
   232 | aetna-hilti-rxclaims                                   | 30_days               | 2017-05-19 13:56:40 |     7 | P4XE0OZ              | Lindsey Gulla       | t        |          295 |         108
    40 | cvs-caremark-phillips66-rxclaims                       | bi_weekly             | 2018-10-09 17:37:57 |     8 | PGKRJF5              | Miranda Forbes      | t        |           62 |          80
   152 | cvs-caremark-johnsonfinancialgroup-rxclaims            | bi_weekly             | 2017-01-20 17:07:10 |     8 | PGKRJF5              | Miranda Forbes      | t        |          229 |         141
   925 | anthem-generaldynamicsgeneral-testclaims               | monthly               | 1900-01-01 00:00:00 |     8 | PGKRJF5              | Miranda Forbes      | t        |          811 |         149
   575 | optum-pregis-rxclaims                                  | monthly               | 2020-04-01 14:27:02 |     9 | PDO3J2F              | Nicholas Albrecht   | t        |          617 |         284
   408 | cigna-stantec-testclaims                               | monthly               | 2018-12-18 09:57:32 |     9 | PDO3J2F              | Nicholas Albrecht   | t        |          458 |         233
   178 | customer-salesforce-eligibility                        | weekly                | 2017-03-23 21:35:59 |     9 | PDO3J2F              | Nicholas Albrecht   | t        |          256 |         164
   521 | cvs-caremark-salesforce-rxclaims                       | monthly               | 2019-12-17 20:01:55 |     9 | PDO3J2F              | Nicholas Albrecht   | t        |          565 |         164
   448 | costco-health-solutions-costcomainland-rxclaims        | weekly                | 2019-01-23 21:28:00 |     9 | PDO3J2F              | Nicholas Albrecht   | t        |          495 |           8
   482 | uhc-vfcorp-testclaims                                  | monthly               | 2019-10-18 00:12:05 |    10 | PSKM9L2              | Shahayra Majumder   | t        |          527 |         261
   597 | cvs-caremark-colgate-rxclaims                          | 30_days               | 2020-04-03 22:15:02 |    10 | PSKM9L2              | Shahayra Majumder   | t        |          638 |         270
   616 | cvs-caremark-kellogg-rxclaims                          | weekly                | 2020-07-07 13:03:28 |    10 | PSKM9L2              | Shahayra Majumder   | t        |          654 |         247
   621 | cigna-stateofcolorado-testclaims                       | monthly               | 2020-08-20 10:38:35 |    10 | PSKM9L2              | Shahayra Majumder   | t        |          659 |         252
   155 | cvs-caremark-childrenshealth-rxclaims                  | weekly                | 2016-11-22 20:10:43 |    10 | PSKM9L2              | Shahayra Majumder   | t        |          232 |         134
    26 | cvs-caremark-comcast-rxclaims                          | bi_weekly             | 2015-12-01 11:16:31 |    10 | PSKM9L2              | Shahayra Majumder   | t        |           40 |           3
    54 | cvs-caremark-scjohnson-rxclaims                        | weekly                | 2016-04-06 14:52:54 |    10 | PSKM9L2              | Shahayra Majumder   | t        |           91 |          92
   311 | cvs-caremark-amcor-rxclaims                            | 30_days               | 2018-02-01 11:18:24 |     3 | PWPYQ3T              | Steven Ye           | t        |          373 |         136
   494 | premera-blue-cross-paccar-eligibility                  | weekly                | 2019-10-28 23:03:00 |     3 | PWPYQ3T              | Steven Ye           | t        |          539 |         272
   340 | uhc-att-testclaims                                     | 30_days               | 2018-04-04 03:04:00 |     3 | PWPYQ3T              | Steven Ye           | t        |          397 |         194
   722 | compsych-hp-testclaims                                 | daily                 | 1900-01-01 00:00:00 |     3 | PWPYQ3T              | Steven Ye           | t        |          757 |         271
   342 | cvs-caremark-att-rxclaims                              | 30_days               | 2018-04-05 04:37:34 |     3 | PWPYQ3T              | Steven Ye           | t        |          399 |         194
   280 | cvs-caremark-fortive-rxclaims                          | 30_days               | 2017-10-26 16:47:54 |     3 | PWPYQ3T              | Steven Ye           | t        |          340 |         178
   556 | umr-grandrounds-testclaims                             | weekly                | 2020-02-14 15:01:58 |     3 | PWPYQ3T              | Steven Ye           | t        |          598 |           1
  2172 | cigna-electronicartsactiveplanenrolled-rxclaims        | weekly                | 1900-01-01 00:00:00 |       |                      |                     |          |          845 |         342
(51 rows)
```
Ignoring all the claims/elig ones since these have yet to be revalidated. There's only one real one which is for carrier eligibility. This [same alert](https://grand-rounds.pagerduty.com/incidents/P2YKWL5) can be found in the existing DS health report. To confirm that the tolerance multipliers work successfully and is at parity with existing `file_not_polled` alert.


[LD-440](https://grandrounds.atlassian.net/browse/LD-440)


=====================================================
Timestamp:  2021-08-03T21:25:24Z
Repository: ConsultingMD/loading-dock
PR #289: comment this out + hardcode to get build to succeed

Description:
Broke in https://grandrounds.atlassian.net/browse/LD-381

https://github.com/ConsultingMD/loading-dock/pull/287

This gets it to build successfully again. @vladimir-grexa-vicert please clean up further (in a separate ticket) with a better fix if available.


=====================================================
Timestamp:  2021-08-02T22:54:32Z
Repository: ConsultingMD/potluck
PR #4226: [LD-421] Launch LD for Carrier Coverage

Description:

[LD-421](https://grandrounds.atlassian.net/browse/LD-421)


=====================================================
Timestamp:  2021-08-02T22:52:04Z
Repository: ConsultingMD/bronze
PR #2611: [LD-421] Launch LD for Carrier Coverage

Description:

[LD-421](https://grandrounds.atlassian.net/browse/LD-421)


=====================================================
Timestamp:  2021-07-28T21:13:45Z
Repository: ConsultingMD/potluck
PR #4194: [LD-420] Launch LD for Authorization

Description:

[LD-420](https://grandrounds.atlassian.net/browse/LD-420)


=====================================================
Timestamp:  2021-07-28T21:01:17Z
Repository: ConsultingMD/bronze
PR #2608: [LD-420] Launch LD for Authorization

Description:

[LD-420](https://grandrounds.atlassian.net/browse/LD-420)


=====================================================
Timestamp:  2021-07-27T18:09:18Z
Repository: ConsultingMD/potluck
PR #4174: [LD-408] Take ownership of raw.<data_sources/vendors> + remove unneeded sla

Description:
[LD-408](https://grandrounds.atlassian.net/browse/LD-408)

https://github.com/ConsultingMD/potluck/pull/4166#issuecomment-887715068


=====================================================
Timestamp:  2021-07-26T23:51:13Z
Repository: ConsultingMD/potluck
PR #4166: [LD-408] Take ownership of data_source_health_report

Description:
Data_source_health_report is currently owned by data foundations (data factory).

At a minimum, create a potluck team and take ownership of the dag so that job failures alert "loading dock".

[LD-408](https://grandrounds.atlassian.net/browse/LD-408)


=====================================================
Timestamp:  2021-07-26T22:23:14Z
Repository: ConsultingMD/potluck
PR #4163: [LD-416] Launch Loading Dock for adt

Description:

[LD-416](https://grandrounds.atlassian.net/browse/LD-416)


=====================================================
Timestamp:  2021-07-26T22:22:10Z
Repository: ConsultingMD/bronze
PR #2605: [LD-416] Launch Loading Dock for adt

Description:

[LD-416](https://grandrounds.atlassian.net/browse/LD-416)


=====================================================
Timestamp:  2021-07-24T01:39:03Z
Repository: ConsultingMD/loading-dock
PR #262: [LD-374] Surface data_source.filename_date_matchers fields in the UI

Description:
See [https://grandrounds.atlassian.net/browse/LD-373|https://grandrounds.atlassian.net/browse/LD-373] and 

[https://grandrounds.slack.com/archives/C01BQNYQS67/p1626282582072600?thread_ts=1626282422.072500 and cid=C01BQNYQS67|https://grandrounds.slack.com/archives/C01BQNYQS67/p1626282582072600?thread_ts=1626282422.072500 and cid=C01BQNYQS67|smart-card]

[LD-374](https://grandrounds.atlassian.net/browse/LD-374)


=====================================================
Timestamp:  2021-07-23T22:35:34Z
Repository: ConsultingMD/potluck
PR #4152: [LD-411] Make existing bronze squelches work after a bronze type has been converted to use a LD manifest

Description:

[LD-411](https://grandrounds.atlassian.net/browse/LD-411)


=====================================================
Timestamp:  2021-07-23T17:55:05Z
Repository: ConsultingMD/tp
PR #1699: [DATA-769] update js i18n translations

Description:
h3. Why

See jira ticket for img.

h3. Acceptance Criteria

{noformat}Scenario: 
Given
When
Then{noformat}

*Notes:*

[DATA-769](https://grandrounds.atlassian.net/browse/DATA-769)


=====================================================
Timestamp:  2021-07-23T03:17:07Z
Repository: ConsultingMD/potluck
PR #4142: [LDF-834] remove explicit header definitions

Description:
Seems like the lasik task doesn't like if we have `headers: true` and we still have explicit headers defined:
![image](https://user-images.githubusercontent.com/1312796/126733790-bbd0e681-e718-4c66-b57a-53c139e85339.png)


[LDF-834](https://grandrounds.atlassian.net/browse/LDF-834)


=====================================================
Timestamp:  2021-07-23T02:35:09Z
Repository: ConsultingMD/potluck
PR #4141: [LDF-834] gr_data_source_id --> gr_datasource_id

Description:
[Alert|https://grand-rounds.pagerduty.com/incidents/PILVVPE] | [Airflow|https://catalog-airflow-webserver.production.grnds.com/log?dag_id=data_factory.data_source_health_report_red and task_id=project_red and execution_date=2021-07-22T00%3A46%3A23.801943%2B00%3A00]

{noformat}java.lang.NumberFormatException: For input string: "2020-04-01"
at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
...
at scala.collection.immutable.StringOps.toInt(StringOps.scala:33)
at com.grandrounds.data_factory.tasks.DataSourceHealthReportProjectorTask$.$anonfun$getAlertTriggerInfoFromManifest$1(DataSourceHealthReportProjectorTask.scala:327)
...{noformat}

[https://github.com/ConsultingMD/potluck/blob/master/scala/src/main/com/grandrounds/data_factory/tasks/DataSourceHealthReportProjectorTask.scala#L327|https://github.com/ConsultingMD/potluck/blob/master/scala/src/main/com/grandrounds/data_factory/tasks/DataSourceHealthReportProjectorTask.scala#L327] 

{noformat}    val alerts = helperQuery(
      s"gr_filename_date IS NULL OR gr_filename_date > to_date($CutoffDate, yyyy-MM-dd)",
      "alert_trigger_info"
    )

    val oldAlerts = helperQuery(
      s"gr_filename_date < to_date($CutoffDate, yyyy-MM-dd)",
      "alert_trigger_info_historical"
    )

    alerts
      .join(oldAlerts, Seq("gr_datasource_id"), "fullouter")
      .map(
        x =>
          HealthReportAlert(
            grDatasourceId = Option(x.getString(0).toInt),
            alertTriggerType = alertTriggerName,
            alertTriggerInfo = Option(x.getString(1)),
            alertTriggerInfoHistorical = Option(x.getString(2))
          )
      ){noformat}

[LDF-834](https://grandrounds.atlassian.net/browse/LDF-834)


=====================================================
Timestamp:  2021-07-22T22:54:13Z
Repository: ConsultingMD/potluck
PR #4138: [LDF-834] NumberFormatException in data_factory.data_source_health_report

Description:
[Alert|https://grand-rounds.pagerduty.com/incidents/PILVVPE] | [Airflow|https://catalog-airflow-webserver.production.grnds.com/log?dag_id=data_factory.data_source_health_report_red and task_id=project_red and execution_date=2021-07-22T00%3A46%3A23.801943%2B00%3A00]

{noformat}java.lang.NumberFormatException: For input string: "2020-04-01"
at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
...
at scala.collection.immutable.StringOps.toInt(StringOps.scala:33)
at com.grandrounds.data_factory.tasks.DataSourceHealthReportProjectorTask$.$anonfun$getAlertTriggerInfoFromManifest$1(DataSourceHealthReportProjectorTask.scala:327)
...{noformat}

[https://github.com/ConsultingMD/potluck/blob/master/scala/src/main/com/grandrounds/data_factory/tasks/DataSourceHealthReportProjectorTask.scala#L327|https://github.com/ConsultingMD/potluck/blob/master/scala/src/main/com/grandrounds/data_factory/tasks/DataSourceHealthReportProjectorTask.scala#L327] 

{noformat}    val alerts = helperQuery(
      s"gr_filename_date IS NULL OR gr_filename_date > to_date($CutoffDate, yyyy-MM-dd)",
      "alert_trigger_info"
    )

    val oldAlerts = helperQuery(
      s"gr_filename_date < to_date($CutoffDate, yyyy-MM-dd)",
      "alert_trigger_info_historical"
    )

    alerts
      .join(oldAlerts, Seq("gr_datasource_id"), "fullouter")
      .map(
        x =>
          HealthReportAlert(
            grDatasourceId = Option(x.getString(0).toInt),
            alertTriggerType = alertTriggerName,
            alertTriggerInfo = Option(x.getString(1)),
            alertTriggerInfoHistorical = Option(x.getString(2))
          )
      ){noformat}

[LDF-834](https://grandrounds.atlassian.net/browse/LDF-834)


=====================================================
Timestamp:  2021-07-21T23:44:53Z
Repository: ConsultingMD/potluck
PR #4125: [DATA-759] Pager Duty Integrations for Connor White (SE)

Description:
Hi Richard, 

Submitting this ticket to ask for the necessary integrations for the new SE PD accounts. Users that will need this done for right now:

[~accountid:60bfc0a38f2cc100697da752] 

- Create PD escalation policy for each SE
- Create PD service for each SE
- Create PD  Jira Cloud integration (in PD)
- Update Potluck Vault
- Update Potluck pagerduty.json in S3
- Update alerting code to know about each SEs PD service

Please let me know if you need more info from us. 

[DATA-759](https://grandrounds.atlassian.net/browse/DATA-759)


=====================================================
Timestamp:  2021-07-16T22:51:35Z
Repository: ConsultingMD/loading-dock
PR #238: [LD-348] Update production mtime mapping file

Description:
Prior to running this job in prod, lets update the production mtime mapping file.

[LD-348](https://grandrounds.atlassian.net/browse/LD-348)


=====================================================
Timestamp:  2021-07-16T20:30:27Z
Repository: ConsultingMD/platform-map
PR #228: [DATA-763] configure DE team in opslevel

Description:
[DATA-763](https://grandrounds.atlassian.net/browse/DATA-763)


=====================================================
Timestamp:  2021-07-16T18:26:46Z
Repository: ConsultingMD/potluck
PR #4062: [LD-389] Fix filename_date generation in manifest when case doesnt match for file

Description:
For biometric files, some manifest dates are not generated properly. It appears that whenever the file case isnt entirely lowercase, the filename date regex logic doesnt match and as a result the filename_date in the manifest is empty. Examples:

{noformat}
s3://grnds-production-loading-dock/city_of_portland/ahh-cityofportland-adt/processed/20210715070022/AHH_GRR_CITYOFPORTLAND_PRECERT_20210715_021825.txt,293,341,City of Portland,112,113,AHH,ahh_adt,ahh_adt,,1120,830
s3://grnds-production-loading-dock/city_of_portland/ahh-cityofportland-adt/processed/20210714070021/AHH_GRR_CITYOFPORTLAND_PRECERT_20210714_021818.txt,293,341,City of Portland,112,113,AHH,ahh_adt,ahh_adt,,1120,830
s3://grnds-production-loading-dock/amazon_pilot/premera-blue-cross-amazonpilot-adt/processed/20210715130300/DAILY_ADT_2021_07_15_060028.csv,15,293,Amazon,82,86,Premera Blue Cross,premera,premera,,580,622
s3://grnds-production-loading-dock/amazon_pilot/premera-blue-cross-amazonpilot-adt/processed/20210714130300/DAILY_ADT_2021_07_14_060027.csv,15,293,Amazon,82,86,Premera Blue Cross,premera,premera,,580,622
{noformat}

For lowercased filenames, the proper filename_date is generated:
{noformat}
s3://grnds-production-loading-dock/amazon_pilot/premera-blue-cross-amazonpilot-adt/processed/20200606130200/daily_adt_2020_06_06_060046.csv,15,293,Amazon,82,86,Premera Blue Cross,premera,premera,2020-06-06,580,622
s3://grnds-production-loading-dock/amazon_pilot/premera-blue-cross-amazonpilot-adt/processed/20200605130100/daily_adt_2020_06_05_060024.csv,15,293,Amazon,82,86,Premera Blue Cross,premera,premera,2020-06-05,580,622
s3://grnds-production-loading-dock/amazon_pilot/premera-blue-cross-amazonpilot-adt/processed/20200604130100/daily_adt_2020_06_04_060023.csv,15,293,Amazon,82,86,Premera Blue Cross,premera,premera,2020-06-04,580,622
s3://grnds-production-loading-dock/amazon_pilot/premera-blue-cross-amazonpilot-adt/processed/20200603130200/daily_adt_2020_06_03_060032.csv,15,293,Amazon,82,86,Premera Blue Cross,premera,premera,2020-06-03,580,622
{noformat}

The regex for adt is currently:

{noformat}
                                                                                                                        filename_date_matchers

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------
 [{"group": 1, "format": "yyyyMMdd", "pattern": "daily_adt_(\\d{8}).csv"}, {"group": 1, "format": "yyyy_MM_dd", "pattern": "daily_adt_(\\d{4}_\\d{2}_\\d{2})_\\d{6}.csv"}, {"group": 1, "format": "yyyyMMdd", "pattern": ".*/adt/AHH_GRR_.*(
\\d{8})_\\d{6}.*\\.txt"}]
 [{"group": 1, "format": "yyyyMMdd", "pattern": "daily_adt_(\\d{8}).csv"}, {"group": 1, "format": "yyyy_MM_dd", "pattern": "daily_adt_(\\d{4}_\\d{2}_\\d{2})_\\d{6}.csv"}, {"group": 1, "format": "yyyyMMdd", "pattern": ".*/adt/AHH_GRR_.*(
\\d{8})_\\d{6}.*\\.txt"}]
(2 rows)
{noformat}

Either a code change or a regex pattern change is acceptable, though the code change is preferred because it would apply across all such instances in the future.

[LD-389](https://grandrounds.atlassian.net/browse/LD-389)


=====================================================
Timestamp:  2021-07-16T17:37:26Z
Repository: ConsultingMD/potluck
PR #4061: [LD-391] Filename date validator does not run for polymorphic files

Description:
The filename date validator should run for all data sources. Currently for polymorphic fixed width files, we dont run any validations, which is incorrect.

https://github.com/ConsultingMD/potluck/blob/master/java/src/main/com/grandrounds/loadingdock/validate/service/ValidationExecutionService.java#L103

[LD-391](https://grandrounds.atlassian.net/browse/LD-391)


=====================================================
Timestamp:  2021-07-16T03:27:08Z
Repository: ConsultingMD/loading-dock
PR #232: [LD-389] Fix filename_date generation in manifest when case doesnt match for file

Description:
For biometric files, some manifest dates are not generated properly. It appears that whenever the file case isnt entirely lowercase, the filename date regex logic doesnt match and as a result the filename_date in the manifest is empty. Examples:

{noformat}
s3://grnds-production-loading-dock/city_of_portland/ahh-cityofportland-adt/processed/20210715070022/AHH_GRR_CITYOFPORTLAND_PRECERT_20210715_021825.txt,293,341,City of Portland,112,113,AHH,ahh_adt,ahh_adt,,1120,830
s3://grnds-production-loading-dock/city_of_portland/ahh-cityofportland-adt/processed/20210714070021/AHH_GRR_CITYOFPORTLAND_PRECERT_20210714_021818.txt,293,341,City of Portland,112,113,AHH,ahh_adt,ahh_adt,,1120,830
s3://grnds-production-loading-dock/amazon_pilot/premera-blue-cross-amazonpilot-adt/processed/20210715130300/DAILY_ADT_2021_07_15_060028.csv,15,293,Amazon,82,86,Premera Blue Cross,premera,premera,,580,622
s3://grnds-production-loading-dock/amazon_pilot/premera-blue-cross-amazonpilot-adt/processed/20210714130300/DAILY_ADT_2021_07_14_060027.csv,15,293,Amazon,82,86,Premera Blue Cross,premera,premera,,580,622
{noformat}

For lowercased filenames, the proper filename_date is generated:
{noformat}
s3://grnds-production-loading-dock/amazon_pilot/premera-blue-cross-amazonpilot-adt/processed/20200606130200/daily_adt_2020_06_06_060046.csv,15,293,Amazon,82,86,Premera Blue Cross,premera,premera,2020-06-06,580,622
s3://grnds-production-loading-dock/amazon_pilot/premera-blue-cross-amazonpilot-adt/processed/20200605130100/daily_adt_2020_06_05_060024.csv,15,293,Amazon,82,86,Premera Blue Cross,premera,premera,2020-06-05,580,622
s3://grnds-production-loading-dock/amazon_pilot/premera-blue-cross-amazonpilot-adt/processed/20200604130100/daily_adt_2020_06_04_060023.csv,15,293,Amazon,82,86,Premera Blue Cross,premera,premera,2020-06-04,580,622
s3://grnds-production-loading-dock/amazon_pilot/premera-blue-cross-amazonpilot-adt/processed/20200603130200/daily_adt_2020_06_03_060032.csv,15,293,Amazon,82,86,Premera Blue Cross,premera,premera,2020-06-03,580,622
{noformat}

The regex for adt is currently:

{noformat}
                                                                                                                        filename_date_matchers

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------
 [{"group": 1, "format": "yyyyMMdd", "pattern": "daily_adt_(\\d{8}).csv"}, {"group": 1, "format": "yyyy_MM_dd", "pattern": "daily_adt_(\\d{4}_\\d{2}_\\d{2})_\\d{6}.csv"}, {"group": 1, "format": "yyyyMMdd", "pattern": ".*/adt/AHH_GRR_.*(
\\d{8})_\\d{6}.*\\.txt"}]
 [{"group": 1, "format": "yyyyMMdd", "pattern": "daily_adt_(\\d{8}).csv"}, {"group": 1, "format": "yyyy_MM_dd", "pattern": "daily_adt_(\\d{4}_\\d{2}_\\d{2})_\\d{6}.csv"}, {"group": 1, "format": "yyyyMMdd", "pattern": ".*/adt/AHH_GRR_.*(
\\d{8})_\\d{6}.*\\.txt"}]
(2 rows)
{noformat}

Either a code change or a regex pattern change is acceptable, though the code change is preferred because it would apply across all such instances in the future.

[LD-389](https://grandrounds.atlassian.net/browse/LD-389)


=====================================================
Timestamp:  2021-07-15T23:34:57Z
Repository: ConsultingMD/potluck
PR #4046: [LD-365] Bronze manifest build should run AFTER manifest generation completes

Description:
Currently both the manifest generation and manifest build are scheduled to run at the same time. Schedule the bronze manifest build to occur 30/60 minutes after manifest generation.



Related [https://grandrounds.atlassian.net/browse/LD-375|https://grandrounds.atlassian.net/browse/LD-375|smart-link] 

[LD-365](https://grandrounds.atlassian.net/browse/LD-365)


=====================================================
Timestamp:  2021-07-15T22:27:29Z
Repository: ConsultingMD/potluck
PR #4042: [LD-380] filename_date_matchers needs to support field for an explicit date

Description:
For past historical files, there are entries that are entries that do not include any dates in the name but we know the specific date it should map to. We need to be able to set the date for such historical files. If a file today still behaves like this (where a date is not included in the filename) then we can just flip the flag to include a date in the filename when uploading to s3.

{code:java}
        .addStrategy(
            "fmr/nielsen/eligibility/grandrounds_nielsen_eligibility.txt/5deacee3-12f3-4ce8-ad59-072bfb1b790b",
            "yyyy-MM-dd",
            m -> "2019-04-22")
        .addStrategy(
            "fmr/nielsen/eligibility/grandrounds_nielsen_eligibility.txt/b9fd69fd-0186-45e8-a7f8-84f95fdfeb3b",
            "yyyy-MM-dd",
            m -> "2018-12-03")
        .addStrategy(
            "fmr/nielsen/eligibility/grandrounds_nielsen_eligibility.txt/db6a0d14-3724-4415-82d8-8227d929b2c1",
            "yyyy-MM-dd",
            m -> "2019-04-08")
        .addStrategy(
            "fmr/nielsen/eligibility/grandrounds_nielsen_eligibility.txt/f5abbe65-591f-48d6-8126-932df4782e6a",
            "yyyy-MM-dd",
            m -> "2019-04-15")

```



[LD-380](https://grandrounds.atlassian.net/browse/LD-380)


=====================================================
Timestamp:  2021-07-15T22:20:50Z
Repository: ConsultingMD/loading-dock
PR #230: [LD-380] filename_date_matchers needs to support field for an explicit date

Description:
For past historical files, there are entries that are entries that do not include any dates in the name but we know the specific date it should map to. We need to be able to set the date for such historical files. If a file today still behaves like this (where a date is not included in the filename) then we can just flip the flag to include a date in the filename when uploading to s3.

{code:java}
        .addStrategy(
            "fmr/nielsen/eligibility/grandrounds_nielsen_eligibility.txt/5deacee3-12f3-4ce8-ad59-072bfb1b790b",
            "yyyy-MM-dd",
            m -> "2019-04-22")
        .addStrategy(
            "fmr/nielsen/eligibility/grandrounds_nielsen_eligibility.txt/b9fd69fd-0186-45e8-a7f8-84f95fdfeb3b",
            "yyyy-MM-dd",
            m -> "2018-12-03")
        .addStrategy(
            "fmr/nielsen/eligibility/grandrounds_nielsen_eligibility.txt/db6a0d14-3724-4415-82d8-8227d929b2c1",
            "yyyy-MM-dd",
            m -> "2019-04-08")
        .addStrategy(
            "fmr/nielsen/eligibility/grandrounds_nielsen_eligibility.txt/f5abbe65-591f-48d6-8126-932df4782e6a",
            "yyyy-MM-dd",
            m -> "2019-04-15")

```



[LD-380](https://grandrounds.atlassian.net/browse/LD-380)


=====================================================
Timestamp:  2021-07-15T06:04:05Z
Repository: ConsultingMD/potluck
PR #4026: [LD-378] Filename date validator logic fails when there are multiple capturing groups

Description:
The LD logic expects a single capturing group in the filename date pattern regex. However the existing Bronze logic has multiple capturing groups and pulls the date from the appropriate one. We should modify the `filename_date_matchers` json to expect another value `group` which determines the capturing group. This value should be used in the FileNameDateValidator to return the correct matched pattern.

Example JSON:

{noformat}
[
  {
    "pattern": "daily_adt_(\\d{8}).csv",
    "format": "yyyyMMdd",
    "group": 1
  },
  {
    "pattern": "daily_adt_(\\d{4}_\\d{2}_\\d{2})_\\d{6}.csv",
    "format": "yyyy_MM_dd",
    "group": 1
  },
  {
    "pattern": ".*/adt/AHH_GRR_.*(\\d{8})_\\d{6}.*\\.txt",
    "format": "yyyyMMdd",
    "group": 1
  }
]
{noformat}


[LD-378](https://grandrounds.atlassian.net/browse/LD-378)


=====================================================
Timestamp:  2021-07-15T05:40:32Z
Repository: ConsultingMD/loading-dock
PR #226: [LD-378] Filename date validator logic fails when there are multiple capturing groups

Description:
The LD logic expects a single capturing group in the filename date pattern regex. However the existing Bronze logic has multiple capturing groups and pulls the date from the appropriate one. We should modify the `filename_date_matchers` json to expect another value `group` which determines the capturing group. This value should be used in the FileNameDateValidator to return the correct matched pattern.

Example JSON:

{noformat}
[
  {
    "pattern": "daily_adt_(\\d{8}).csv",
    "format": "yyyyMMdd",
    "group": 1
  },
  {
    "pattern": "daily_adt_(\\d{4}_\\d{2}_\\d{2})_\\d{6}.csv",
    "format": "yyyy_MM_dd",
    "group": 1
  },
  {
    "pattern": ".*/adt/AHH_GRR_.*(\\d{8})_\\d{6}.*\\.txt",
    "format": "yyyyMMdd",
    "group": 1
  }
]
{noformat}


[LD-378](https://grandrounds.atlassian.net/browse/LD-378)


=====================================================
Timestamp:  2021-07-15T00:17:56Z
Repository: ConsultingMD/potluck
PR #4019: [LD-373] Create new column `filename_date_matcher` on data_source 

Description:
This column will be a json array and have data of this form:

{noformat}[
  {
    "pattern": "(.*questdiagnosticsbfw_)(\\d{4}_)(\\d{8})(.*)",
    "format": "MMddyyyy"
  },
  {
    "pattern": ".*_(\\d{8})\\d{6}.*",
    "format": "yyyyMMdd"
  }
]{noformat}

This column will be taking the place of the existing filename_date_pattern and filename_date_format columns (for now while we backfill data over from Bronze in a separate ticket). We will need to update the necessary DTOs in both Loading Dock and Potluck for the new schema. 

In addition, we will need to update the {{FileNameDateValidator}}  validator logic (or rename/deprecate, whatever is easier) in Potluck to use these values instead of filename_date_pattern and filename_date_format. As this is an array, we will need to update the logic to check each matcher and if any of them matches the file can be considered valid. Otherwise it is invalid.

In a subsequent story ([LD-372]) we will backfill this information from Bronze for all data sources. In the meantime, we will manually update this column in the database for the launch of biometric and adt BronzeTypes.

[LD-373](https://grandrounds.atlassian.net/browse/LD-373)

[LD-372]: https://grandrounds.atlassian.net/browse/LD-372


=====================================================
Timestamp:  2021-07-14T23:10:10Z
Repository: ConsultingMD/potluck
PR #4016: Revert [LD-373] Update filename date validator

Description:
Reverts ConsultingMD/potluck#4007

Filenamedatevalidator is failing :grimacing: https://loadingdock-airflow.production.grnds.com/log?dag_id=loadingdock.master.validate_data_sour[]on_date=2021-07-14T23%3A00%3A36.761597%2B00%3A00

this is a behavior change since before it didnt run this validator if the filename_date_pattern wasnt set


=====================================================
Timestamp:  2021-07-14T22:16:34Z
Repository: ConsultingMD/potluck
PR #4015: [LD-334] Create poll event for data sources with a daily expected_frequency when we receive an empty file

Description:
[https://github.com/ConsultingMD/potluck/pull/3787/files#r655794796|https://github.com/ConsultingMD/potluck/pull/3787/files#r655794796]

* remove the daily check in `java/src/main/com/grandrounds/loadingdock/validate/service/ValidationExecutionService.java:79`
* update alerting logic to make sure we do not alert for empty file poll_events for daily data sources

{noformat}if (isEmptyFile(lines, fileSpec)
     and  and  !dataSource.getExpectedFrequency().equals(Frequency.DAILY)) {{noformat}

should become:

{noformat}if (isEmptyFile(lines, fileSpec)) {{noformat}

[LD-334](https://grandrounds.atlassian.net/browse/LD-334)


=====================================================
Timestamp:  2021-07-13T00:34:47Z
Repository: ConsultingMD/tp
PR #1697: [DATA-752] Augment CCH Price Range call to include the tierName parameter for each npi in the request

Description:
*Notes:*

[DATA-752](https://grandrounds.atlassian.net/browse/DATA-752)


=====================================================
Timestamp:  2021-07-09T22:46:26Z
Repository: ConsultingMD/potluck
PR #3984: [LD-363] ignore empty lines in the DelimiterValidator

Description:
    // Sometimes the first X lines we look at contain empty lines in them.
    // This occurs a lot for data sources with an expected frequency of daily.
    // Downstream Bronze/LASIK orchestration uses spark and in the process it filters out empty lines so we should
    // ignore empty lines as part of this validation.
aws s3 cp s3://grnds-production-loading-dock/amazon_pilot/premera-blue-cross-amazonpilot-adt/processed/20200928130200/DAILY_ADT_2020_09_28_060037.csv -

[LD-363](https://grandrounds.atlassian.net/browse/LD-363)


=====================================================
Timestamp:  2021-07-07T20:24:59Z
Repository: ConsultingMD/loading-dock
PR #206: [LD-356] Change Material UI dependency version update to patch only

Description:

[LD-356](https://grandrounds.atlassian.net/browse/LD-356)


=====================================================
Timestamp:  2021-07-06T22:33:40Z
Repository: ConsultingMD/loading-dock
PR #203: [LD-355] Manifest tooling is using the wrong s3 bucket in the s3_path

Description:
its using {{grnds-production-loading-dock-manifest}} instead of {{grnds-production-loading-dock}}

{noformat}(base)   rogers git:(master)  aws s3 cp s3://grnds-production-loading-dock-manifest/build/carrier_coverage/20210706-000259/manifest.csv -
s3_path,customer_id,jarvis_customer_id,customer,vendor_id,jarvis_vendor_id,vendor,file_layout,file_sublayout,filename_date,data_source_id,jarvis_data_source_id
s3://grnds-production-loading-dock-manifest/levy/abs-levy-carriereligibility/processed/20210630203703/LevyElig20210630.txt,154,216,Levy,1,98,ABS,abs_carrier_eligibility,abs_carrier_eligibility,,677,712
s3://grnds-production-loading-dock-manifest/the_home_depot_mainland/aetna-thehomedepotmainland-carriereligibility/processed/20210219074154/00126632-UELG_ELGDATA___202101_202101.txt,250,172,The Home Depot,3,2,Aetna,aetna_carrier_eligibility,,,638,676
s3://grnds-production-loading-dock-manifest/the_home_depot_mainland/aetna-thehomedepotmainland-carriereligibility/processed/20210122103847/00126632-UELG_ELGDATA___202012_202012.txt,250,172,The Home Depot,3,2,Aetna,aetna_carrier_eligibility,,,638,676{noformat}

[LD-355](https://grandrounds.atlassian.net/browse/LD-355)


=====================================================
Timestamp:  2021-07-03T03:21:11Z
Repository: ConsultingMD/loading-dock
PR #202: [LD-352] Give LD pod more resources

Description:

[LD-352](https://grandrounds.atlassian.net/browse/LD-352)


=====================================================
Timestamp:  2021-06-29T22:01:46Z
Repository: ConsultingMD/tp
PR #1695: [DATA-752] Augment CCH Price Range call to include the tierName parameter for each npi in the request

Description:
*Notes:*

[DATA-752](https://grandrounds.atlassian.net/browse/DATA-752)

FF created [here](https://app.launchdarkly.com/tp/uat/features/include-tier-name-parameter-in-cch-pr-request/targeting)


=====================================================
Timestamp:  2021-06-23T19:46:41Z
Repository: ConsultingMD/potluck
PR #3819: [LD-325] Files with empty lines in them should be treated as valid

Description:
[https://loadingdock-airflow.production.grnds.com/graph?dag_id=loadingdock.master.validate_data_source and run_id=api__2021-06-20T16%3A09%3A06.392643__data_source_id_580__DAILY_ADT_2021_06_20_061543.csv and execution_date=2021-06-20 16%3A09%3A06.392643%2B00%3A00|https://loadingdock-airflow.production.grnds.com/graph?dag_id=loadingdock.master.validate_data_source and run_id=api__2021-06-20T16%3A09%3A06.392643__data_source_id_580__DAILY_ADT_2021_06_20_061543.csv and execution_date=2021-06-20 16%3A09%3A06.392643%2B00%3A00]

[LD-325](https://grandrounds.atlassian.net/browse/LD-325)


=====================================================
Timestamp:  2021-06-23T00:31:36Z
Repository: ConsultingMD/metropolis
PR #1514: [DATA-747] Update `naughty_doc` table to include Zelis providers

Description:
[DATA-747](https://grandrounds.atlassian.net/browse/DATA-747)


=====================================================
Timestamp:  2021-06-23T00:00:25Z
Repository: ConsultingMD/metropolis
PR #1513: [DATA-747] Update `naughty_doc` table to include Zelis providers

Description:
[DATA-747](https://grandrounds.atlassian.net/browse/DATA-747)


=====================================================
Timestamp:  2021-06-22T22:17:37Z
Repository: ConsultingMD/metropolis
PR #1510: [DATA-747] Update `naughty_doc` table to include Zelis providers

Description:
Update naughty doc table to include Zelis providers so we are able to mark Zelis and Enclarity providers as {{never_recommend}} when necessary.

# augment the naughty_doc table to add an {{npi}}column and then 
# update load_canonical to leverage this new field
# backfill the npi value for all the previous entries

[DATA-747](https://grandrounds.atlassian.net/browse/DATA-747)


=====================================================
Timestamp:  2021-06-22T00:34:24Z
Repository: ConsultingMD/potluck
PR #3791: [LD-333] Handle empty files that only include the header row

Description:
Followup to https://github.com/ConsultingMD/potluck/pull/3787

[LD-333](https://grandrounds.atlassian.net/browse/LD-333)


=====================================================
Timestamp:  2021-06-21T21:58:06Z
Repository: ConsultingMD/potluck
PR #3787: [LD-333] Handle empty files that only include the header row

Description:
https://loadingdock-airflow.production.grnds.com/log?dag_id=loadingdock.master.validate_data_source&task_id=validate_data_source&execution_date=2021-06-21T20%3A09%3A55.601833%2B00%3A00

[LD-333](https://grandrounds.atlassian.net/browse/LD-333)


=====================================================
Timestamp:  2021-06-19T00:07:52Z
Repository: ConsultingMD/potluck
PR #3779: [LD-323] Include data source information in the dag_run_id when triggering a dag

Description:
Its much easier to debug data_source issues in airflow if we include the data source id in the dag_run_id name

[LD-323](https://grandrounds.atlassian.net/browse/LD-323)


=====================================================
Timestamp:  2021-06-18T23:10:40Z
Repository: ConsultingMD/potluck
PR #3777: [LD-323] Include data source information in the dag_run_id when triggering a dag

Description:
Its much easier to debug data_source issues in airflow if we include the data source id in the dag_run_id name

[LD-323](https://grandrounds.atlassian.net/browse/LD-323)


=====================================================
Timestamp:  2021-06-18T21:12:30Z
Repository: ConsultingMD/loading-dock
PR #184: [LD-319] Upgrade Bronze SHA to the latest commit in Loading Dock

Description:

[LD-319](https://grandrounds.atlassian.net/browse/LD-319)


=====================================================
Timestamp:  2021-06-18T20:44:39Z
Repository: ConsultingMD/potluck
PR #3774: [LD-323] Include data source information in the dag_run_id when triggering a dag

Description:
Its much easier to debug data_source issues in airflow if we include the data source id in the dag_run_id name

[LD-323](https://grandrounds.atlassian.net/browse/LD-323)


=====================================================
Timestamp:  2021-06-17T23:04:09Z
Repository: ConsultingMD/engineering-deep
PR #1123: [LD-324] Add my GPG key to the engineering repo as part of engineer onboarding

Description:
As a developer, so that I can have access to stuff, add my key to engineering repo. 
Follow instructions on: [https://docs.google.com/document/d/13MsbhrcV1cmXDNaGDfiyJvwHO1ZeRPOQHWrmkR0Miyw/edit?ts=599ddf58#heading=h.vnr2vpvmd5re|https://docs.google.com/document/d/13MsbhrcV1cmXDNaGDfiyJvwHO1ZeRPOQHWrmkR0Miyw/edit?ts=599ddf58#heading=h.vnr2vpvmd5re]

[LD-324](https://grandrounds.atlassian.net/browse/LD-324)

rekey for @jasonli0 


=====================================================
Timestamp:  2021-06-17T22:08:47Z
Repository: ConsultingMD/potluck
PR #3758: [LD-323] Include data source information in the dag_run_id when triggering a dag

Description:
Its much easier to debug data_source issues in airflow if we include the data source id in the dag_run_id name

[LD-323](https://grandrounds.atlassian.net/browse/LD-323)


=====================================================
Timestamp:  2021-06-17T21:18:15Z
Repository: ConsultingMD/potluck
PR #3755: [LD-327] use airflow img instead of the staging

Description:
the base airflow image is now at parity with the staging one

*Notes:*

[LD-327](https://grandrounds.atlassian.net/browse/LD-327)


=====================================================
Timestamp:  2021-06-16T23:24:41Z
Repository: ConsultingMD/tp
PR #1694: [DATA-708] Augment fair_price and price_range requests to send latitude/longitude

Description:
Flag already created in [LaunchDarkly](https://app.launchdarkly.com/tp/production/features/include-geo-parameters-in-cch-request/targeting)

*Notes:*

[DATA-708](https://grandrounds.atlassian.net/browse/DATA-708)


=====================================================
Timestamp:  2021-06-16T18:56:59Z
Repository: ConsultingMD/tp
PR #1693: [DATA-738] migrate sfx detectors to grafana

Description:
*Notes:*

[DATA-738](https://grandrounds.atlassian.net/browse/DATA-738)


=====================================================
Timestamp:  2021-06-16T00:00:01Z
Repository: ConsultingMD/potluck
PR #3717: [LD-323] Include data source information in the dag_run_id when triggering a dag

Description:
Its much easier to debug data_source issues in airflow if we include the data source id in the dag_run_id name

[LD-323](https://grandrounds.atlassian.net/browse/LD-323)

![image](https://user-images.githubusercontent.com/1312796/122138099-e73d3b80-cdfa-11eb-8476-c7b0b8f7a4a8.png)
![image](https://user-images.githubusercontent.com/1312796/122138112-ee644980-cdfa-11eb-8a9d-152613993910.png)

Allows us to quickly search for historical dag runs by data_source_id and/or filename
![image](https://user-images.githubusercontent.com/1312796/122138178-0b008180-cdfb-11eb-8b4a-8bdcc76ce028.png)



=====================================================
Timestamp:  2021-06-10T22:00:12Z
Repository: ConsultingMD/potluck
PR #3670: [LD-217] Filenames with spaces do not process successfully

Description:
Here is an example of arguments passed to the Processing DAG:
```
  - "java"
  - "-jar"
  - "/app/loadingdock.jar"
  - "process"
  - "--data_source_id=722"
  - "--poll_id=4164"
  - "--s3_input_file_path=hp/compsych-hp-testclaims/input/20210318091601/HP_GrandRound Claim Report_2021-03-18-04-00-17.csv"
  - "--s3_output_file_path=manual__2021-03-18T10:54:32.217716 00:00/process_data_source/return.json"
```

Error message:
Unmatched arguments from index 4: Claim, Report_2021-03-18-04-00-17.csv
Usage: <main class> process [-hV] --data_source_id=<dataSourceId>
--poll_id=<pollId>
--s3_input_file_path=<inputFilePath>
--s3_output_file_path=<outputFilePath>
S3 Process
--data_source_id=<dataSourceId>
The ID of the data source to be polled
-h, --help               Show this help message and exit.
--poll_id=<pollId>   The ID of the data source poll
--s3_input_file_path=<inputFilePath>
The S3 path of the input file
--s3_output_file_path=<outputFilePath>
The AWS path to the response file
-V, --version            Print version information and exit.
2021/03/18 10:56:14.762868 [ERR] (cli) unexpected exit from subprocess (2)
[2021-03-18 10:56:40,464] {taskinstance.py:1150} ERROR - Job did not succeed, final state is failed
Traceback (most recent call last):
  File "/home/airflow/.local/lib/python3.7/site-packages/airflow/models/taskinstance.py", line 984, in _run_raw_task
    result = task_copy.execute(context=context)
  File "/opt/airflow/config/python/catalog/airflow/operators/gr.py", line 40, in execute
    raise RuntimeError(fJob did not succeed, final state is {final_status.job_status})
RuntimeError: Job did not succeed, final state is failed

Link:
https://loadingdock-airflow.production.grnds.com/admin/airflow/log?task_id=process_data_source and dag_id=loadingdock.master.process_data_source and execution_date=2021-03-18T10%3A54%3A32.217716%2B00%3A00 and format=json

[LD-217](https://grandrounds.atlassian.net/browse/LD-217)


=====================================================
Timestamp:  2021-06-09T21:45:58Z
Repository: ConsultingMD/loading-dock
PR #177: [LD-220] Add access to grnds-<env>-dollar-store

Description:
Args:
args:
  - "java"
  - "-jar"
  - "/app/loadingdock.jar"
  - "poll"
  - "--data_source_id=506"
  - "--s3_output_file_path=manual__2021-03-18T13:16:10.019761 00:00/poll_data_source/return.json"

Stack Trace:
Listing s3 files at path: grnds-production-dollar-store/joined_4016_4017_4018/
com.grandrounds.loadingdock.loaders.Lister$ListerException: Access Denied (Service: Amazon S3


=====================================================
Timestamp:  2021-06-09T00:46:21Z
Repository: ConsultingMD/loading-dock
PR #174: [LD-220] Add access to grnds-<env>-dollar-store

Description:
Args:
args:
  - "java"
  - "-jar"
  - "/app/loadingdock.jar"
  - "poll"
  - "--data_source_id=506"
  - "--s3_output_file_path=manual__2021-03-18T13:16:10.019761 00:00/poll_data_source/return.json"

Stack Trace:
Listing s3 files at path: grnds-production-dollar-store/joined_4016_4017_4018/
com.grandrounds.loadingdock.loaders.Lister$ListerException: Access Denied (Service: Amazon S3


=====================================================
Timestamp:  2021-06-09T00:28:40Z
Repository: ConsultingMD/loading-dock
PR #172: [LD-220] Add access to grnds-<env>-dollar-store

Description:
Args:
args:
  - "java"
  - "-jar"
  - "/app/loadingdock.jar"
  - "poll"
  - "--data_source_id=506"
  - "--s3_output_file_path=manual__2021-03-18T13:16:10.019761 00:00/poll_data_source/return.json"

Stack Trace:
Listing s3 files at path: grnds-production-dollar-store/joined_4016_4017_4018/
com.grandrounds.loadingdock.loaders.Lister$ListerException: Access Denied (Service: Amazon S3


=====================================================
Timestamp:  2021-06-08T20:26:52Z
Repository: ConsultingMD/sso-configuration
PR #17: [LD-316] Enable sso login in prod for loading-dock-client

Description:
*Notes:*

[LD-316](https://grandrounds.atlassian.net/browse/LD-316)


=====================================================
Timestamp:  2021-06-07T20:44:59Z
Repository: ConsultingMD/loading-dock
PR #171: [LD-302] Generate file uuid to mtime csv file

Description:

[LD-302](https://grandrounds.atlassian.net/browse/LD-302)


=====================================================
Timestamp:  2021-06-04T23:54:01Z
Repository: ConsultingMD/tp
PR #1689: [DATA-738] migrate sfx detectors to grafana

Description:
*Notes:*

[DATA-738](https://grandrounds.atlassian.net/browse/DATA-738)

Migrates https://app.signalfx.com/#/detector/v2/ErKZ78KAcAA/edit
![image](https://user-images.githubusercontent.com/1312796/120873045-65752480-c555-11eb-8833-4f074e9054b8.png)



=====================================================
Timestamp:  2021-06-04T22:45:50Z
Repository: ConsultingMD/metropolis
PR #1490: [DATA-737] handle invalid json characters in the audit_events_iterator

Description:
*Notes:*

[DATA-737](https://grandrounds.atlassian.net/browse/DATA-737)
@kartik-gr 


=====================================================
Timestamp:  2021-06-02T21:15:53Z
Repository: ConsultingMD/tp
PR #1687: [DATA-732] tune service alerts

Description:
*Notes:*

[DATA-732](https://grandrounds.atlassian.net/browse/DATA-732)

tuning based on historical charts. Every prior case of this alarm there's only one "alerting" reading and it goes back to normal at the next cadence. This change will make it so that it will alert if there's been two consecutive "alerting" periods.


=====================================================
Timestamp:  2021-06-02T20:49:00Z
Repository: ConsultingMD/loading-dock
PR #167: [DATA-732] tune service alerts

Description:
*Notes:*

[DATA-732](https://grandrounds.atlassian.net/browse/DATA-732)


=====================================================
Timestamp:  2021-06-02T01:12:02Z
Repository: ConsultingMD/potluck
PR #3545: [LD-311] Investigate loadingdock-airflow-scheduler failures

Description:

[LD-311](https://grandrounds.atlassian.net/browse/LD-311)

Root issue: https://github.com/apache/airflow/issues/14205 which is marked as critical by airflow and will be addressed hopefully in `2.0.3`. This PR [fixes](https://github.com/apache/airflow/issues/14205#issuecomment-821723114) another thing that we were seeing, described [here](https://github.com/apache/airflow/issues/14205#issuecomment-821326846)


=====================================================
Timestamp:  2021-06-01T20:06:17Z
Repository: ConsultingMD/potluck
PR #3527: [LD-311] Investigate loadingdock-airflow-scheduler failures

Description:

[LD-311](https://grandrounds.atlassian.net/browse/LD-311)


=====================================================
Timestamp:  2021-05-28T20:27:36Z
Repository: ConsultingMD/potluck
PR #3511: [LD-311] Investigate loadingdock-airflow-scheduler failures

Description:

[LD-311](https://grandrounds.atlassian.net/browse/LD-311)


=====================================================
Timestamp:  2021-05-27T23:16:50Z
Repository: ConsultingMD/potluck
PR #3503: [DATA-726] Pager Duty Integrations for New SEs

Description:
Hi Richard, 

Submitting this ticket to ask for the necessary integrations for the new SE PD accounts. Users that will need this done for right now:

- [x] # Create PD escalation policy for each SE
- [x] # Create PD service for each SE
- [x] # Create PD  Jira Cloud integration (in PD)
- [x] # Update Potluck Vault
- [x] # Update Potluck pagerduty.json in S3
- [x] # Update alerting code to know about each SEs PD service


[DATA-726](https://grandrounds.atlassian.net/browse/DATA-726)


=====================================================
Timestamp:  2021-05-26T01:18:57Z
Repository: ConsultingMD/loading-dock
PR #158: [LD-302] Generate file uuid to mtime csv file

Description:
Use ingestion_events to generate a csv file of the filename, uuid, and mtime so that we can have an accurate idea of when the file was first ingested. This mtime can then be used in the Bronze file copy job to use the correct mtime as part of the s3 path.



{code:sql}select input_file_type as source_type, input_file_name, data_source_id as jarvis_data_source_id, input_file_mtime, input_file_uuid from ingestion_events where event = identified
```


[LD-302](https://grandrounds.atlassian.net/browse/LD-302)


=====================================================
Timestamp:  2021-05-25T00:01:05Z
Repository: ConsultingMD/potluck
PR #3463: [LD-294] augment poll_dag to take in optional parameters for ad-hoc polling

Description:

[LD-294](https://grandrounds.atlassian.net/browse/LD-294)


=====================================================
Timestamp:  2021-05-21T00:48:40Z
Repository: ConsultingMD/potluck
PR #3451: [LD-294] augment poll_dag to take in optional parameters for ad-hoc polling

Description:

[LD-294](https://grandrounds.atlassian.net/browse/LD-294)


=====================================================
Timestamp:  2021-05-19T23:53:43Z
Repository: ConsultingMD/potluck
PR #3436: [LD-292] Create dags to trigger backfill for customers, vendors and data sources

Description:
customers and vendors will always remain. Data sources will remain until we fully switch over to LD.

All to run once daily. Follow the same pattern as the generate_manifest dag.

[LD-292](https://grandrounds.atlassian.net/browse/LD-292)

![image](https://user-images.githubusercontent.com/1312796/118899016-b385f900-b8c2-11eb-82ca-20ab74d822a5.png)



=====================================================
Timestamp:  2021-05-19T22:08:56Z
Repository: ConsultingMD/loading-dock
PR #153: [LD-291] Fix miscellaneous issues with running LD services in dev 

Description:

[LD-291](https://grandrounds.atlassian.net/browse/LD-291)


=====================================================
Timestamp:  2021-05-19T22:06:49Z
Repository: ConsultingMD/potluck
PR #3427: [LD-291] Fix miscellaneous issues with running LD services in dev 

Description:

[LD-291](https://grandrounds.atlassian.net/browse/LD-291)




=====================================================
Timestamp:  2021-05-19T22:05:57Z
Repository: ConsultingMD/engineering-deep
PR #1108: [LD-291] Fix miscellaneous issues with running LD services in dev 

Description:

[LD-291](https://grandrounds.atlassian.net/browse/LD-291)


=====================================================
Timestamp:  2021-05-19T00:10:46Z
Repository: ConsultingMD/loading-dock
PR #152: [LD-278] Frontend client: missing fields from Data Sources detailed view

Description:
In the _detailed_ view of a data source record, the following fields are missing:

- Path
- Disabled
- Jarvis File Spec

[LD-278](https://grandrounds.atlassian.net/browse/LD-278)


=====================================================
Timestamp:  2021-05-18T00:09:44Z
Repository: ConsultingMD/potluck
PR #3395: [LD-282] Create airflow task to trigger the manifest generation

Description:
- should happen daily

[LD-282](https://grandrounds.atlassian.net/browse/LD-282)

![image](https://user-images.githubusercontent.com/1312796/118571334-a803c800-b732-11eb-8453-701545284a24.png)



=====================================================
Timestamp:  2021-05-14T22:33:14Z
Repository: ConsultingMD/potluck
PR #3374: Update WORKSPACE rules on CODEOWNERS

Description:



=====================================================
Timestamp:  2021-05-13T22:14:50Z
Repository: ConsultingMD/metropolis
PR #1465: [DATA-713] tag tier 1/2 providers for zelis:2044 to support CityOfPortland customer launch

Description:
@kartik-gr 

*Notes:*

[DATA-713](https://grandrounds.atlassian.net/browse/DATA-713)


=====================================================
Timestamp:  2021-05-13T21:09:42Z
Repository: ConsultingMD/tp
PR #1684: Display tiered network provider tags in TP

Description:
@kartik-gr 


=====================================================
Timestamp:  2021-05-13T20:44:17Z
Repository: ConsultingMD/loading-dock
PR #145: [LD-284] Update production_jarvis_data_sources_additional_data to add missing jarvis datasource id for entry

Description:

[LD-284](https://grandrounds.atlassian.net/browse/LD-284)


=====================================================
Timestamp:  2021-05-12T20:53:47Z
Repository: ConsultingMD/tp
PR #1683: [DATA-714] augment providers to add association for network tiers

Description:


*Notes:*

[DATA-714](https://grandrounds.atlassian.net/browse/DATA-714)

```
[142] pry(main)> provider = Provider.find_by(npi: '1801087309')
  Provider Load (17.1ms)  SELECT  "providers".* FROM "providers" WHERE "providers"."npi" = $1 LIMIT 1  [["npi", "1801087309"]]
=> #<Provider:0x00007f8cd7f17dc0
 id: 165616,
 source_name: "enclarity",
 source_id: "12360344362832800000000004702500000000",
 provider_type: "physician",
 npi: "1801087309",
 first_name: "Lenard",
 last_name: "Lesser",
 provider_display: "Lenard Lesser",
 quality: 100.0,
 quality_percentage: 99.52151099263955,
 gender: "M",
 graduation_year: 2006,
 patient_retention: -2.5,
 practicing: true,
 updated_at: Mon, 08 Jun 2020 02:38:46 UTC +00:00,
 never_recommend: false>
[147] pry(main)> ProviderLocationTag.create(provider_id: provider.id, provider_location_id: nil, tag_id: 787, tag_value: '{"zelis:2044" : ["tier 2", "tier 1"]}')
   (0.6ms)  BEGIN
  Provider Load (0.7ms)  SELECT  "providers".* FROM "providers" WHERE "providers"."id" = $1 LIMIT 1  [["id", 165616]]
  SQL (29.4ms)  INSERT INTO "provider_location_tags" ("provider_id", "tag_id", "tag_value") VALUES ($1, $2, $3) RETURNING "id"  [["provider_id", 165616], ["tag_id", 787], ["tag_value", "{\"zelis:2044\" : [\"tier 2\", \"tier 1\"]}"]]
   (1.4ms)  COMMIT
=> #<ProviderLocationTag:0x00007f8cd79f1dc8 id: 1879871, provider_location_id: nil, provider_id: 165616, tag_id: 787, tag_value: "{\"zelis:2044\" : [\"tier 2\", \"tier 1\"]}">
```

![image](https://user-images.githubusercontent.com/1312796/118042269-bca62180-b328-11eb-8db4-275e1117d515.png)

```
query ProviderSearches($input: ProviderSearchesInput!) {
  providerSearches(input: $input) {
    provider {
      displayName
      npi
      uid
      ... on PhysicianType {
        gender
        tieredNetworkTags {
          networkUid
          tags
        }
      }
      ... on NonPhysicianType {
        gender
      }
      locations {
        addressUid
        streetAddressLine1
        postalCode
        languages
      }
    }
  }
}
```
```json
{
  "input": {

    "insurancePlanSlug": "graham_holdings_aetna_aetna_health_fund",
    "postalCode": "94103",
    "limit": 5,
    "providerAttributes": {
      "isPracticing": true,
      "specialtyTermUid": "aa572b07-50e3-4550-bef0-96155755497f",
      "firstName": "lenard",
      "lastName": "lesser"
    }
  }
}
```
```json
{
  "data": {
    "providerSearches": [
      {
        "provider": {
          "displayName": "Lenard Lesser",
          "npi": "1801087309",
          "uid": "enclarity:12360344362832800000000004702500000000",
          "locations": [
            {
              "addressUid": "enclarity:05967321330000035021",
              "streetAddressLine1": "4 Embarcadero Ctr",
              "postalCode": "94111",
              "languages": null
            }
          ],
          "gender": "M",
          "tieredNetworkTags": [
            {
              "networkUid": "zelis:2044",
              "tags": [
                "tier 2",
                "tier 1"
              ]
            }
          ]
        }
      }
    ]
  }
}
```




=====================================================
Timestamp:  2021-05-07T20:24:45Z
Repository: ConsultingMD/metropolis
PR #1462: [DATA-713] tag tier 1/2 providers for zelis:2044 to support CityOfPortland customer launch

Description:
Augments canonical to include the tiered network tags for providers that have the zelis:2044 network to support the City of Portland customer launch. This is our first case of support for tiered networks.

All providers in the network zelis:2044 are tier 2. A subset of those providers are also tier 1.

*Notes:*

[DATA-713](https://grandrounds.atlassian.net/browse/DATA-713)

AT: In floyd prod the test table `canonical_temp_provider_location_tags` contains the tiered network tags under tag_id `787`:
```sql
rgarcia@floyd:5432/production> select count(*) from canonical_temp_provider_location_tags where tag_id = 787 ;

 count  

 871414 

(1 row)
Time: 298.133 ms
rgarcia@floyd:5432/production> select * from canonical_temp_provider_location_tags where tag_id = 787 and provider_id = 12540 ;

 provider_id  provider_location_id  tag_id               tag_value                loaded_at          canonical_version_id         

       12540                [NULL]     787  {"zelis:2044" : ["tier 2","tier 1"]}  [NULL]     33034bc8-57f5-4756-9619-9213fc9a1370 

(1 row)
Time: 268.335 ms
rgarcia@floyd:5432/production>
```


=====================================================
Timestamp:  2021-05-07T14:23:41Z
Repository: ConsultingMD/tp
PR #1681: [DATA-681] Databug form in TP to submit request to JIRA webhook

Description:
Update {{Report Data Issue}} button to link to [https://grandrounds.atlassian.net/servicedesk/customer/portal/2/group/49|https://grandrounds.atlassian.net/servicedesk/customer/portal/2/group/49]

Goal to release update Thursday PM or Friday AM. 

----

\[OLD]

*-Goal:-* -Create a form that appears when Report a Data Issue is shown in TP. When the form is submitted, the information is sent to the Jira webhook created for FERDA Bugs project.- 

*-Webhook URL:-* [-https://automation.atlassian.com/pro/hooks/5394ee3e340c23cd8af2751eb8c42cd2b01c9f4d-|https://automation.atlassian.com/pro/hooks/5394ee3e340c23cd8af2751eb8c42cd2b01c9f4d]

*-Sample code to create issue:-* 

{noformat}curl -X POST -H Content-type: application/json --data {"issues":["TEST-1"], "data": {"reporter":"jesse.weaver", "issuetype":"network issue", "providernpi":"xxxx123", "desiredspeciality":"yyyyy",  "carrier":"yyyyy", "location":"yyyyy", "planname":"yyyyy", "grcustomer":"yyyyy", "relevantnotes":"This is a test"}} https://automation.atlassian.com/pro/hooks/5394ee3e340c23cd8af2751eb8c42cd2b01c9f4d{noformat}



*-Desired Form:-* [https://docs.google.com/document/d/1q6yH2W5eh-8omsA07m_C6vgBrpkz2RdlfpAZ7LavHxM/edit|https://docs.google.com/document/d/1q6yH2W5eh-8omsA07m_C6vgBrpkz2RdlfpAZ7LavHxM/edit|smart-link] 

*-More Info on Jira webhooks:-* [-https://support.atlassian.com/jira-software-cloud/docs/automation-triggers/#Automationtriggers-Incomingwebhook-|https://support.atlassian.com/jira-software-cloud/docs/automation-triggers/#Automationtriggers-Incomingwebhook]

*-Question:-*

# -Can we link to this form from multiple places (e.g. Confluence page)?-

[DATA-681](https://grandrounds.atlassian.net/browse/DATA-681)


=====================================================
Timestamp:  2021-05-06T17:22:13Z
Repository: ConsultingMD/metropolis
PR #1459: [DATA-611] augment load_provider_locations to incorporate the rTP hours_structured field over the enclarity/zelis one when applicable

Description:

[DATA-611](https://grandrounds.atlassian.net/browse/DATA-611)


=====================================================
Timestamp:  2021-04-29T20:31:41Z
Repository: ConsultingMD/potluck
PR #3244: [LD-227] Investigate Airflow scheduler failures (upgrade LD airflow to 2.0.1)

Description:
The Airflow scheduler seems to die repeatedly, especially when the number of processing tasks is high.

* change the number of parallel tasks to 20
* does the health check work?
* the Airflow scheduler is notoriously poor. Is it worth just upgrading to Airflow 2.0 rather than patching it?

[LD-227](https://grandrounds.atlassian.net/browse/LD-227)


=====================================================
Timestamp:  2021-04-27T22:27:52Z
Repository: ConsultingMD/potluck
PR #3216: [DATA-672] configure ALB alarms for our services

Description:
@kartik-gr 

*Notes:*

[DATA-672](https://grandrounds.atlassian.net/browse/DATA-672)


=====================================================
Timestamp:  2021-04-26T22:38:55Z
Repository: ConsultingMD/loading-dock
PR #132: [LD-259] Use a different bucket for the LD manifests

Description:

[LD-259](https://grandrounds.atlassian.net/browse/LD-259)


=====================================================
Timestamp:  2021-04-23T20:06:08Z
Repository: ConsultingMD/potluck
PR #3201: [LDF-483] DAG project_customer_data_sources fails in production

Description:
PD incident: [https://grand-rounds.pagerduty.com/incidents/PGTTHE9|https://grand-rounds.pagerduty.com/incidents/PGTTHE9]

Airflow logs: [https://catalog-airflow-webserver.production.grnds.com/log?dag_id=data_factory.project_customer_data_sources_red and task_id=project_red and execution_date=2021-04-23T10%3A22%3A26.436254%2B00%3A00|https://catalog-airflow-webserver.production.grnds.com/log?dag_id=data_factory.project_customer_data_sources_red and task_id=project_red and execution_date=2021-04-23T10%3A22%3A26.436254%2B00%3A00]

As shown in the Airflow logs, the project_red task is failing with:

{noformat}Athena API Failure: line 26:8: extraneous input data_sources expecting {<EOF>, ,, FROM, WHERE, GROUP, ORDER, HAVING, LIMIT, WITH, UNION, EXCEPT, INTERSECT}{noformat}

More details, including the SQL query being executed:

{noformat}21/04/23 10:23:58 INFO SqlProjectorTask$: Executing SQL on Athena: (SELECT data_sources.id AS "id",
data_sources.file_spec AS "file_spec",
data_sources.source_type AS "source_type",
data_sources.retrieval_type AS "retrieval_type",
CAST(customers.Jarvis_ID__c AS INTEGER) AS "customer_id",
customers.id AS "customer_salescloud_id",
customers.Name_impl_customer__c AS "customer_name",
customers.Assigned_Solution_Engineer_Name__c AS "customer_assigned_se_name",
customers.Assigned_Solution_Engineer__c AS "customer_assigned_se_id",
vendors.id AS "vendor_id",
vendors.name AS "vendor_name",
data_sources.file_name_pattern AS "file_name_pattern",
CASE
WHEN data_sources.disabled THEN Yes
ELSE No
END AS "disabled",
CASE
WHEN data_sources.one_time_use THEN Yes
ELSE No
END AS "one_time_use",
data_sources.expected_frequency AS "expected_frequency",
data_sources.poll_interval AS "poll_interval"
data_sources.alert_after AS "alert_after"
FROM "jarvis.raw.data_sources:v1" AS data_sources
LEFT JOIN "sales.salescloud.provisioning__c:v1" AS customers ON data_sources.about_type = Customer
AND data_sources.about_id = customers.Jarvis_ID__c
LEFT JOIN "jarvis.raw.vendors:v1" AS vendors ON data_sources.vendor_id = vendors.id)
21/04/23 10:23:59 INFO AthenaClient$: Starting Athena query with request: {QueryString:
CREATE TABLE zzzz__2378235249446398667
WITH (parquet_compression = SNAPPY)
AS
SELECT data_sources.id AS "id",
data_sources.file_spec AS "file_spec",
data_sources.source_type AS "source_type",
data_sources.retrieval_type AS "retrieval_type",
CAST(customers.Jarvis_ID__c AS INTEGER) AS "customer_id",
customers.id AS "customer_salescloud_id",
customers.Name_impl_customer__c AS "customer_name",
customers.Assigned_Solution_Engineer_Name__c AS "customer_assigned_se_name",
customers.Assigned_Solution_Engineer__c AS "customer_assigned_se_id",
vendors.id AS "vendor_id",
vendors.name AS "vendor_name",
data_sources.file_name_pattern AS "file_name_pattern",
CASE
WHEN data_sources.disabled THEN Yes
ELSE No
END AS "disabled",
CASE
WHEN data_sources.one_time_use THEN Yes
ELSE No
END AS "one_time_use",
data_sources.expected_frequency AS "expected_frequency",
data_sources.poll_interval AS "poll_interval"
data_sources.alert_after AS "alert_after"
FROM "jarvis.raw.data_sources:v1" AS data_sources
LEFT JOIN "sales.salescloud.provisioning__c:v1" AS customers ON data_sources.about_type = Customer
AND data_sources.about_id = customers.Jarvis_ID__c
LEFT JOIN "jarvis.raw.vendors:v1" AS vendors ON data_sources.vendor_id = vendors.id,QueryExecutionContext: {Database: red},WorkGroup: red}
21/04/23 10:23:59 INFO WithRetries: Retrying error: {}
java.lang.RuntimeException: Called get on a CatalogResult Failure: Athena API Failure: line 26:8: extraneous input data_sources expecting {<EOF>, ,, FROM, WHERE, GROUP, ORDER, HAVING, LIMIT, WITH, UNION, EXCEPT, INTERSECT}{noformat}

[LDF-483](https://grandrounds.atlassian.net/browse/LDF-483)


=====================================================
Timestamp:  2021-04-21T23:38:37Z
Repository: ConsultingMD/loading-dock
PR #128: [LD-259] Use a different bucket for the LD manifests

Description:

[LD-259](https://grandrounds.atlassian.net/browse/LD-259)


=====================================================
Timestamp:  2021-04-21T22:55:05Z
Repository: ConsultingMD/tp
PR #1671: [DATA-701] generate seeds for provider_location_languages

Description:
@ethomson1 

*Notes:*

[DATA-701](https://grandrounds.atlassian.net/browse/DATA-701)


=====================================================
Timestamp:  2021-04-21T20:41:18Z
Repository: ConsultingMD/jarvis
PR #15097: [DF-3979] Updates to "file_not_polled" Alerting Behavior

Description:
We want to add a new column to data_sources, {{alert_after}}, which will capture an integer which will mean the amount of days that need to pass without a successful poll in order to alert a {{file_not_polled}} alert for this data_source.


This column will be optional, we will use the value if set. Otherwise it will fall back to the default tolerance levels we currently have.

----

* jarvis change
* warehouse change (deployed first)
* looker change
* update nightly look export
* potluck change

[DF-3979](https://grandrounds.atlassian.net/browse/DF-3979)


=====================================================
Timestamp:  2021-04-21T18:57:12Z
Repository: ConsultingMD/looker-master
PR #1179: [DF-3979] Updates to "file_not_polled" Alerting Behavior

Description:
We want to add a new column to data_sources, {{alert_after}}, which will capture an integer which will mean the amount of days that need to pass without a successful poll in order to alert a {{file_not_polled}} alert for this data_source.


This column will be optional, we will use the value if set. Otherwise it will fall back to the default tolerance levels we currently have.

----

* jarvis change
* warehouse change (deployed first)
* update nightly look export
* potluck change

[DF-3979](https://grandrounds.atlassian.net/browse/DF-3979)


=====================================================
Timestamp:  2021-04-21T02:04:16Z
Repository: ConsultingMD/potluck
PR #3171: [DF-3979] Updates to "file_not_polled" Alerting Behavior

Description:
We want to add a new column to data_sources, {{alert_after}}, which will capture an integer which will mean the amount of days that need to pass without a successful poll in order to alert a {{file_not_polled}} alert for this data_source.


This column will be optional, we will use the value if set. Otherwise it will fall back to the default tolerance levels we currently have.

----

* jarvis change
* warehouse change (deployed first)
* update nightly look export
* potluck change

[DF-3979](https://grandrounds.atlassian.net/browse/DF-3979)


=====================================================
Timestamp:  2021-04-21T00:03:31Z
Repository: ConsultingMD/jarvis
PR #15092: [DF-3979] Updates to "file_not_polled" Alerting Behavior

Description:
We want to add a new column to data_sources, {{alert_after}}, which will capture an integer which will mean the amount of days that need to pass without a successful poll in order to alert a {{file_not_polled}} alert for this data_source.


This column will be optional, we will use the value if set. Otherwise it will fall back to the default tolerance levels we currently have.

[DF-3979](https://grandrounds.atlassian.net/browse/DF-3979)

@vinaygoel @kartik-gr 

Corresponding Warehouse PR: https://github.com/ConsultingMD/warehouse/pull/605

Warehouse PR needs to be merged and deployed before this PR.


=====================================================
Timestamp:  2021-04-21T00:03:19Z
Repository: ConsultingMD/warehouse
PR #605: [DF-3979] Updates to "file_not_polled" Alerting Behavior

Description:
We want to add a new column to data_sources, {{alert_after}}, which will capture an integer which will mean the amount of days that need to pass without a successful poll in order to alert a {{file_not_polled}} alert for this data_source.


This column will be optional, we will use the value if set. Otherwise it will fall back to the default tolerance levels we currently have.

[DF-3979](https://grandrounds.atlassian.net/browse/DF-3979)

@vinaygoel @kartik-gr 

Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/15092

This PR needs to be merged and deployed before the Jarvis one.


=====================================================
Timestamp:  2021-04-19T21:15:53Z
Repository: ConsultingMD/rogers
PR #427: [DATA-695] reduce logging in rogers

Description:
*Notes:*

[DATA-695](https://grandrounds.atlassian.net/browse/DATA-695)


=====================================================
Timestamp:  2021-04-16T18:25:32Z
Repository: ConsultingMD/tp
PR #1668: [DATA-692] promote alb alarms to live

Description:
@kartik-gr @brianclin 

*Notes:*

[DATA-692](https://grandrounds.atlassian.net/browse/DATA-692)


=====================================================
Timestamp:  2021-04-16T18:21:34Z
Repository: ConsultingMD/rogers
PR #426: [DATA-692] promote alb alarms to live

Description:
@kartik-gr @brianclin 

*Notes:*

[DATA-692](https://grandrounds.atlassian.net/browse/DATA-692)


=====================================================
Timestamp:  2021-04-16T18:17:18Z
Repository: ConsultingMD/loading-dock
PR #123: [DATA-692] promote alb alarms to live

Description:
@kartik-gr @brianclin 

*Notes:*

[DATA-692](https://grandrounds.atlassian.net/browse/DATA-692)


=====================================================
Timestamp:  2021-04-15T19:52:15Z
Repository: ConsultingMD/loading-dock
PR #122: [LD-251] Unable to access Loading Dock APIs outside of GR VPN

Description:
Im able to use the APIs on Postman locally while on VPN. However, when Im off VPN or using it Sales Cloud - which is a cloud environment, Im unable to access.

In order for Sales Cloud integration to ultimately work, Loading Dock APIs need to be accessible outside of GR VPN.

[LD-251](https://grandrounds.atlassian.net/browse/LD-251)


=====================================================
Timestamp:  2021-04-14T00:08:45Z
Repository: ConsultingMD/loading-dock
PR #121: [LD-177] Add enter-db command to LD

Description:

[LD-177](https://grandrounds.atlassian.net/browse/LD-177)


=====================================================
Timestamp:  2021-04-13T23:43:13Z
Repository: ConsultingMD/loading-dock
PR #120: [LD-177] Add enter-db command to LD

Description:

[LD-177](https://grandrounds.atlassian.net/browse/LD-177)

Also added `DATABASE_URL` to vault for both uat/prod. This env variable is needed for `enter-db`

@kartik-gr 


=====================================================
Timestamp:  2021-04-13T21:27:19Z
Repository: ConsultingMD/tp
PR #1663: [DATA-691] tune alb alarms

Description:
threshold chosen after checking the [graph](https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#metricsV2:graph=~(region~'us-east-1~metrics~(~(~'AWS*2fApplicationELB~'TargetResponseTime~'LoadBalancer~'app*2f1f3dbe6f-istiosystem-datae-9fd1*2fb031e26aef08198b~(stat~'p90)))~view~'timeSeries~stacked~false~start~'-PT12H~end~'P0D~period~60~annotations~(horizontal~(~(label~'TargetResponseTime*20*3e*3d*201*20for*204*20datapoints*20within*205*20minutes~value~1)))~title~'tng-tp-latency)) for the past two weeks
![image](https://user-images.githubusercontent.com/1312796/114623543-439da680-9c64-11eb-8803-2b60c8210964.png)


*Notes:*
- https://grandrounds.atlassian.net/wiki/spaces/PE/pages/2197782621/Service+Dashboards+and+Alarms

[DATA-691](https://grandrounds.atlassian.net/browse/DATA-691)


=====================================================
Timestamp:  2021-04-01T23:39:33Z
Repository: ConsultingMD/tp
PR #1657: [DATA-684] Do not send duplicate NPIs in a CCH request

Description:
@kartik-gr 

*Notes:*

[DATA-684](https://grandrounds.atlassian.net/browse/DATA-684)


=====================================================
Timestamp:  2021-03-31T00:31:57Z
Repository: ConsultingMD/loading-dock
PR #113: [LD-113] TNG setup for FE client

Description:
Create the Dockerfile and necessary dependencies (e.g. circleci yml confirmation) so that we can build and deploy the front end client as part of the TNG process.

[LD-113](https://grandrounds.atlassian.net/browse/LD-113)


=====================================================
Timestamp:  2021-03-31T00:18:15Z
Repository: ConsultingMD/jarvis
PR #15031: [APPL-2813] Carrier-plan combinations not updating correctly in Jarvis PDM configuration view

Description:
The unique carrier-plan combinations that are extracted from the customer eligibility file are not being updated/refreshed in the recent past.

Example: For {{VF Corp}}, if you refer to the top most row/record for their latest eligibility file [here|https://datahub.production.grnds.com/lasik/query_execution/84953/], the unique carrier-plan combinations are:

{{{"BCBS":["Medical BCBS PPO"],"UnitedHealthcare":["Medical UHC CDHP 2000","Medical UHC CDHP 3000","Medical UHC PPO"]}}}

However, the Jarvis PDM view shows this:

!image-20210323-012848.png|width=1440,height=491!

As you can see, the number and the values between the two do not match.

[APPL-2813](https://grandrounds.atlassian.net/browse/APPL-2813)


=====================================================
Timestamp:  2021-03-30T23:26:50Z
Repository: ConsultingMD/DPW
PR #1194: [LD-113] TNG setup for FE client

Description:
Create the Dockerfile and necessary dependencies (e.g. circleci yml confirmation) so that we can build and deploy the front end client as part of the TNG process.

[LD-113](https://grandrounds.atlassian.net/browse/LD-113)


=====================================================
Timestamp:  2021-03-29T18:38:51Z
Repository: ConsultingMD/loading-dock
PR #112: [DATA-672] configure ALB alarms for our services

Description:
@brianclin @kartik-gr while in eval mode these will fire as low urgency so we can tune

*Notes:*

[DATA-672](https://grandrounds.atlassian.net/browse/DATA-672)


=====================================================
Timestamp:  2021-03-29T18:17:59Z
Repository: ConsultingMD/rogers
PR #423: [DATA-672] configure ALB alarms for our services

Description:
@brianclin @kartik-gr while in eval mode these will fire as low urgency so we can tune

*Notes:*

[DATA-672](https://grandrounds.atlassian.net/browse/DATA-672)


=====================================================
Timestamp:  2021-03-29T18:12:52Z
Repository: ConsultingMD/tp
PR #1654: [DATA-672] configure ALB alarms for our services

Description:
@brianclin @kartik-gr while in eval mode these will fire as low urgency so we can tune

*Notes:*

[DATA-672](https://grandrounds.atlassian.net/browse/DATA-672)


=====================================================
Timestamp:  2021-03-25T22:55:32Z
Repository: ConsultingMD/jarvis
PR #15018: [DATA-603] As a visit coordinator, so that I can see office hours in a structured fashion, replace the unstructured hours field with a structured field. 

Description:
Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/1653
Corresponding Metropolis PR: https://github.com/ConsultingMD/metropolis/pull/1436

[DATA-603](https://grandrounds.atlassian.net/browse/DATA-603)

@kartik-gr 


=====================================================
Timestamp:  2021-03-25T21:43:54Z
Repository: ConsultingMD/metropolis
PR #1436: [DATA-603] As a visit coordinator, so that I can see office hours in a structured fashion, replace the unstructured hours field with a structured field. 

Description:
Corresponding TP PR: https://github.com/ConsultingMD/tp/pull/1653
Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/15018

[DATA-603](https://grandrounds.atlassian.net/browse/DATA-603)

@kartik-gr 


=====================================================
Timestamp:  2021-03-25T19:21:06Z
Repository: ConsultingMD/tp
PR #1653: [DATA-603] As a visit coordinator, so that I can see office hours in a structured fashion, replace the unstructured hours field with a structured field. 

Description:
Corresponding Jarvis PR: https://github.com/ConsultingMD/jarvis/pull/15018
Corresponding Metropolis PR: https://github.com/ConsultingMD/metropolis/pull/1436

[DATA-603](https://grandrounds.atlassian.net/browse/DATA-603)

```
[ActiveJob]   SQL (1.9ms)  INSERT INTO "delayed_jobs" ("queue", "handler", "run_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["queue", "publish_audit_job"], ["handler", "--- !ruby/object:ActiveJob::QueueAdapters::DelayedJobAdapter::JobWrapper\njob_data:\n  job_class: PublishAuditJob\n  job_id: f75229c5-9e2f-4580-8812-73ca96e143ae\n  queue_name: publish_audit_job\n  arguments:\n  - audit_attrs:\n      requester_id: '121'\n      source_table: provider_locations\n      resource_id: '{\"class\":\"ProviderLocation\",\"provider_uid\":\"enclarity:11804699641960700000000013393730866049\",\"address_uid\":\"enclarity:22221727720000022327\"}'\n      action: PATCH\n      created_at:\n        _aj_globalid: gid://tp/Time/1616698442\n      _aj_symbol_keys:\n      - requester_id\n      - source_table\n      - resource_id\n      - action\n      - created_at\n    attribute_changes:\n      hours_structured: '{\"mon\":{\"start\":\"10:00\",\"end\":\"16:00\"},\"tue\":{\"start\":\"10:00\",\"end\":\"16:00\"},\"wed\":{\"start\":\"10:00\",\"end\":\"16:00\"},\"thu\":{\"start\":\"10:00\",\"end\":\"16:00\"},\"fri\":{\"start\":\"10:00\",\"end\":\"16:00\"},\"sat\":{\"start\":\"08:00\",\"end\":\"17:00\"},\"sun\":{\"start\":\"09:00\",\"end\":\"15:00\"}}'\n      updated_at_hours_structured:\n        _aj_globalid: gid://tp/Time/1616698434\n      updated_at:\n        _aj_globalid: gid://tp/Time/1616698442\n      _aj_symbol_keys: []\n    _aj_symbol_keys:\n    - audit_attrs\n    - attribute_changes\n  locale: :en\n"], ["run_at", "2021-03-25 18:54:03.021320"], ["created_at", "2021-03-25 18:54:03.021415"], ["updated_at", "2021-03-25 18:54:03.021415"]]
[ActiveJob] Query Trace:
      app/api/helpers/audit_log.rb:62:in `send_to_audit_log'
      app/api/v1/physicians/practice_location.rb:109:in `block (2 levels) in <class:PracticeLocation>'
[ActiveJob]    (1.3ms)  COMMIT
[ActiveJob] Enqueued PublishAuditJob (Job ID: f75229c5-9e2f-4580-8812-73ca96e143ae) to DelayedJob(publish_audit_job) with arguments: {:audit_attrs=>{:requester_id=>"121", :source_table=>"provider_locations", :resource_id=>"{\"class\":\"ProviderLocation\",\"provider_uid\":\"enclarity:11804699641960700000000013393730866049\",\"address_uid\":\"enclarity:22221727720000022327\"}", :action=>"PATCH", :created_at=>2021-03-25 18:54:02 UTC}, :attribute_changes=>{"hours_structured"=>"{\"mon\":{\"start\":\"10:00\",\"end\":\"16:00\"},\"tue\":{\"start\":\"10:00\",\"end\":\"16:00\"},\"wed\":{\"start\":\"10:00\",\"end\":\"16:00\"},\"thu\":{\"start\":\"10:00\",\"end\":\"16:00\"},\"fri\":{\"start\":\"10:00\",\"end\":\"16:00\"},\"sat\":{\"start\":\"08:00\",\"end\":\"17:00\"},\"sun\":{\"start\":\"09:00\",\"end\":\"15:00\"}}", "updated_at_hours_structured"=>Thu, 25 Mar 2021 18:53:54 UTC +00:00, "updated_at"=>Thu, 25 Mar 2021 18:54:02 UTC +00:00}}
Completed 200 in 1000.13ms

user: rgarcia
```

![image](https://user-images.githubusercontent.com/1312796/112531178-80ad0200-8d64-11eb-9d79-b18665ae9fd9.png)



=====================================================
Timestamp:  2021-03-23T21:15:05Z
Repository: ConsultingMD/rogers
PR #422: [DF-3940] Hillenbrand eligibility data source - Navigating 2 directories lower to poll file

Description:
[DF-3940](https://grandrounds.atlassian.net/browse/DF-3940)

@kartik-gr 


=====================================================
Timestamp:  2021-03-22T23:46:19Z
Repository: ConsultingMD/tp
PR #1651: [DATA-654] update seeds

Description:
*Notes:*

[DATA-654](https://grandrounds.atlassian.net/browse/DATA-654)


=====================================================
Timestamp:  2021-03-22T18:38:17Z
Repository: ConsultingMD/tp
PR #1649: [DATA-648] zelis:1102 returns results in TP but not in providerSearches GQL query

Description:
The GQL query providerSearches returns 0 results when querying for providers under an insurancePlanSlug that has {{zelis:1102}}, such as [liberty_mutual_uhc_hawaii_ppo|https://stark.uat.grandrounds.com/admin/customers/569464876/provider_directory_mappings]. However, running the same search in TP UAT returns providers.

h3. Steps to reproduce

In Graphql:

Query:

{noformat}query ProviderSearches($input: ProviderSearchesInput!) {
  providerSearches(input: $input) {
    provider {
      displayName
      npi
      uid
      ... on PhysicianType {
        gender
      }
      ... on NonPhysicianType {
        gender
      }
      locations {
        addressUid
        streetAddressLine1
        postalCode
      }
    }
  }
}{noformat}

Variables:

{noformat}{
  "input": {

    "insurancePlanSlug": "liberty_mutual_uhc_hawaii_ppo",
    "postalCode": "96720",
    "limit": 5,
    "providerAttributes": {
      "isPracticing": true
    }
  }
}{noformat}



h3. Expected

Returns non-zero provider searches.

h3. Actual

{noformat}{
    "data": {
        "providerSearches": []
    }
}{noformat}

[DATA-648](https://grandrounds.atlassian.net/browse/DATA-648)


=====================================================
Timestamp:  2021-03-17T18:47:43Z
Repository: ConsultingMD/tp
PR #1646: [DATA-645] remove sns subscribe deploy task in tp

Description:
@ethomson1 @cobbr2 

[DATA-645](https://grandrounds.atlassian.net/browse/DATA-645)


=====================================================
Timestamp:  2021-03-15T22:45:44Z
Repository: ConsultingMD/potluck
PR #2823: [DATA-642] filter out multipart source_type files from file_not_in_s3_imports alerts

Description:
fixing bug and ninja editing the tolerance for daily data sources.

*Notes:*

[DATA-642](https://grandrounds.atlassian.net/browse/DATA-642)


=====================================================
Timestamp:  2021-03-12T06:19:51Z
Repository: ConsultingMD/tp
PR #1635: [DATA-609] surface the hours_structured field as they come from enclarity/zelis in TP

Description:
[DATA-609](https://grandrounds.atlassian.net/browse/DATA-609)
Also includes https://grandrounds.atlassian.net/browse/DATA-610

- [x] FF [created](https://app.launchdarkly.com/tp/richard-garcia-dev/features/display-hours-structured/targeting)

@kartik-gr 

A separate story can and will probably be filed to style it better.

![image](https://user-images.githubusercontent.com/1312796/110900615-e0f96980-82b7-11eb-9706-f01682b76129.png)



=====================================================
Timestamp:  2021-03-11T21:56:53Z
Repository: ConsultingMD/potluck
PR #2794: [DATA-642] filter out multipart source_type files from file_not_in_s3_imports alerts

Description:
*Notes:*

[DATA-642](https://grandrounds.atlassian.net/browse/DATA-642)

@vinaygoel 


=====================================================
Timestamp:  2021-03-09T20:34:00Z
Repository: ConsultingMD/tp
PR #1630: [DATA-636] dont make a cch call is payer_id is an empty string

Description:
```ruby
[1] pry(main)> nil.blank?
=> true
[2] pry(main)> ''.blank?
=> true
[3] pry(main)> nil.nil?
=> true
[4] pry(main)> ''.nil?
=> false
[5] pry(main)>
```
*Notes:*

[DATA-636](https://grandrounds.atlassian.net/browse/DATA-636)


=====================================================
Timestamp:  2021-03-09T01:44:40Z
Repository: ConsultingMD/potluck
PR #2754: [DF-3900] Add day tolerance between identified and retrieved events to prevent race condition

Description:

[DF-3900](https://grandrounds.atlassian.net/browse/DF-3900)

Fix broken test introduced in https://github.com/ConsultingMD/potluck/pull/2749


=====================================================
Timestamp:  2021-03-08T21:28:27Z
Repository: ConsultingMD/potluck
PR #2749: [DF-3900] Add day tolerance between identified and retrieved events to prevent race condition

Description:

[DF-3900](https://grandrounds.atlassian.net/browse/DF-3900)


=====================================================
Timestamp:  2021-03-08T19:26:24Z
Repository: ConsultingMD/potluck
PR #2746: [DF-3896] Full launch of data source alerting

Description:
Turn on alerts for all source types, no customer whitelist.

Target Go live date: First thing Monday 3/8.

[DF-3896](https://grandrounds.atlassian.net/browse/DF-3896)

@vinaygoel @stevenye-gr 



=====================================================
Timestamp:  2025-03-06T16:43:40Z
Repository: ConsultingMD/coverage
PR #1980: [ACQ-890] add sc_provisioning.require_two_factor_authentication to replicator

Description:
[ACQ-890](https://includedhealth.atlassian.net/browse/ACQ-890)

First step of this ticket to make sure this column in SC is replicated in coverage server DB

[ACQ-890]: https://includedhealth.atlassian.net/browse/ACQ-890?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-03-05T20:45:42Z
Repository: ConsultingMD/mx-ui-workflows
PR #797: [ACQ-542] bump resources

Description:
Following suggestion from Tyler which they were seeing the same issues in careflow and made this change: https://github.com/ConsultingMD/careflow/pull/680
[ACQ-542](https://includedhealth.atlassian.net/browse/ACQ-542)

[ACQ-542]: https://includedhealth.atlassian.net/browse/ACQ-542?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-03-05T20:13:56Z
Repository: ConsultingMD/account
PR #897: [ACQ-964] Backfill account DOB for members impacted by ACT-154

Description:
members who attempted to enroll while [https://includedhealth.atlassian.net/browse/ACT-154|https://includedhealth.atlassian.net/browse/ACT-154|smart-link] was outstanding may have an incorrect DOB on their account.  We need to:

* assess how widespread the problem is
* determine if we can backfill DOB from elig when it differs from the value on the account
* write and test a backfill script
* execute backfill

I thought we had this fixed when we fixed the linked iOS bug but it seems not. This might stem from flex reg allowing account dob to diverge from enrollment/verificaction field dob.

[ACQ-964](https://includedhealth.atlassian.net/browse/ACQ-964)

[ACQ-964]: https://includedhealth.atlassian.net/browse/ACQ-964?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-03-03T16:30:06Z
Repository: ConsultingMD/enrollment
PR #311: Update dependabot.yml to group updates

Description:



=====================================================
Timestamp:  2025-03-03T15:05:09Z
Repository: ConsultingMD/account
PR #895: [ACQ-1012] Script to update accounts with a `@member.gr` email suffix to `@member.grnds.com`

Description:

[ACQ-1012](https://includedhealth.atlassian.net/browse/ACQ-1012)

See https://includedhealth.atlassian.net/browse/ACQ-998 for root cause details.

[ACQ-1012]: https://includedhealth.atlassian.net/browse/ACQ-1012?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-02-28T20:54:07Z
Repository: ConsultingMD/athena-bridge
PR #1247: [ACQ-998] Investigate Impact of Duplicate Accounts With Email Cut off as One Duplicate Email 

Description:
[https://grafana.includedhealth.com/goto/Pm7wKvpHR?orgId=1|https://grafana.includedhealth.com/goto/Pm7wKvpHR?orgId=1]

Pattern is {{dod.370a3d43-e060-4d5a-bbcc-8270d9808bd2@member.gr}}

The accounts are basically unclaimable. In order for an account to be claimable it needs to end in `@member.grnds.com`. In a separate ticket we will run a script to update the email for all affected accounts (~82K)

[ACQ-998](https://includedhealth.atlassian.net/browse/ACQ-998)

[ACQ-998]: https://includedhealth.atlassian.net/browse/ACQ-998?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-02-28T18:41:04Z
Repository: ConsultingMD/family
PR #387: Revert "Do Not Rely on PDID to fetch Primary Dependents "

Description:
Reverts ConsultingMD/family#383

Reverting to unblock some other fix from going out. Something in this PR seems to be causing family pods to crash/restart. Have not root caused yet.


=====================================================
Timestamp:  2025-02-27T17:19:43Z
Repository: ConsultingMD/relationship
PR #268: Update dependabot.yml to group golang updates

Description:



=====================================================
Timestamp:  2025-02-25T19:14:54Z
Repository: ConsultingMD/patient-description
PR #236: update migration drop statements to be valid

Description:
missed in https://github.com/ConsultingMD/patient-description/pull/235 to include the `;`


=====================================================
Timestamp:  2025-02-25T16:55:34Z
Repository: ConsultingMD/patient-description
PR #235: manually add drop index lines before creating them

Description:
Deploy: https://ci.us-east-1.uat.grnds.com/#/namespaces/deploy/pipelineruns/patient-description-pr-85bad013?pipelineTask=deploy&step=deploy

the deploy had failed saying the migration had already ran https://ci.us-east-1.uat.grnds.com/#/namespaces/deploy/pipelineruns/patient-description-pr-85bad013?pipelineTask=predeploy-0&step=predeploy-0

After talking with @edengh , we needed to manually add `drop index` lines to this migration. Seems to be an issue with `tng codegen`


=====================================================
Timestamp:  2025-02-25T03:15:52Z
Repository: ConsultingMD/jarvis
PR #17932: Revert "Revert "IAM-129 Auth0Sync LBYL create/update events conflict prevention and cleanup""

Description:
Reverts ConsultingMD/jarvis#17930

Issue found and fixed in this PR. `with_indifferent_access` FTW.

## Merge Reason

PRs may only be merged in Jarvis for one of the following reasons (please select):

- [x] Critical or High Priority (Data) Bug Fix
- [ ] Dependabot Security Alert Fix
- [ ] Customer Config Change For Impending Launch
- [x] Deletes Code Or Works Toward Jarvis Decomp
- [ ] Production Tuning

## Jarvis exit plan

The IdentitySync project
https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/4742808259/Member+Account+Identity+Integration+Redesign+EDD

## JIRA ticket

https://includedhealth.atlassian.net/browse/IAM-129

## What does this PR do?

This PR helps mitigate the damage from member account issues arising from the mass overwriting of member email addresses with auto-generated email address ([hopefully now fixed](https://github.com/ConsultingMD/athena-bridge/pull/1195) at the root cause in athena-bridge).

Changes in Jarvis Auth0Sync

* clean up pre-existing email conflicts before attempting to change an email address in Auth0
* avoid overwriting real emails with autogenerated emails (just in case the underlying problem isn't fully resolved)
* additional safeguards and logging for after_commit event creating/updating Jarvis user
  * Fail and rollbar during account_creation if auth0_user_id param does not point to a real account.
  * check for email conflicts
  * check for account_id conflicts
* abort sync when necessary with more human readable errors (these should be visible in Stark, not sure about The Hub)
* Replace check for autogenerated_email? that didn't always work as expected. The new check has no ambiguity about code path, and is local to the module.

See updated Jira issue comments: https://includedhealth.atlassian.net/browse/IAM-129?focusedCommentId=1725332
Also see: ["Battle Plan" document ](https://docs.google.com/document/d/1dF1LGwcJfMqDZoHlQEtsYOAhGExSnLcAHgtvGZHpTWI/edit?usp=sharing)

## Relevant context.

The Tech Support team has reported unmanageably high volumes of account-identity linking issues. Notable causes:

* autogenerated emails overwriting valid member emails created during signup (~1700 Auth9 profiles found). This creates multiple problems, not the least of which are inability to login, or for Tech Support to easily provide a solution.
* Over 700k autogenerated Auth0 profiles found, which create account claiming issues when members having autogenerated accounts try to sign up via flex reg.

## Pull Request Guidelines and Best Practices

<i>Nit pick:</i> These should be comments that are marked as "NIT" and should not block merging because they do not break functionality but are nice to have.
<i>Blocking changes:</i> These should be comments that are marked as "Blocking" and may not break functionality but they may break established patterns or coding norms or architectural patterns.

[See more here](https://includedhealth.atlassian.net/l/cp/xTwAj4qm)


=====================================================
Timestamp:  2025-02-24T23:44:40Z
Repository: ConsultingMD/jarvis
PR #17930: Revert "IAM-129 Auth0Sync LBYL create/update events conflict prevention and cleanup"

Description:
Reverts ConsultingMD/jarvis#17909

Reverting to unblock an unrelated bug fix from being deployed. 
In this cut's RC process: https://ih-epdd.slack.com/archives/C03HHEHAU8G/p1740429696969489
a bunch of marley tests were failing. Upon looking all the failures were about signup which seems related to this. Team doesn't have bandwidth to forward fix so we're reverting to unblock that other work to then look into the marley failures


=====================================================
Timestamp:  2025-02-20T14:55:12Z
Repository: ConsultingMD/mx-ui-workflows
PR #778: Reapply "[ACQ-943] [Experiment] - Condense Demographics Screen In Sig

Description:
nup  (#773)" (#777)

This reverts commit 7292a3db6fa16174c88c6d9b5dec07a48d4dd89f.

Also patches the bug (see below comment) in the original PR https://github.com/ConsultingMD/mx-ui-workflows/pull/773

AT:

https://github.com/user-attachments/assets/8ac3a775-03aa-4b0b-ace3-beb7a5a25dd7




=====================================================
Timestamp:  2025-02-18T22:21:02Z
Repository: ConsultingMD/mx-ui-workflows
PR #773: [ACQ-943] [Experiment] - Condense Demographics Screen In Signup 

Description:
NOTE: FEATURE FLAG THIS CHANGE 

Blurb: Condensed demographics (Names, phone, DOB) 

Proposed Design : [https://www.figma.com/design/OlN3vRylARC37hThFzCBuD/Flex-Reg%3A-Login%2C-Sign-Up-%2B-Enrollment?node-id=15039-56198 and t=uy7pLp5h3K7bAr9Y-0|https://www.figma.com/design/OlN3vRylARC37hThFzCBuD/Flex-Reg%3A-Login%2C-Sign-Up-%2B-Enrollment?node-id=15039-56198 and t=uy7pLp5h3K7bAr9Y-0|smart-link] 

FF: [enable-condensed-demographics-screen](https://app.launchdarkly.com/projects/enrollment-workflows/flags/enable-condensed-demographics-screen?env=uat&env=production&env=test&selected-env=production)

[ACQ-943](https://includedhealth.atlassian.net/browse/ACQ-943)

[ACQ-943]: https://includedhealth.atlassian.net/browse/ACQ-943?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-02-14T17:45:01Z
Repository: ConsultingMD/mx-ui-workflows
PR #770: [ACQ-930] cleanup enable-slug-signup-skip-to-insurance-screen FF

Description:
[ACQ-930](https://includedhealth.atlassian.net/browse/ACQ-930)

This is now live in Prod so we can remove the FF. https://app.launchdarkly.com/projects/enrollment-workflows/flags/enable-slug-signup-skip-to-insurance-screen?env=uat&env=production&env=test&selected-env=production

[ACQ-930]: https://includedhealth.atlassian.net/browse/ACQ-930?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-02-13T23:05:20Z
Repository: ConsultingMD/mx-ui-workflows
PR #769: [ACQ-301] Create a slugged signup link where health plan users can skip employer page of carwash

Description:
adding a generic `dod-skip` slug to be used in the generic dod website. That way any members coming in from DOD will always be shown the insurance selection screen first.

FF: [enable-slug-signup-skip-to-insurance-screen](https://app.launchdarkly.com/projects/enrollment-workflows/flags/enable-slug-signup-skip-to-insurance-screen?env=uat&env=production&env=test&selected-env=uat)

[ACQ-301](https://includedhealth.atlassian.net/browse/ACQ-301)

Test plan:
- navigate to https://doctorondemand.uat.includedhealth.com/signup?skip_ih_acc=true&slug=dod-skip

https://github.com/user-attachments/assets/e47d75fb-a663-4dc0-be01-93d080ed7415


[ACQ-301]: https://includedhealth.atlassian.net/browse/ACQ-301?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-02-11T17:23:07Z
Repository: ConsultingMD/mx-ui-workflows
PR #768: [ACQ-900] [mx-ui-workflows] cleanup disable-pronouns-screen-in-signup-flow FF

Description:
Feature is released to Production for a couple weeks now. Cleanup the FF added in [ACQ-896](https://includedhealth.atlassian.net/browse/ACQ-896)

[https://app.launchdarkly.com/projects/enrollment-workflows/flags/disable-pronouns-screen-in-signup-flow?env=uat and env=production and env=test and selected-env=uat|https://app.launchdarkly.com/projects/enrollment-workflows/flags/disable-pronouns-screen-in-signup-flow?env=uat and env=production and env=test and selected-env=uat]

[ACQ-900](https://includedhealth.atlassian.net/browse/ACQ-900)

[ACQ-900]: https://includedhealth.atlassian.net/browse/ACQ-900?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ

[ACQ-896]: https://includedhealth.atlassian.net/browse/ACQ-896?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-02-11T15:48:53Z
Repository: ConsultingMD/mx-ui-workflows
PR #767: [ACQ-896] [mx-ui-workflows] hide the pronouns screen from signup flow (flex reg)

Description:
FF: [disable-pronouns-screen-in-signup-flow](https://app.launchdarkly.com/projects/enrollment-workflows/flags/disable-pronouns-screen-in-signup-flow?env=production&env=test&env=uat&selected-env=uat)

It's being moved back to the real/sogi form since there we know the member's customers and can enable/disable the form based on the customer.

[ACQ-896](https://includedhealth.atlassian.net/browse/ACQ-896)

Deployed non-main sha to UAT.
Before:

https://github.com/user-attachments/assets/2a3b214a-eb3b-4286-8234-8a66adb3d1d8




After:


https://github.com/user-attachments/assets/5f107b74-5637-4923-ad17-7ff15c31425c



[ACQ-896]: https://includedhealth.atlassian.net/browse/ACQ-896?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-02-10T23:25:05Z
Repository: ConsultingMD/relationship
PR #261: Update CODEOWNERS to engage

Description:



=====================================================
Timestamp:  2025-02-10T23:24:09Z
Repository: ConsultingMD/patient-description
PR #231: Update CODEOWNERS to engage

Description:



=====================================================
Timestamp:  2025-02-10T23:22:52Z
Repository: ConsultingMD/oneapp-migration
PR #733: Update CODEOWNERS to engage

Description:



=====================================================
Timestamp:  2025-02-10T23:21:36Z
Repository: ConsultingMD/merge-account
PR #310: Update CODEOWNERS to engage

Description:



=====================================================
Timestamp:  2025-02-10T23:20:51Z
Repository: ConsultingMD/contact-verification
PR #278: Update CODEOWNERS to engage

Description:



=====================================================
Timestamp:  2025-02-10T23:19:38Z
Repository: ConsultingMD/family
PR #376: Update CODEOWNERS to engage

Description:



=====================================================
Timestamp:  2025-02-10T23:18:46Z
Repository: ConsultingMD/enrollment
PR #296: Update CODEOWNERS to engage

Description:



=====================================================
Timestamp:  2025-02-10T23:17:21Z
Repository: ConsultingMD/account
PR #885: Update CODEOWNERS to engage

Description:



=====================================================
Timestamp:  2025-02-10T16:55:46Z
Repository: ConsultingMD/mx-ui-workflows
PR #765: tng codegen update

Description:
main build not succeeding due to failed checks: https://studio.apollographql.com/graph/application-layer-graph-kwpy1/variant/uat/operationsCheck/eb69790e-f4f2-4c39-b312-1cee3a2b4df1?query=f5e3c3c72097aeb45c1b9430110852245243c8ba
<img width="2504" alt="image" src="https://github.com/user-attachments/assets/e01ce9f5-23ec-4d45-9271-82b7927d21fd" />


<img width="1442" alt="image" src="https://github.com/user-attachments/assets/a92afad3-1380-4d75-8b62-7e17806680fd" />
Blocking CD.


=====================================================
Timestamp:  2025-02-10T15:49:22Z
Repository: ConsultingMD/mx-ui-workflows
PR #764: Update CODEOWNERS to add engage team

Description:
Adding engage


=====================================================
Timestamp:  2025-02-10T15:29:46Z
Repository: ConsultingMD/mx-ui-workflows
PR #763: [ACQ-542] mx-ui-workflow memory leak

Description:
[ACQ-542](https://includedhealth.atlassian.net/browse/ACQ-542)

After meeting with Temporal team they suggested to bump down the sticky cache again as one of the things to try. Same as https://github.com/ConsultingMD/mx-ui-workflows/pull/748
 
[ACQ-542]: https://includedhealth.atlassian.net/browse/ACQ-542?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-02-04T19:35:28Z
Repository: ConsultingMD/athena-bridge
PR #1195: [ACQ-869] [Bug] auto-generated emails are overwriting valid email addresses

Description:
* how these auto-generated emails are overwriting valid email addresses, and find a way to stop doing that.

Examples:

* {{auth0|67a16b0923dfe0b00f7875f3}}
* {{auth0|679fa083d50e7ec09049a95b}}

See [ACQ-869](https://includedhealth.atlassian.net/browse/ACQ-869) for additional details on the issue

[ACQ-869]: https://includedhealth.atlassian.net/browse/ACQ-869?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-02-04T03:17:41Z
Repository: ConsultingMD/account
PR #878: Update runbook.md to add restart cmd to ais-kafka-worker

Description:
add restart cmd to runbook


=====================================================
Timestamp:  2025-02-03T19:52:31Z
Repository: ConsultingMD/mx-ui-workflows
PR #759: [ACQ-836] log the SignupEvent proto msg for easier debugging

Description:
this allows for much easier debugging of issues as we can just check in [grafana](https://grafana.includedhealth.com/goto/T7ffFvKNR?orgId=1|https://grafana.includedhealth.com/goto/T7ffFvKNR?orgId=1) directly instead of querybook:
<img width="1940" alt="image" src="https://github.com/user-attachments/assets/fbea65f7-6313-4f86-a968-163169fe3b37" />

We were already logging the Enrollment events but missing the signup ones.

[ACQ-836](https://includedhealth.atlassian.net/browse/ACQ-836)

[ACQ-836]: https://includedhealth.atlassian.net/browse/ACQ-836?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ

Allows us to be able to answer the following from grafana:
- How many members of X population are seeing Y tiles on the homepage
- Are X populations signups ok
- etc


=====================================================
Timestamp:  2025-01-30T18:02:10Z
Repository: ConsultingMD/family
PR #368: do not rollbar when no email is found 

Description:
to avoid firing this rollbar: https://app.rollbar.com/a/Grandrounds/fix/item/family/653

as far as I'm aware there's no action for us to do when this happens so we should not fire a rollbar. We're already bumping a metric.


=====================================================
Timestamp:  2025-01-30T16:11:35Z
Repository: ConsultingMD/mx-app
PR #6918: [ACQ-792] Expand how frequently we send Event 1

Description:
We are not seeing the event properties tracked in Meta Ad Manager that we expect for Event 1, which is the event we are using to track registration.

The names are intentionally obtuse to abide by Metas ad restrictions, and we had originally intended to only send Event 1 when it was triggered from an fbclid. However, we want to loosen that restriction and send every Event 1 that is fired (even when fbclid is None) in order to confirm that there is a large enough volume of events to be detected via Ad Manager.

I believe we already loosened the restrictions for Event 2, so I think its worth double checking how that is implemented as a starting point.

Here are the events in Amplitude: [https://app.amplitude.com/analytics/grand-rounds/chart/new/rp5u6pjk|https://app.amplitude.com/analytics/grand-rounds/chart/new/rp5u6pjk|smart-link] 

And here is an example where fbclid and tbd (the two properties we are passing to Meta) are not null: [https://app.amplitude.com/analytics/grand-rounds/chart/new/hqpc84ca|https://app.amplitude.com/analytics/grand-rounds/chart/new/hqpc84ca|smart-link] 

* Note: I think that we care about User Property over Event Property, based on how the Amplitude Connection is set up. I notice that there is an extremely low volume of events where User Property is not null. That is suspicious to me. Here is a chart that compares [Event Property and User Property for Event 1|https://app.amplitude.com/analytics/grand-rounds/chart/new/kvw4zmmc]

For context, this is what the Connection set up looks like 

* !image-20250130-013026.png|width=460,height=550,alt="image-20250130-013026.png"!



!image-20250130-013044.png|width=815,height=357,alt="image-20250130-013044.png"!

[ACQ-792](https://includedhealth.atlassian.net/browse/ACQ-792)

Following the same pattern for event 2

[ACQ-792]: https://includedhealth.atlassian.net/browse/ACQ-792?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-01-29T05:40:04Z
Repository: ConsultingMD/account
PR #871: [ACQ-783] jarvis accounts not being automatically created for accounts that were auto-generated by CCP

Description:
Issue described in this [doc]
(https://docs.google.com/document/d/104dQxVFoeipWSE70gYy1WKjgF_V88jaa36z_WhQHMNE/edit?tab=t.0) Notes of debugging ACQ-778 section

issue introduced in https://github.com/ConsultingMD/account/pull/853

TLDR: we don't create the jarvis account if the status is unactivated, so we need to update the status if activatedat was set so the jarvis account creation succeeds. We only want to create the jarvis account after the member activates/claims their account.

[ACQ-783](https://includedhealth.atlassian.net/browse/ACQ-783)

[ACQ-783]: https://includedhealth.atlassian.net/browse/ACQ-783?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-01-28T16:39:01Z
Repository: ConsultingMD/mx-app
PR #6906: update header on CUSTOMER_SELECTION screen from 'Employer' to 'Check coverage'

Description:
## Overview
Title change on the "Employer" Screen to "Check coverage"

## Test plan
<!-- Overview of testing done, e.g. accounts used, screenshots, feature flag configuration, queries, etc -->

## JIRA ticket
Follow up of https://includedhealth.atlassian.net/browse/ACQ-679

## Pull Request Guidelines and Best Practices
<i>No overview, no review:</i> Feel free to push back on PRs that do not have adequate descriptions of what they do or why.
<i>Do not approve with non-nit changes:</i> If it's not a nit, it's worth blocking over for the sake of code quality.


<img width="749" alt="image" src="https://github.com/user-attachments/assets/864ba32e-4736-420c-85f7-cbac9a8ef79a" />

[See more here](https://includedhealth.atlassian.net/l/cp/xTwAj4qm)



=====================================================
Timestamp:  2025-01-16T21:50:01Z
Repository: ConsultingMD/mx-app
PR #6809: save RETURN_TO to localStorage before redirectToPostAuth() is called 

Description:
when appBrand is DOD

## Overview
https://includedhealth.atlassian.net/browse/ACQ-301

## Test plan
<!-- Overview of testing done, e.g. accounts used, screenshots, feature flag configuration, queries, etc -->

## JIRA ticket
<!-- Jira link for work tracking purposes -->

## Pull Request Guidelines and Best Practices
<i>No overview, no review:</i> Feel free to push back on PRs that do not have adequate descriptions of what they do or why.
<i>Do not approve with non-nit changes:</i> If it's not a nit, it's worth blocking over for the sake of code quality.

[See more here](https://includedhealth.atlassian.net/l/cp/xTwAj4qm)



=====================================================
Timestamp:  2025-01-16T14:59:31Z
Repository: ConsultingMD/oneapp-migration
PR #714: remove FF now that this functionality is released in production

Description:
cleanup after inc-666 fix, removes the FF


=====================================================
Timestamp:  2025-01-15T15:16:14Z
Repository: ConsultingMD/oneapp-migration
PR #713: [ACQ-709] INC-666: get latest dod-accounts before running data migrations to make sure all possible accounts are included

Description:
for INC-666 mitigation

Covers the following issue:
```
member1 ->
1. IH account: IH1 -> dod1
2. 2 dod account: dod1, dod2

t1: user logs in at: create migration record with IH1, [dod1] (there was probably a bug that was later fixed here)
t2: user logs in dod app -> trigger merge of dod1 and dod2 -> dod1 is archived and dod2 is the remaining dod account with both dod1 and dod2's data
t3: user logs in DIH/IH app -> tirgger data migration -> at this time, we only find the dod1 in the migration record and use dod1 to do the data migration 


solution
1. find the impacted migration: go through the migration record with only ariched dod user (filer the dod user who has "archived_member_user_of_id") -> 509 members: https://querybook.includedhealth.com/lasik/query_execution/1617322/
2. modify the migraiton record to also included the remaining dod user uuid in the to migrated dod user list -> This PR
3. re-run the data migration
```

FF: [oneapp-migration-enable-check-or-update-dod-accounts](https://app.launchdarkly.com/projects/oneapp-migration/flags/oneapp-migration-enable-check-or-update-dod-accounts?env=uat&env=production&selected-env=production)

[ACQ-709](https://includedhealth.atlassian.net/browse/ACQ-709)

[ACQ-709]: https://includedhealth.atlassian.net/browse/ACQ-709?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-01-14T21:33:57Z
Repository: ConsultingMD/mx-ui-workflows
PR #748: [ACQ-542] mx-ui-workflow memory leak: worker.SetStickyWorkflowCacheSize to 5k (instead of the default 10k)

Description:
after chatting with @tyler-c-jones and @chiaoyutuan, yet another attempt to fix this a noisy alert  

set worker.SetStickyWorkflowCacheSize to 5k (instead of the default 10k)

[ACQ-542](https://includedhealth.atlassian.net/browse/ACQ-542)

[ACQ-542]: https://includedhealth.atlassian.net/browse/ACQ-542?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-01-14T18:09:08Z
Repository: ConsultingMD/potluck
PR #22092: remove limit now that we've caught up

Description:
For inc-661 we had added this limit when we had a backlog of 14K entries and the task timed out. We've now processed the backlog and can remove this.


=====================================================
Timestamp:  2025-01-14T16:57:43Z
Repository: ConsultingMD/support-tools
PR #222: refactor cmds to retrieve ih/hub accounts + create ih accounts (for TOC outreach)

Description:
Changes included:
- updates `service ais account` cmd to return the hub id as well
- adds `service hub account-id` and `service hub account-ids` to get one/multiple hub account ids given one/multiple ih accounts ids

These cmds were used in the effort to create TOC outreach cases for members.


=====================================================
Timestamp:  2025-01-13T04:04:58Z
Repository: ConsultingMD/potluck
PR #22058: [inc-661] bump timeout + set limit to 5k rows

Description:
There's a queue of about 14k rows to be processed due to this task not running since November 2024, so currently the task is timing out. This change increases the timeout and also sets a limit of 5K so in about ~3 runs we should have processed all everything and can remove the limit and bump down the timeout.

Used [this](https://catalog-airflow-webserver.includedhealth.com/log?dag_id=engagement_engine.ingest_and_populate_ccp_member_data&task_id=project_foundation&execution_date=2025-01-10T22%3A08%3A20.736085%2B00%3A00) run as comparison where we processed ~660 rows in about 1 hr.


=====================================================
Timestamp:  2025-01-07T03:04:45Z
Repository: ConsultingMD/support-tools
PR #219: [ACQ-662] Add feature to support tool to create IH accounts

Description:
This PR does the following:
- remove the provision-unified-account* cmds as these were pre-lasso and are no longer relevant
- adds a new cmd to create IH accounts: `./support-tools --jira=work service ais create-account path-to-file.json`

Example:
Given a file `deleteme-rgarcia.csv` with the following contents:
```csv
firstName,lastName,dateOfBirth,email,ss4
"richard20250107-8","garcia20250107-8","1970-01-01","rgarcia20250107-8@grnds.com","0000"
"richard20250107-9","garcia20250107-9","1970-01-01","rgarcia20250107-9@grnds.com","0000"
```

First run, creates the accounts:
```
 ./main.py --jira=work service ais create-account deleteme-rgarcia.csv /tmp/deleteme-rgarcia-output
WARNING:root:pyiceberg is not installed, cannot interact with Iceberg tables
Support Tool instantiated under AWS_ENVIRONMENT: uat
. .
done creating account(s):
successes written to csv file: /tmp/deleteme-rgarcia-output_successes.csv
None
 cat /tmp/deleteme-rgarcia-output_successes.csv
email,account_id
rgarcia20250107-8@grnds.com,B019441b5-27f8-7dcc-9b50-2fb58ddb9e76
rgarcia20250107-9@grnds.com,B019441b5-2972-7254-b706-24d42e436437
```

Second run, fails as accounts are already created:
```
 ./main.py --jira=work service ais create-account deleteme-rgarcia.csv /tmp/deleteme-rgarcia-output
WARNING:root:pyiceberg is not installed, cannot interact with Iceberg tables
Support Tool instantiated under AWS_ENVIRONMENT: uat
X X
done creating account(s):
failures written to csv file: /tmp/deleteme-rgarcia-output_failures.csv
None
 cat /tmp/deleteme-rgarcia-output_failures.csv
email,status_code,error_msg
rgarcia20250107-8@grnds.com,ACCOUNT_ALREADY_EXISTS,cannot create account: duplicate detected
rgarcia20250107-9@grnds.com,ACCOUNT_ALREADY_EXISTS,cannot create account: duplicate detected
```

Account available in hub:
<img width="2342" alt="image" src="https://github.com/user-attachments/assets/138c9410-7a31-478f-b488-84f07680a001" />

Also when searching by the IH account id in hub:
<img width="2541" alt="image" src="https://github.com/user-attachments/assets/dee7d90f-9818-41fa-83fd-51f2b6bfafc1" />

[ACQ-662](https://includedhealth.atlassian.net/browse/ACQ-662)

[ACQ-662]: https://includedhealth.atlassian.net/browse/ACQ-662?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-01-04T00:36:18Z
Repository: ConsultingMD/mx-ui-workflows
PR #745: [ACQ-542] double max replica count

Description:
Doubling per recommendation from Dan until we root cause the memory leak

> when cpu utilization hits 50%, infra automatically starts a new replica
> yesterday we were hitting the limit of 12

[ACQ-542](https://includedhealth.atlassian.net/browse/ACQ-542)

[ACQ-542]: https://includedhealth.atlassian.net/browse/ACQ-542?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-01-03T22:57:17Z
Repository: ConsultingMD/mx-ui-workflows
PR #744: [ACQ-542] reduce enrollment/instake wf ReceiveWithTimeout calls to 1hr

Description:
Missed to change these in the initial PR.

Also double the CPU resources for mx-ui-workflows/enrollment/signup (from 200m -> 400m)
<img width="2540" alt="image" src="https://github.com/user-attachments/assets/19ffe68c-d44f-4cc6-a14b-d272e1e5e126" />

https://grafana.includedhealth.com/goto/c2bXm_HNg?orgId=1

[ACQ-542](https://includedhealth.atlassian.net/browse/ACQ-542)

[ACQ-542]: https://includedhealth.atlassian.net/browse/ACQ-542?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-01-03T22:40:26Z
Repository: ConsultingMD/cost-share
PR #345: bump proto-common + protostore: add account_id index to MemberCostShare

Description:
proto-common change: https://github.com/ConsultingMD/proto-common/pull/1172


=====================================================
Timestamp:  2025-01-03T21:37:55Z
Repository: ConsultingMD/proto-common
PR #1172: add account_id index to MemberCostShare

Description:
Similar to https://github.com/ConsultingMD/proto-common/pull/1169


=====================================================
Timestamp:  2025-01-03T18:23:26Z
Repository: ConsultingMD/mx-ui-workflows
PR #743: [ACQ-542] decrease signup wf timeout + ReceiveWithTimeout to 1hr

Description:
https://github.com/ConsultingMD/mx-ui-workflows/pull/705 enrollment wf timeout was decreased to 1hr a while back which seemed to be fine, we never went back to make the same change for the signup wf.

<img width="2540" alt="image" src="https://github.com/user-attachments/assets/7baa9b97-462d-4fe1-ad92-db995d86eec4" />
- looking at the flame graph we seem to be ending up with a zombie goroutines when waiting for the signal. I think that 24hr timeout is too long. We should lower this to 1hr now to match the temporal wf timeout as well.
[ACQ-542](https://includedhealth.atlassian.net/browse/ACQ-542)


https://grafana.includedhealth.com/a/grafana-pyroscope-app/profiles-explorer?searchText=&panelType=time-series&layout=grid&hideNoData=off&explorationType=flame-graph&var-serviceName=mx-ui-workflows&var-profileMetricId=goroutine%3Agoroutine%3Acount%3Agoroutine%3Acount&var-dataSource=fdyfaqvaekc1sc&var-groupBy=all&var-filters=tng_environment%7C%3D%7Cproduction&var-filtersBaseline=&var-filtersComparison=&from=1735907015640&to=1735928615640&maxNodes=16384

[ACQ-542]: https://includedhealth.atlassian.net/browse/ACQ-542?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-01-02T18:35:24Z
Repository: ConsultingMD/coverage
PR #1880: [ACT-99] use static NPI for RTE calls

Description:
See thread: https://ih-epdd.slack.com/archives/C08716PLQ7K/p1735838518212909
<img width="743" alt="image" src="https://github.com/user-attachments/assets/09824790-fc5d-423d-bd76-6eacb1ed7658" />



=====================================================
Timestamp:  2024-12-31T15:40:24Z
Repository: ConsultingMD/oneapp-migration
PR #706: do not rollbar when email is already associated with another account with different PII

Description:
This [rollbar](https://app.rollbar.com/a/Grandrounds/fix/item/oneapp-migration/7222) is spamming [#oneapp-migration-alerts](https://includedhealth.enterprise.slack.com/archives/C07QYHN6WMR)


=====================================================
Timestamp:  2024-12-20T20:16:25Z
Repository: ConsultingMD/coverage
PR #1858: Revert "cache usa state location to use it in MemberInformation service"

Description:
Reverts ConsultingMD/coverage#1851

- https://ih-epdd.slack.com/archives/C04NXSVJ2FM/p1734718957274679
- https://ih-epdd.slack.com/archives/C04NXSVJ2FM/p1734719805827859

The original change is causing a flurry of rollbars on each deploy. Reverting it from main until this is addressed


=====================================================
Timestamp:  2024-12-17T19:41:01Z
Repository: ConsultingMD/oneapp-migration
PR #700: [ACQ-300] oneapp-migration needs to stop requesting tokens from the Auth0 grandrounds tenant

Description:
f/u from https://github.com/ConsultingMD/oneapp-migration/pull/699

- `newUseLinkedAccountFlag` -> `newIHAuth0ClientFlag`
- return `(Authenticator, error)` in `New`

[ACQ-300](https://includedhealth.atlassian.net/browse/ACQ-300)

[ACQ-300]: https://includedhealth.atlassian.net/browse/ACQ-300?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-12-16T19:57:23Z
Repository: ConsultingMD/jarvis
PR #17801: [ACQ-310] Generate 2025 IH Golden Ticket Codes (due 12/20)

Description:
Runbook: [https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/4729471107/Golden+Ticket+Generation|https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/4729471107/Golden+Ticket+Generation|smart-link] 

~Pending: receiving the codes from TAO. Should arrive by EOD 12/16~

[ACQ-310](https://includedhealth.atlassian.net/browse/ACQ-310)

[ACQ-310]: https://includedhealth.atlassian.net/browse/ACQ-310?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-12-05T20:08:40Z
Repository: ConsultingMD/coverage
PR #1825: memory leak investigation: closing cursor

Description:
https://ih-epdd.slack.com/archives/C04J0SH7205/p1733426313477779?thread_ts=1733423964.101019&cid=C04J0SH7205


=====================================================
Timestamp:  2024-11-15T18:00:53Z
Repository: ConsultingMD/realtime-eligibility
PR #389: [AAA-2570] Use FF to provide best_effort caching time

Description:

[AAA-2570](https://includedhealth.atlassian.net/browse/AAA-2570)

FF: https://app.launchdarkly.com/projects/realtime-eligibility/flags/cache-length-best-effort?env=test&env=production&selected-env=production

[AAA-2570]: https://includedhealth.atlassian.net/browse/AAA-2570?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-11-15T03:27:45Z
Repository: ConsultingMD/homepage-service
PR #161: [AAA-2835] implement the showEnrollmentNudge logic

Description:
FF: https://app.launchdarkly.com/projects/homepage/flags/enable-show-enrollment-nudge?env=production&env=test&selected-env=production

[AAA-2835]: https://includedhealth.atlassian.net/browse/AAA-2835?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ

Business logic defined here: https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/4661936199/Enrollment+Nudge+on+Home+screen


=====================================================
Timestamp:  2024-11-14T19:24:36Z
Repository: ConsultingMD/homepage-service
PR #160: [AAA-2834] Add new showEnrollmentNudge boolean field

Description:

[AAA-2834](https://includedhealth.atlassian.net/browse/AAA-2834)

[AAA-2834]: https://includedhealth.atlassian.net/browse/AAA-2834?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-11-11T17:37:57Z
Repository: ConsultingMD/oneapp-migration
PR #648: fix npe in accountActivatedAfterLassoLaunch

Description:
https://app.rollbar.com/a/Grandrounds/fix/item/oneapp-migration/5520


=====================================================
Timestamp:  2024-11-08T15:57:05Z
Repository: ConsultingMD/coverage
PR #1739: do not rollbar on deadline exceeded errors

Description:
We should not be rollbaring on deadline exceeded errors


=====================================================
Timestamp:  2024-11-08T02:06:40Z
Repository: ConsultingMD/coverage
PR #1736: set WorkflowStillPendingError to not rollbar

Description:
https://app.rollbar.com/a/Grandrounds/fix/item/coverage-server/3158?


=====================================================
Timestamp:  2024-11-07T21:44:15Z
Repository: ConsultingMD/patient-description
PR #206: Revert "Bump the go-dependencies group with 4 updates"

Description:
Reverts ConsultingMD/patient-description#205


=====================================================
Timestamp:  2024-11-07T20:22:38Z
Repository: ConsultingMD/realtime-eligibility
PR #383: put redis cache behind FF

Description:
FF: https://app.launchdarkly.com/projects/realtime-eligibility/flags/enable-redis-cache?env=test&env=production&selected-env=production

The cache eviction doesn't seem to be working so putting the redis cache behind a FF so we can easily disable if we don't fix the cache eviction.


=====================================================
Timestamp:  2024-11-07T15:37:22Z
Repository: ConsultingMD/mx-ui-workflows
PR #715: refactor EnrollmentEvent activity to a switch

Description:



=====================================================
Timestamp:  2024-11-07T14:55:35Z
Repository: ConsultingMD/mx-ui-workflows
PR #714: log the event type for easier grafana panel creation

Description:



=====================================================
Timestamp:  2024-11-06T23:26:41Z
Repository: ConsultingMD/coverage
PR #1718: comment out ATs

Description:



=====================================================
Timestamp:  2024-11-06T22:14:57Z
Repository: ConsultingMD/coverage
PR #1716: Use a configurable timeout when fetching RTE from within the GetPricingConfiguration RPC endpoint

Description:
Flag: [rte-proxy-configurable-timeout](https://app.launchdarkly.com/projects/coverage-server/flags/rte-proxy-configurable-timeout?env=uat&env=production&selected-env=production)


=====================================================
Timestamp:  2024-11-06T20:41:55Z
Repository: ConsultingMD/mx-ui-workflows
PR #712: log the member enrollment event so we can create grafana panels from it

Description:
Needed in order to be able to create some launch readiness panels in grafana


=====================================================
Timestamp:  2024-11-06T20:15:47Z
Repository: ConsultingMD/coverage
PR #1715: old path: make sure to use best_effort when inquiry_type is not explicitely defined

Description:



=====================================================
Timestamp:  2024-11-06T16:57:56Z
Repository: ConsultingMD/coverage
PR #1712: set the response status

Description:
Noticed that we were not setting the response status on the rte log
<img width="1250" alt="image" src="https://github.com/user-attachments/assets/57040529-1461-45f0-bfd3-52a18df7c97f">



=====================================================
Timestamp:  2024-11-06T04:02:58Z
Repository: ConsultingMD/coverage
PR #1711: add logging for the happy/sad path of the rte async call

Description:
corresponding RTE one: https://github.com/ConsultingMD/realtime-eligibility/pull/377


=====================================================
Timestamp:  2024-11-06T03:12:18Z
Repository: ConsultingMD/realtime-eligibility
PR #377: add logging for the RPC RTE async endpoints to help debug

Description:
Adds key logging for happy/sad paths in RTE async endpoints.

Coverage one: https://github.com/ConsultingMD/coverage/pull/1711


=====================================================
Timestamp:  2024-11-05T21:19:10Z
Repository: ConsultingMD/coverage
PR #1708: [AAA-2707] Use brand dimension in enrollment metrics

Description:

i.e. we should be able to filter enrollment metrics by DIH and nonDIH

[AAA-2707](https://includedhealth.atlassian.net/browse/AAA-2707)

[AAA-2707]: https://includedhealth.atlassian.net/browse/AAA-2707?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-11-05T17:11:00Z
Repository: ConsultingMD/realtime-eligibility
PR #375: add misc logging + make/tng codegen

Description:



=====================================================
Timestamp:  2024-11-03T23:06:52Z
Repository: ConsultingMD/proto-common
PR #974: add retail field to the attempt event

Description:



=====================================================
Timestamp:  2024-11-03T22:42:36Z
Repository: ConsultingMD/mx-ui-workflows
PR #709: move attempt event after customer/insurance selection, add additional fields

Description:
> Our understanding is that we want the attempt enrollment event to fire when the member selects an employer (so sometime [between View Enrollment Customer Selection](https://www.figma.com/board/b1QzjUUFt67UtbicZnt3Ew/Acquire-Flow-and-Metrics?node-id=532-248&node-type=text&t=DHGIvQg4O1wphlZH-0) and View Enrollment Enrollment Prompt). Is that when it's firing?
On the figma, it looks like it might be firing after we get the member's PII and [also for retail](https://www.figma.com/board/b1QzjUUFt67UtbicZnt3Ew/Acquire-Flow-and-Metrics?node-id=847-304&node-type=text&t=DHGIvQg4O1wphlZH-0), so wanted to confirm
We also want to be able to slice the metric by the type of enrollment a member is attempting -- Employer vs. Insurer, and by client account / population. But [it doesn't look like we are getting the client account id that someone attempted to enroll with on the attempted event](https://querybook.includedhealth.com/lasik/query_execution/1431178/). Could we get that?

This PR does the following:
- moves the attempt event firing to be right after the customer/insurance is selected, instead of firing before calling VerifyCoverageAndEnroll
- populates additional fields on the event:
  - screen: whether it was the customer or insurance screen
  - the `CustomerID` selected (customer/insurance will be the same) (this will be the salescloud account id)
  - the `Alias` of the customer/insurance selected
  - retail: whether the attempt was for retail. If so customerid/alias will be nil

After this is merged/deployed I will update the figma.


=====================================================
Timestamp:  2024-11-03T21:31:22Z
Repository: ConsultingMD/proto-common
PR #973: add additional fields to the attempt event: determine if customer/insurance selection, capture the customer_id/alias

Description:
> We also want to be able to slice the metric by the type of enrollment a member is attempting -- Employer vs. Insurer, and by client account / population.

Adds additional fields to the attempt event to capture the required data.


=====================================================
Timestamp:  2024-10-31T15:22:30Z
Repository: ConsultingMD/mx-ui-workflows
PR #708: Emit MemberEnrollmentEvent of Attempt type before calling VerifyCoverageAndEnroll

Description:
This additional event is needed to calculate the coverage enrollment success rate.


=====================================================
Timestamp:  2024-10-31T14:44:38Z
Repository: ConsultingMD/proto-common
PR #954: add Attempt as an event type to the member_enrollment_event

Description:



=====================================================
Timestamp:  2024-10-30T20:16:54Z
Repository: ConsultingMD/mx-ui-workflows
PR #707: EnrollmentEvent: set a more specific enrollment_source

Description:
Removes the usage of the `RE_ENROLLMENT` event and instead uses the specific, finer-grained ones defined [here](https://github.com/ConsultingMD/proto-common/pull/947). That way we are more clearly able to track and measure and clearly see from which specific enrollment_place insights can be attributed to.


=====================================================
Timestamp:  2024-10-30T18:59:42Z
Repository: ConsultingMD/proto-common
PR #947: add more granular enrollment_sources to improve tracking

Description:
[thread](https://ih-epdd.slack.com/archives/C07PQ1TJ89G/p1730312610911999)

Will update mx-ui-workflows after.


=====================================================
Timestamp:  2024-10-29T14:43:32Z
Repository: ConsultingMD/coverage
PR #1681: additional logging to the GetContracts method to help debug

Description:



=====================================================
Timestamp:  2024-10-28T19:43:41Z
Repository: ConsultingMD/homepage-service
PR #148: Augment PageView event to include lasso status

Description:



=====================================================
Timestamp:  2024-10-28T16:53:42Z
Repository: ConsultingMD/proto-common
PR #925: add lasso_status and lasso_status_last_updated_at to PageView event

Description:
Capture snapshot of lasso_status when the PageView event is emitted

homepage-service PR to follow.


=====================================================
Timestamp:  2024-10-23T22:22:41Z
Repository: ConsultingMD/homepage-service
PR #145: bump proto-common

Description:



=====================================================
Timestamp:  2024-10-23T21:57:03Z
Repository: ConsultingMD/proto-common
PR #913: PageView: add back old msg

Description:
https://ci.us-east-1.uat.grnds.com/#/namespaces/deploy/pipelineruns/homepage-pr-c2b71b43?pipelineTask=kafka-register-schemas&step=kafka-register-schemas

> rpc error: code = Unknown desc = Error registering schema with legacy schema registry: Schema being registered is incompatible with an earlier schema for subject "domain__member_experience__page_view__page_view__v1-value", details: [{errorType:"MESSAGE_REMOVED", description:"The new schema is missing a field of type MESSAGE at path '#/PopulationMemberships' in the old schema"}, {oldSchemaVersion: 4}, {oldSchema: 'syntax = "proto3";
package domain.member_experience.page_view.v1;


=====================================================
Timestamp:  2024-10-23T20:46:36Z
Repository: ConsultingMD/homepage-service
PR #143: PageView: populate BeneficiaryPopulations + relationship + source + IsRetail fields

Description:
Populates the following fields on the PageView event:
- BeneficiaryPopulations
- Relationship
- Source
- IsRetail


=====================================================
Timestamp:  2024-10-23T19:21:26Z
Repository: ConsultingMD/proto-common
PR #911: PageViewEvent: Add additional fields, rename to be singular

Description:
- adding relationship, source
- rename PopulationMemberships to PopulationMembership


=====================================================
Timestamp:  2024-10-23T18:23:52Z
Repository: ConsultingMD/homepage-service
PR #142: bump go-common + tng codegen update

Description:



=====================================================
Timestamp:  2024-10-23T04:50:47Z
Repository: ConsultingMD/proto-common
PR #906: Add is_retail + populations fields to PageView message

Description:



=====================================================
Timestamp:  2024-10-22T21:30:49Z
Repository: ConsultingMD/homepage-service
PR #141: Populate the platform in EmitPageViewEvent

Description:



=====================================================
Timestamp:  2024-10-22T15:15:57Z
Repository: ConsultingMD/realtime-eligibility
PR #363: Use 22hrs instead of 23, add more logging to better debug, add instrumentation

Description:



=====================================================
Timestamp:  2024-10-21T21:19:56Z
Repository: ConsultingMD/realtime-eligibility
PR #361: do not rollbar timeouts/deadline exceeded, take 2

Description:
From the dod-be pathway we cache errors for 5 minutes. The error msg is stored as a plain string so it's untyped and `errors.Is` won't work


=====================================================
Timestamp:  2024-10-21T18:16:10Z
Repository: ConsultingMD/realtime-eligibility
PR #360: do not rollbar on stedi 4XX errors nor timeouts/deadline exceeded

Description:
We should not be raising a rollbar for 4XX responses from Stedi, nor for context deadline exceeded or timeouts. We have metrics for this already.
<img width="1895" alt="image" src="https://github.com/user-attachments/assets/f24cd3a2-c1cf-4395-a188-1a5f2379b4e5">

https://grafana.includedhealth.com/goto/zxhsC_iNg?orgId=1


=====================================================
Timestamp:  2024-10-18T18:56:29Z
Repository: ConsultingMD/coverage
PR #1661: [AAA-2553] Trigger the warmRTEcache query if warmRTECache input is true

Description:
[AAA-2553](https://includedhealth.atlassian.net/browse/AAA-2553)

FF: [rte-enable-cache-warming](https://app.launchdarkly.com/projects/coverage-server/flags/rte-enable-cache-warming?env=uat&env=production&selected-env=production)

[AAA-2553]: https://includedhealth.atlassian.net/browse/AAA-2553?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-10-18T02:51:33Z
Repository: ConsultingMD/coverage
PR #1659: [AAA-2544] Update GetPricingConfiguration RPC to accept an inquiry_type param

Description:
[AAA-2544](https://includedhealth.atlassian.net/browse/AAA-2544)

This is still not used in the current ProxyEligibility endpoint in rte. That will go in a separate change.



[AAA-2544]: https://includedhealth.atlassian.net/browse/AAA-2544?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-10-17T14:42:11Z
Repository: ConsultingMD/realtime-eligibility
PR #357: remove branching from g.ldUseRetriesWithBackoff FF, this is now the default current format

Description:
We no longer need to have this branching logic as we'll always have retries. This will also soon move to the temporal wf


=====================================================
Timestamp:  2024-10-17T02:03:37Z
Repository: ConsultingMD/proto-common
PR #870: [AAA-2544] Update GetPricingConfiguration RPC to accept an inquiry_type param

Description:
[AAA-2544](https://includedhealth.atlassian.net/browse/AAA-2544)

cost-share service would send in `CURRENT` as the inquiry type on majority of cases.

[AAA-2544]: https://includedhealth.atlassian.net/browse/AAA-2544?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-10-17T01:36:19Z
Repository: ConsultingMD/coverage
PR #1652: [AAA-2552] add warmRTECache input to availableBenefits query

Description:
[AAA-2552](https://includedhealth.atlassian.net/browse/AAA-2552)

https://includedhealth.atlassian.net/browse/AAA-2543 includes the reasoning why client SMEs decided this was the preferred option.

This PR just adds the new input + code gen. https://includedhealth.atlassian.net/browse/AAA-2553 will finish the implementation of it.

[AAA-2552]: https://includedhealth.atlassian.net/browse/AAA-2552?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-10-16T19:45:44Z
Repository: ConsultingMD/realtime-eligibility
PR #354: add some heredocs + consts

Description:



=====================================================
Timestamp:  2024-10-15T22:13:40Z
Repository: ConsultingMD/realtime-eligibility
PR #350: [AAA-2317] add warmRTECache query

Description:
[AAA-2317](https://includedhealth.atlassian.net/browse/AAA-2317)

This adds the `WarmRteCache` mutation. We don't case about the response, it will just trigger an RTE request for the member. It will always use a cache value of 23hrs. For now it's trigger the RteProxy resolver but this will be switched to call the rpc async endpoint instead

[AAA-2317]: https://includedhealth.atlassian.net/browse/AAA-2317?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-10-14T20:11:41Z
Repository: ConsultingMD/coverage
PR #1644: Remove hardcoded FL checks from code, instead rely on FF result

Description:
https://includedhealth.atlassian.net/browse/LE-283
Previous PR: https://github.com/ConsultingMD/coverage/pull/1641
This PR:
- removes all hardcoded checks for FL and instead uses the FF to determine lasso eligibility
- Updates/Adds tests
- update the customer selection logic to be extensible to other US states


Steps:
- before merging this make sure that https://github.com/ConsultingMD/coverage/pull/1641 is merged and deployed to production. Also make sure that the FF targeting rule is updated to include the state check.


=====================================================
Timestamp:  2024-10-14T14:43:26Z
Repository: ConsultingMD/coverage
PR #1641: Task/le 283/add support launch lasso in TX

Description:
After this is deployed to production and we update the existing FF to include the state in the targeting rule we will remove the hardcoded FL check in the code

https://app.launchdarkly.com/projects/coverage-server/flags/lasso-populations-per-milestone?env=uat&env=production&selected-env=production

Steps:
- merge and deploy this to production
- Update existing targeting rules in the FF to filter by `us_state` as well
- merge and deploy [PR](https://github.com/ConsultingMD/coverage/pull/1644) to remove the hardcoded FL check in code. Update/Add tests

https://includedhealth.atlassian.net/browse/LE-283


=====================================================
Timestamp:  2024-10-11T22:18:42Z
Repository: ConsultingMD/go-common
PR #1055: [LE-283] add UserJSONFeatureFlagger type which allows us to pass custom attributes to a JSONVariation flag

Description:
[LE-283](https://includedhealth.atlassian.net/browse/LE-283)

This allows us to pass custom attributes to the JSONVariation flag. This will be used to pass the member's state_code to LD so we can launch lasso for TX.

[LE-283]: https://includedhealth.atlassian.net/browse/LE-283?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ

RELEASE_NOTES: added UserJSONFeatureFlagger type which allows us to pass custom attributes to a JSONVariation flag evaluation.


=====================================================
Timestamp:  2024-10-11T18:53:12Z
Repository: ConsultingMD/dod-backend
PR #12610: pass state_code to FF

Description:
After this is deployed to production and we update the existing FF to include the state in the targeting rule we will remove the hardcoded FL check in the code

https://app.launchdarkly.com/projects/dod-backend/flags/lasso-m4-is-dih?env=legacy-dod-demo&env=production&selected-env=production

Steps:
- merge and deploy this to production
- Update existing targeting rules in the FF to filter by state_code as well
- merge and deploy [PR](https://github.com/ConsultingMD/dod-backend/pull/12609) which removes the hardcoded FL check in code


=====================================================
Timestamp:  2024-10-11T18:52:45Z
Repository: ConsultingMD/dod-backend
PR #12609: remove hardcoded fl check

Description:
This PR is a follow-up to https://github.com/ConsultingMD/dod-backend/pull/12610

Now that the FF has been updated to check for state as well, we can remove the hardcoded check in the code.

<img width="2011" alt="image" src="https://github.com/user-attachments/assets/6b6c93cc-9308-4b80-8b5e-baa27ec4f602">
<img width="1995" alt="image" src="https://github.com/user-attachments/assets/81000bc8-8858-41bf-9f93-a6ef2fc5598f">




=====================================================
Timestamp:  2024-10-09T19:59:14Z
Repository: ConsultingMD/realtime-eligibility
PR #346: update to use errors v2 package

Description:



=====================================================
Timestamp:  2024-10-09T01:34:15Z
Repository: ConsultingMD/coverage
PR #1620: bump go-common to 1.108.0

Description:



=====================================================
Timestamp:  2024-10-08T23:05:05Z
Repository: ConsultingMD/coverage
PR #1614: update to use new schema

Description:
this fixes the standard_lint check failing which also prevents deploys
```
Now deploying coverage-server version e317bc1ce367201455bea79a238d5855495e9204...
rpc error: code = Unknown desc = descriptor is invalid (descriptor=kafka.yaml error="schema validation failed:
 /spec/topics/1/exportToLasik: expected object, but got boolean
 /spec/topics/2/exportToLasik: expected object, but got boolean")
```


=====================================================
Timestamp:  2024-10-08T18:33:33Z
Repository: ConsultingMD/coverage
PR #1610: if we encounter an RTE issue, still return the pricing config so cost share can use the downtime price if they want to

Description:
The downtime price is contained in the charge table line item. Currently this is only returned if we're able to make a successful RTE call. This change makes sure to return a response that has the pricing config even if we had issues retrieving making the RTE call. 

This way cost-share can decide whether to show the downtime price to the member (instead of retail)


=====================================================
Timestamp:  2024-10-08T16:26:58Z
Repository: ConsultingMD/realtime-eligibility
PR #337: set explicit label for 429s for better visibility

Description:



=====================================================
Timestamp:  2024-10-08T16:05:43Z
Repository: ConsultingMD/realtime-eligibility
PR #336: do not cache non-200 http status codes

Description:
Investigation from @mattforbes-gr  
https://ih-epdd.slack.com/archives/C04NXSVJ2FM/p1728353189526279

<img width="1827" alt="image" src="https://github.com/user-attachments/assets/a20a2b6b-8e7e-487b-8c3e-037aec42c349">



=====================================================
Timestamp:  2024-10-07T21:31:00Z
Repository: ConsultingMD/wizard
PR #220: bump the http timeout to match other services in the enrollment flow

Description:
similar to https://github.com/ConsultingMD/enrollment/pull/243


=====================================================
Timestamp:  2024-10-07T19:55:34Z
Repository: ConsultingMD/mx-ui-workflows
PR #674: bump timeout to 60s to match other services in the enrollment flow

Description:
similar to https://github.com/ConsultingMD/account/pull/730


=====================================================
Timestamp:  2024-10-07T19:42:02Z
Repository: ConsultingMD/enrollment
PR #243: bump timeout to match all other services

Description:
similar to https://github.com/ConsultingMD/account/pull/730


=====================================================
Timestamp:  2024-10-07T15:26:43Z
Repository: ConsultingMD/account
PR #730: increase timeout for gql calls

Description:
similar to https://github.com/ConsultingMD/oneapp-migration/pull/496

Jarvis currently calls coverage, which can take a long time to respond if it needs to make an RTE request for certain payers, so we increase the timeout to 60 seconds.

This then leads to pages about the AIS consumer lag falling behind:
<img width="2481" alt="image" src="https://github.com/user-attachments/assets/6e9eafc7-5f0a-4b8a-b28b-26e554718dc8">



=====================================================
Timestamp:  2024-10-06T19:23:44Z
Repository: ConsultingMD/realtime-eligibility
PR #329: use the timeout from the ff

Description:



=====================================================
Timestamp:  2024-10-06T19:11:41Z
Repository: ConsultingMD/realtime-eligibility
PR #328: Revert "Add RPC service for CCH"

Description:
Reverts ConsultingMD/realtime-eligibility#320

This PR caused requests for Stedi to stop flowing through. I have not identified the root cause but reverting since we need to get some critical RTE fixes out. @benjaminlindahl 

"hmm unless adding the rpc service somehow overwrote our http handler"


=====================================================
Timestamp:  2024-10-06T00:36:29Z
Repository: ConsultingMD/realtime-eligibility
PR #326: Revert "support adjusting timeout per payer"

Description:
Reverts ConsultingMD/realtime-eligibility#325

Just in case we don't forward fix it.


=====================================================
Timestamp:  2024-10-05T19:08:48Z
Repository: ConsultingMD/realtime-eligibility
PR #325: support adjusting timeout per payer

Description:
FF: [rte-payer-specific-timeout](https://app.launchdarkly.com/projects/realtime-eligibility/flags/rte-payer-specific-timeout?env=test&env=production&selected-env=production)

These are our slowest payers for which we get the most timeouts for (even after all the recent fixes):
<img width="879" alt="image" src="https://github.com/user-attachments/assets/f4e5f0b0-e15e-4ed7-9070-c1e528615f6e">

We'll want to set a custom timeout to 1 minute for these.
<img width="2028" alt="image" src="https://github.com/user-attachments/assets/8532bf65-ac97-44f6-8bf9-b2af64ea395b">
<img width="1315" alt="image" src="https://github.com/user-attachments/assets/55f5505e-08e3-469d-a3ec-820e3114ce07">



=====================================================
Timestamp:  2024-10-04T21:44:17Z
Repository: ConsultingMD/realtime-eligibility
PR #324: [AAA-2312] add checkPollStatus RPC

Description:
[AAA-2312](https://includedhealth.atlassian.net/browse/AAA-2312)

adding empty implementation for now. Will be finalized once the temporal workflow is created

Filed https://includedhealth.atlassian.net/browse/AAA-2428 for the actual implementation

[AAA-2312]: https://includedhealth.atlassian.net/browse/AAA-2312?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-10-03T21:47:31Z
Repository: ConsultingMD/realtime-eligibility
PR #316: change buckets

Description:



=====================================================
Timestamp:  2024-10-03T20:27:36Z
Repository: ConsultingMD/realtime-eligibility
PR #314: bump from 15s to 20s based on stedi saying that the majority of them take ~15s

Description:



=====================================================
Timestamp:  2024-10-03T19:52:28Z
Repository: ConsultingMD/realtime-eligibility
PR #312: add meta to struct so we can see the outbound trace id in the logs instead of having to BG

Description:
```json
{
    "meta": {
        "senderId": "STEDI",
        "submitterId": "117151744",
        "applicationMode": "production",
        "traceId": "01J97601X1YD28W3QKR1DK9Y5P",
        "outboundTraceId": "01J97601X1YD28W3QKR1DK9Y5P"
    },
```
Stedi leverages the outbound trace id field to help with debugging. Let's surface that so it shows up in the logs and we don't have to BG to find it in lasik

<img width="1252" alt="image" src="https://github.com/user-attachments/assets/8e5bcb8a-82ed-4f7d-a4c9-83a1243789a5">



=====================================================
Timestamp:  2024-10-02T03:01:57Z
Repository: ConsultingMD/realtime-eligibility
PR #308: Increate retry timeout to 15, max timeout to 45, handle deadline errors on the proxy side

Description:
to hopefully address:
- https://app.rollbar.com/a/Grandrounds/fix/item/realtime-eligibility/99
- https://app.rollbar.com/a/Grandrounds/fix/item/realtime-eligibility/93
- https://app.rollbar.com/a/Grandrounds/fix/item/realtime-eligibility/63


=====================================================
Timestamp:  2024-10-02T01:32:11Z
Repository: ConsultingMD/coverage
PR #1575: these needed to be flipped

Description:
fix from https://github.com/ConsultingMD/coverage/pull/1574

been a long day.  
```
rpc error: code = InvalidArgument desc = resource request is higher than the limit: bad request (res=memory req=400Mi limit=300Mi)
```


=====================================================
Timestamp:  2024-10-01T23:59:18Z
Repository: ConsultingMD/bobs
PR #5325: revert recent dependabots due to rollbars

Description:
https://ih-epdd.slack.com/archives/C03FXP5GP7Z/p1727806390260429


=====================================================
Timestamp:  2024-10-01T23:51:23Z
Repository: ConsultingMD/coverage
PR #1574: bump memory thresholds to the new normal

Description:
<img width="1492" alt="image" src="https://github.com/user-attachments/assets/74cb9a42-8526-408a-bb20-e213151e1239">



=====================================================
Timestamp:  2024-10-01T23:39:24Z
Repository: ConsultingMD/person
PR #323: bump CPU limit to 3012m based on value from recommendation dashboard

Description:
https://grand-rounds.pagerduty.com/incidents/Q1ZCB695RS69GF
<img width="1588" alt="image" src="https://github.com/user-attachments/assets/f4ae8f2d-fba7-41b4-a8f2-cb6e71299c61">

This is the new normal according to the resource recommendation dashboard
<img width="2526" alt="image" src="https://github.com/user-attachments/assets/8f31d96c-a508-415a-805f-f5c2f0609b46">



=====================================================
Timestamp:  2024-10-01T22:25:59Z
Repository: ConsultingMD/realtime-eligibility
PR #307: leave the backoff config for the dod-be call path as it was

Description:



=====================================================
Timestamp:  2024-10-01T19:46:27Z
Repository: ConsultingMD/realtime-eligibility
PR #305: Revert "[AAA-2304] Add temporal to RTE"

Description:
Reverts ConsultingMD/realtime-eligibility#303


=====================================================
Timestamp:  2024-10-01T19:07:35Z
Repository: ConsultingMD/realtime-eligibility
PR #304: set DefaultMaxElapsedTime to 8 seconds (from 40s)

Description:
cost share service times out at 20s. RTE does at most 3 retries with exponential backoff.

[Exhibit A](https://grafana.includedhealth.com/goto/AGBR0SkHg?orgId=1): with exponential backoff

[Exhibit B:](https://grafana.includedhealth.com/goto/bConASzHR?orgId=1): with max retries (3, each of 10s) exhausted
<img width="2299" alt="image" src="https://github.com/user-attachments/assets/8c283ba1-e845-4e0f-bab9-7477b8cf0b4b">



=====================================================
Timestamp:  2024-10-01T05:04:13Z
Repository: ConsultingMD/bobs
PR #5321: bump memory thresholds for er server and fasv1 server

Description:
To address:
- https://grand-rounds.pagerduty.com/incidents/Q0U4FAZG0HTNWG
- https://grand-rounds.pagerduty.com/incidents/Q3N0Y8A7TULV5X

These services have been operating at this level for over a week now.

Values obtained from the resource recommendation [graph](https://grafana.includedhealth.com/d/fdj2dpi4jr400f/resource-recommendations?orgId=1&var-environment=production&var-region=us-east-1&var-cpu_request=0&var-memory_request=0&var-target_cpu_percent=99&from=now-30d&to=now&var-namespace=dps-eng-financialaccount-server)


=====================================================
Timestamp:  2024-09-27T22:49:04Z
Repository: ConsultingMD/realtime-eligibility
PR #300: [DATASERV-9668] use the correct trading partner id

Description:
[DATASERV-9668](https://includedhealth.atlassian.net/browse/DATASERV-9668)

```json
{
    "meta": {
        "senderId": "STEDI",
        "submitterId": "117151744",
        "applicationMode": "production",
        "traceId": "01J8TSZCHP0FH0085WMZ52QY2K",
        "outboundTraceId": "01J8TSZCHP0FH0085WMZ52QY2K"
    },
    "controlNumber": "123456789",
    "reassociationKey": "123456789",
    "tradingPartnerServiceId": "PRMWST",
    "provider": {
        "providerName": "Doctor on Demand, Inc.",
        "entityIdentifier": "Provider",
        "entityType": "Non-Person Entity",
        "npi": "1174931448"
    },
```

[DATASERV-9668]: https://includedhealth.atlassian.net/browse/DATASERV-9668?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-09-27T15:48:50Z
Repository: ConsultingMD/dod-backend
PR #12596: [DATASERV-9709] fix activate eligibility lag in dod

Description:
all details in the linked ticket

[DATASERV-9709](https://includedhealth.atlassian.net/browse/DATASERV-9709)

The following [query](https://github.com/ConsultingMD/dod-backend/blob/5d3be1bb9308059146938a37e91fc9c633edac33/dod_backend/primary_care/models.py#L182) takes >5s to run and it's causing timeouts. We estimate that this is affecting ~15 members from getting care each day.
<img width="2536" alt="image" src="https://github.com/user-attachments/assets/2303dfcb-a54e-44c9-8038-aec303f5465d">
```sql
SELECT doctors_doctor.id,
         doctors_doctor.uuid,
         doctors_doctor.ih_practitioner_id,
         doctors_doctor.user_id,
         doctors_doctor.app_type,
         doctors_doctor.app_token,
         doctors_doctor.last_login,
         doctors_doctor.last_update,
         doctors_doctor.session_key,
         doctors_doctor.account_state,
         doctors_doctor.is_demo,
         doctors_doctor.is_training,
         doctors_doctor.is_CHC,
         doctors_doctor.allow_adhoc,
         doctors_doctor.allow_self_scheduling,
         doctors_doctor.allow_beta_ui_access,
         doctors_doctor.allow_interpretation_calls,
         doctors_doctor.accepts_voice,
         doctors_doctor.role_class,
         doctors_doctor.contractual_hours,
         doctors_doctor.estimated_start_date,
         doctors_doctor.inactive_date,
         doctors_doctor.return_date,
         doctors_doctor.surescripts_provider_location_uuid,
         doctors_doctor.surescripts_terms_agreement_date,
         doctors_doctor.is_preferred,
         doctors_doctor.average_calls_threshold,
         doctors_doctor.buffer_length,
         doctors_doctor.is_exempt_from_checkin,
         doctors_doctor.use_dod_medmal,
         doctors_doctor.doctor_group_id,
         doctors_doctor.takes_by_provider_appointments,
         doctors_doctor.is_practice_only,
         doctors_doctor.see_under_18,
         doctors_doctor.see_over_18,
         doctors_doctor.npi_number,
         doctors_doctor.dea_number,
         doctors_doctor.dea_expiration,
         doctors_doctor.dea_state,
         doctors_doctor.erx_id,
         doctors_doctor.old_erx_id,
         doctors_doctor.erx_password,
         doctors_doctor.surescripts_id,
         doctors_doctor.is_reviewer,
         doctors_doctor.allow_after_hours_calls,
         doctors_doctor.file_uploaded_to_s3,
         doctors_doctor.call_status,
         doctors_doctor.current_shift_id,
         doctors_doctor.current_call_id,
         doctors_doctor.exclude_from_adhoc_shifts,
         COUNT(DISTINCT doctors_primarycareprovider.member_id) FILTER (WHERE doctors_primarycareprovider.end_datetime IS NULL) AS primary_care_member_count
FROM doctors_doctor
INNER JOIN organizations_medicalpractice_doctors
    ON (doctors_doctor.id = organizations_medicalpractice_doctors.doctor_id)
INNER JOIN organizations_medicalpractice
    ON (organizations_medicalpractice_doctors.medicalpractice_id = organizations_medicalpractice.id)
INNER JOIN users_doduser
    ON (doctors_doctor.user_id = users_doduser.id) LEFT OUTER
JOIN doctors_primarycareprovider
    ON (doctors_doctor.id = doctors_primarycareprovider.doctor_id)
WHERE (organizations_medicalpractice.name = %s
        AND NOT doctors_doctor.is_demo
        AND users_doduser.is_active
        AND doctors_doctor.takes_by_provider_appointments
        AND doctors_doctor.see_over_18
        AND doctors_doctor.id IN
    (SELECT U0.doctor_id
    FROM doctors_doctorstatelicense U0
    WHERE (U0.expiration_date > %s
            AND U0.issue_date <= %s
            AND U0.us_state = %s
            AND NOT (U0.license_number = %s
            AND U0.license_number IS NOT NULL))))
GROUP BY  doctors_doctor.id
ORDER BY  primary_care_member_count ASC
```

All the join columns already have indexes but a lot of the ones used in the `WHERE` do not. This PR adds those indexes concurrently to not lock the table for the following columns:

From the where clauses, not all columns have indexes. Can add some for the following:
```
doctors_doctor.takes_by_provider_appointments
doctors_doctorstatelicense.expiration_date
doctors_doctorstatelicense.issue_date
doctors_doctorstatelicense.license_number
doctors_primarycareprovider.end_datetime
users_doduser.is_active
```

This should hopefully increase the performance bottleneck.

[DATASERV-9709]: https://includedhealth.atlassian.net/browse/DATASERV-9709?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-09-26T18:14:35Z
Repository: ConsultingMD/coverage
PR #1569: NPE: account for a nil proxy response

Description:
Fixes an NPE: https://app.rollbar.com/a/Grandrounds/fix/item/coverage-server/2087 where proxy response is nil


=====================================================
Timestamp:  2024-09-25T16:43:18Z
Repository: ConsultingMD/account
PR #694: Revert "Bump the go-dependencies group across 1 directory with 6 updates"

Description:
Reverts ConsultingMD/account#692 as it's causing it's protobuf build issues: https://ih-epdd.slack.com/archives/C060T3103S8/p1727281301665939


=====================================================
Timestamp:  2024-09-25T14:19:19Z
Repository: ConsultingMD/bobs
PR #5314: remove this line to address dependabot security alert

Description:
https://github.com/ConsultingMD/bobs/security/dependabot/111


=====================================================
Timestamp:  2024-09-25T03:11:21Z
Repository: ConsultingMD/coverage
PR #1562: [AAA-2224] Augment RTELog to have a downtime flag

Description:
* Set this field is the response was a downtime. [coverage-server]

This change unblocks the FE ST changes.
[AAA-2224](https://includedhealth.atlassian.net/browse/AAA-2224)


[AAA-2224]: https://includedhealth.atlassian.net/browse/AAA-2224?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-09-24T03:06:04Z
Repository: ConsultingMD/proto-common
PR #742: [AAA-2224] Augment RTELog to have a downtime flag

Description:
[AAA-2224](https://includedhealth.atlassian.net/browse/AAA-2224)

[AAA-2224]: https://includedhealth.atlassian.net/browse/AAA-2224?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-09-24T01:50:23Z
Repository: ConsultingMD/coverage
PR #1561: warn if the predicate is evaluated during a DTE to not rollbar

Description:
To fix these types of rollbars: https://app.rollbar.com/a/Grandrounds/fix/item/coverage-server/1980/occurrence/416967461930%23detail?isSnoozed=false
which have added significant noise to our rollbar firehose slack channel.

If we try to evaluate a predicate with a DTE response we should not raise a rollbar as this would be an expected error.


=====================================================
Timestamp:  2024-09-19T20:10:43Z
Repository: ConsultingMD/coverage
PR #1552: [AAA-2194] [Metrics] Log getCustomersWithAliases with and without M4 customers

Description:
/getCustomersWithAliases returns M4 customers or not based on location checks. Metric on the result and reason for it (e.g. current-lasso-phase, no location, location not florida, etc.)

[AAA-2194](https://includedhealth.atlassian.net/browse/AAA-2194)

[AAA-2194]: https://includedhealth.atlassian.net/browse/AAA-2194?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-09-18T20:24:17Z
Repository: ConsultingMD/coverage
PR #1544: make the rte_coverage_not_verified reason more granular

Description:



=====================================================
Timestamp:  2024-09-17T19:12:25Z
Repository: ConsultingMD/coverage
PR #1536: Revert "Revert "[MX-9298] Add ability to target by platform on current-lasso-phase feature flag""

Description:
Reverts ConsultingMD/coverage#1533


=====================================================
Timestamp:  2024-09-17T19:12:15Z
Repository: ConsultingMD/oneapp-migration
PR #431: Revert "Revert "migrate current-lasso-phase to v2 flag""

Description:
Reverts ConsultingMD/oneapp-migration#426


=====================================================
Timestamp:  2024-09-17T18:57:09Z
Repository: ConsultingMD/oneapp-migration
PR #430: update config so we notify in slack of deploys

Description:



=====================================================
Timestamp:  2024-09-17T18:35:09Z
Repository: ConsultingMD/coverage
PR #1533: Revert "[MX-9298] Add ability to target by platform on current-lasso-phase feature flag"

Description:
Reverts ConsultingMD/coverage#1526


=====================================================
Timestamp:  2024-09-17T17:43:24Z
Repository: ConsultingMD/mx-ui-workflows
PR #654: [MX-9298] bump go-common to 1.98

Description:
Allow for targeting by mobile os, app version, etc.. on the current-lasso-phase flag checks

[MX-9298](https://includedhealth.atlassian.net/browse/MX-9298)

[MX-9298]: https://includedhealth.atlassian.net/browse/MX-9298?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-09-17T13:43:36Z
Repository: ConsultingMD/go-common
PR #983: [MX-9298] Add ability to target by platform on current-lasso-phase feature flag

Description:
Allow for targeting by mobile os, app version, etc.. on the current-lasso-phase flag checks

[MX-9298](https://includedhealth.atlassian.net/browse/MX-9298)

[MX-9298]: https://includedhealth.atlassian.net/browse/MX-9298?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-09-17T03:20:28Z
Repository: ConsultingMD/coverage
PR #1526: [MX-9298] Add ability to target by platform on current-lasso-phase feature flag

Description:
Allow for targeting by mobile os, app version, etc.. on the current-lasso-phase flag checks
FF: [current-lasso-phase-user-attrs](https://app.launchdarkly.com/projects/coverage-server/flags/current-lasso-phase-user-attrs?env=uat&env=production&selected-env=uat)

Adds the following attributes to the flag check:
- `device-id`
- `user-agent`
- `platform`
- `app-version`

[MX-9298](https://includedhealth.atlassian.net/browse/MX-9298)

[MX-9298]: https://includedhealth.atlassian.net/browse/MX-9298?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-09-16T17:06:02Z
Repository: ConsultingMD/realtime-eligibility
PR #296: [AAA-2121] Add retry logic in the RTEProxy call

Description:
[AAA-2121](https://includedhealth.atlassian.net/browse/AAA-2121)

LD FF: [rte-proxy-use-retries-with-backoff](https://app.launchdarkly.com/projects/realtime-eligibility/flags/rte-proxy-use-retries-with-backoff?env=test&env=production&selected-env=production)

Notes:
- we were also missing some metrics which were added here.


[AAA-2121]: https://includedhealth.atlassian.net/browse/AAA-2121?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-09-14T21:05:30Z
Repository: ConsultingMD/coverage
PR #1515: add test to verify this works

Description:
I have no idea why/how we're getting this rollbar: https://app.rollbar.com/a/Grandrounds/fix/item/coverage-server/2629/occurrence/416216823664#detail

The test added passes locally and in circle.


=====================================================
Timestamp:  2024-09-13T19:01:32Z
Repository: ConsultingMD/coverage
PR #1510: move metric attempt below

Description:
Should make this metric attempt more readable
<img width="880" alt="image" src="https://github.com/user-attachments/assets/49ce53b8-8a47-4915-a504-125c2616b030">



=====================================================
Timestamp:  2024-09-13T16:54:20Z
Repository: ConsultingMD/coverage
PR #1508: [AAA-1884] population memberships functionality metrics

Description:
[AAA-1884](https://includedhealth.atlassian.net/browse/AAA-1884)

- now using EnsureMetric()
- key changes being [this](https://github.com/ConsultingMD/coverage/pull/1508/files#diff-64bc862320397490243160e52cb20e18e205a0f25a112f25f75fb072ed915a61R226), [this](https://github.com/ConsultingMD/coverage/pull/1508/files#diff-2d74295098fd51b9788f479b1d9aea3b766728c8d30f47b849926545c9b12cfdR153) and [this](https://github.com/ConsultingMD/coverage/pull/1508/files#diff-f9717cfee0065e10a68884f5caee75fd699ad54c8200fd7a3cd95b37aa7a4ad8R77-R82)

[AAA-1884]: https://includedhealth.atlassian.net/browse/AAA-1884?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-09-13T16:01:21Z
Repository: ConsultingMD/coverage
PR #1507: Revert "[AAA-1884] population memberships functionality metrics"

Description:
Reverts ConsultingMD/coverage#1505

There was an issue in this PR which blocks the deploy. Will revert to unblock deploys and fix separately.
https://ih-epdd.slack.com/archives/C03GXCDA48Y/p1726241527403809

I guess [this](https://github.com/ConsultingMD/coverage/pull/1505/files#diff-64bc862320397490243160e52cb20e18e205a0f25a112f25f75fb072ed915a61R227) line is wrong? since I'm already instantiating it [here](https://github.com/ConsultingMD/coverage/pull/1505/files#diff-2d74295098fd51b9788f479b1d9aea3b766728c8d30f47b849926545c9b12cfdR158)

```
{"level":"panic","ts":1726242631.2494543,"caller":"builder/common.go:137","msg":"failed to start app","error":"pre-run failed: panic: duplicate metrics collector registration attempted\n\ngithub.com/prometheus/client_golang/prometheus.(*Registry).MustRegister\n\t/tmp/golang/pkg/mod/github.com/prometheus/client_golang@v1.20.2/prometheus/registry.go:406\ng 
 ithub.com/ConsultingMD/go-common/telemetry.mustRegisterMetric[...]\n\t/tmp/golang/pkg/mod/github.com/!consulting!m!d/go-common@v1.91.0/telemetry/metrics.go:428\ngithub.com/Consul 
 tingMD/go-common/telemetry.Metrics.CreateCounter\n\t/tmp/golang/pkg/mod/github.com/!consulting!m!d/go-common@v1.91.0/telemetry/metrics.go:439\ngithub.com/ConsultingMD/coverage/app/servicev2/realtimeeligibility.NewMetrics\n\t/home/circleci/project/app/servicev2/realtimeeligibility/metrics.go:75\ngithub.com/ConsultingMD/coverage/app/servicev2/populationv2.NewService\n\t/home/circleci/project/app/servicev2/populationv2/population.go:227\ngithub.com/ConsultingMD/coverage/app/handler/graph.Initialize\n\t/home/circleci/project/app/handler/graph/app.go:432\ngithub.com/ConsultingMD/go-common/app/builder.(*appCommon[...]).runAction\n\t/tmp/golang/pkg/mod/github.com/!consulting!m!d/go-common@v1.91.0/app/builder/common.go:335\ngithub.com/ConsultingMD/go-common/app/builder.(*appCommon[...]).runStage\n\t/tmp/golang/pkg/mod/github.com/!consulting!m!d/go-common@v1.91.0/app/builder/common.go:310\ngithub.com/ConsultingMD/go-common/app/builder.(*appCommon[...]).doPreRun\n\t/tmp/golang/pkg/mod/github.com/!consulting!m!d/go-common@v1.91.0/app/builder/common.go:276\ngithub.com/ConsultingMD/go-common/app/builder.(*appCommon[...]).start\n\t/tmp/golang/pkg/mod/github.com/!consulting!m!d/go-common@v1.91.0/app/builder/common.go:198\ngithub.com/ConsultingMD/go-common/app/builder.(*appCommon[...]).Run\n\t/tmp/golang/pkg/mod/github.com/!consulting!m!d/go-common@v1.91.0/app/builder/common.go:135\ngithub.com/ConsultingMD/go-common/app/builder.WebApp[...].Run\n\t/tmp/golang/pkg/mod/github.com/!consulting!m!d/go-common@v1.91.0/app/builder/webapp.go:116\nmain.main\n\t/home/circleci/project/cmd/server/server.go:23\nruntime.main\n\t/tmp/golang/pkg/mod/golang.org/toolchain@v0.0.1-go1.22.6.linux-amd64/src/runtime/proc.go:271\n","stacktrace":"github.com/ConsultingMD/go-common/app/builder.(*appCommon[...]).start\n  /tmp/golang/pkg/mod/github.com/!consulting!m!d/go-common@v1.91.0/app/builder/common.go:200\ngithub.com/ConsultingMD/go-common/app/builder.(*appCommon[...]).Run\n  /tmp/golang/pkg/mod/github.com/!consulting!m!d/go-common@v1.91.0/app/builder/common.go:135\ngithub.com/ConsultingMD/go-common/app/builder.WebApp[...].Run\n  /tmp/golang/pkg/mod/github.com/!consulting!m!d/go-common@v1.91.0/app/builder/webapp.go:116\nmain.main\n  /home/circleci/project/cmd/server/server.go:23\nruntime.main\n  /tmp/golang/pkg/mo d/golang.org/toolchain@v0.0.1-go1.22.6.linux-amd64/src/runtime/proc.go:271\n"}
```


=====================================================
Timestamp:  2024-09-13T03:39:35Z
Repository: ConsultingMD/coverage
PR #1505: [AAA-1884] population memberships functionality metrics

Description:
Includes:
  - how many auto unenrollments during population membership fetch
  - attempts and successes of fetching population memberships for RTE enrollments
    - attempt means we get call to beneficiaryPopMems and the user has an RTE enrollment channel membership

[AAA-1884](https://includedhealth.atlassian.net/browse/AAA-1884)

[AAA-1884]: https://includedhealth.atlassian.net/browse/AAA-1884?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-09-13T01:32:34Z
Repository: ConsultingMD/coverage
PR #1502: [AAA-1882] "Is RTE working" metrics  and  logging

Description:
Adds instrumentation for:
- GetRTEMembership
- additional instrumentation to GetRawRTEResponse (to include the tradingPartnerID when applicable)

I think this covers the full happy/sad path of getting RTE for a member.
[AAA-1882](https://includedhealth.atlassian.net/browse/AAA-1882) and also includes [AAA-1883](https://includedhealth.atlassian.net/browse/AAA-1883) (sad path)

[AAA-1882]: https://includedhealth.atlassian.net/browse/AAA-1882?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ
[AAA-1883]: https://includedhealth.atlassian.net/browse/AAA-1883?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-09-12T19:10:19Z
Repository: ConsultingMD/coverage
PR #1495: [AAA-1882] RTEFlow metrics scaffolding + initial instrumentation

Description:
Initial scaffolding for RTE flow metrics.

Instruments the following methods:
- BuildRenderedRequest
- GetRawRTEResponse

[AAA-1882]: https://includedhealth.atlassian.net/browse/AAA-1882?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-09-11T18:53:39Z
Repository: ConsultingMD/coverage
PR #1489: [AAA-1948] Augment GetRTEMemberships to update the provisional/active status for an account

Description:
[AAA-1948](https://includedhealth.atlassian.net/browse/AAA-1948)
The enrollmentStatus method is read only and should remain so. The issue is that accessing population memberships (directly or via benefits/insuranceplans) should run rte and update the PROVISIONAL/ACTIVE status. This piece ws=as missing in the current implementation and is added here.

[AAA-1948]: https://includedhealth.atlassian.net/browse/AAA-1948?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-09-10T15:54:06Z
Repository: ConsultingMD/coverage
PR #1484: [AAA-1960] Will log real prod data in grafana for RTE

Description:
do not log the params in production, since these are verification field values and will be real people after launch

[AAA-1960](https://includedhealth.atlassian.net/browse/AAA-1960)

[AAA-1960]: https://includedhealth.atlassian.net/browse/AAA-1960?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-09-06T21:23:16Z
Repository: ConsultingMD/coverage
PR #1476: [AAA-1939] Apply string search for apply copay after deductible

Description:
[AAA-1939](https://includedhealth.atlassian.net/browse/AAA-1939)

[AAA-1939]: https://includedhealth.atlassian.net/browse/AAA-1939?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-09-06T18:46:44Z
Repository: ConsultingMD/coverage
PR #1473: [AAA-1935] Pricing Configs have VARCHAR limits that are truncating config data 

Description:
Example: Charge table line item deductible message ranking is set to VARCHAR(255) which truncates the configuration. 

[AAA-1935](https://includedhealth.atlassian.net/browse/AAA-1935)

[AAA-1935]: https://includedhealth.atlassian.net/browse/AAA-1935?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-09-06T03:16:40Z
Repository: ConsultingMD/coverage
PR #1471: misc logging updates

Description:
There are lots of confusing logs where we're hardcoding copay when it can be for another accumulator.


=====================================================
Timestamp:  2024-09-05T04:08:05Z
Repository: ConsultingMD/coverage
PR #1467: guard agaisnt not finding a HCS for a given BCID

Description:
https://includedhealth.atlassian.net/browse/AAA-1899

Fixes NPE: https://app.rollbar.com/a/Grandrounds/fix/item/coverage-server/2635/occurrence/415508046712#detail


=====================================================
Timestamp:  2024-09-04T18:46:17Z
Repository: ConsultingMD/coverage
PR #1463: Fix path for the mocked dte fixture

Description:
Mimicked what Marcelo did here: https://github.com/ConsultingMD/kaptain-hook/blob/ef4512f13ad765f5576f9130458cb311595a74b4/internal/test/fixtures.go#L15


=====================================================
Timestamp:  2024-09-03T18:22:16Z
Repository: ConsultingMD/coverage
PR #1459: another npe: check for accountID

Description:
forgot to update this one in the previous one  


=====================================================
Timestamp:  2024-09-03T17:06:39Z
Repository: ConsultingMD/coverage
PR #1458: fix npe: check for accountID

Description:
raised by https://app.rollbar.com/a/Grandrounds/fix/item/coverage-server/2095?utm_campaign=reactivated_item_message&utm_medium=slack&utm_source=rollbar-notification#occurrences


=====================================================
Timestamp:  2024-09-03T14:34:12Z
Repository: ConsultingMD/coverage
PR #1457: [AAA-1767] Update RTE in coverage server to respect the "mock-downtime-event" for pricing

Description:
[AAA-1767](https://includedhealth.atlassian.net/browse/AAA-1767)

>Instead of short-circuiting at the schema resolver level, this should short-circuit at the proxy call level, returning a canned downtime response as the raw response string. This gives us more realistic testing and unblocks downtime pricing testing. 

[AAA-1767]: https://includedhealth.atlassian.net/browse/AAA-1767?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-09-02T19:20:00Z
Repository: ConsultingMD/dod-backend
PR #12547: DTC is if no employer and payer are set

Description:



=====================================================
Timestamp:  2024-08-31T15:33:36Z
Repository: ConsultingMD/metropolis
PR #1698: update base loader to skip empty newlines in a csv

Description:
We can sometime get CSVs that have empty newlines
<img width="805" alt="image" src="https://github.com/user-attachments/assets/cdab63b3-d4f0-478d-81a3-85345bf6a9f8">

This then breaks our loading task:
<img width="1629" alt="image" src="https://github.com/user-attachments/assets/ba264d11-71c6-4610-ba26-33de3262c083">

This change skips over those lines.


=====================================================
Timestamp:  2024-08-30T22:19:53Z
Repository: ConsultingMD/coverage
PR #1451: [AAA-1769] Calling GetAthenaInsurancePackages with no benefit contract id doesnt not return the default zero AID

Description:
[AAA-1769](https://includedhealth.atlassian.net/browse/AAA-1769)

This was originally added in https://github.com/ConsultingMD/coverage/pull/1298/files but it was removed as part of a recent [refactor](https://github.com/ConsultingMD/coverage/pull/1432/files)

[AAA-1769]: https://includedhealth.atlassian.net/browse/AAA-1769?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-08-28T17:28:41Z
Repository: ConsultingMD/dod-backend
PR #12541: [AAA-1630] FF to control both retail and insurance plan users in isDIH query

Description:
https://app.launchdarkly.com/projects/dod-backend/flags/lasso-m4-is-dih?env=production&selected-env=production

This change will enable the following targeting rule on the FF:
<img width="2012" alt="image" src="https://github.com/user-attachments/assets/08fc4958-d36a-4b42-894a-c847b82b5b8e">


[AAA-1630](https://includedhealth.atlassian.net/browse/AAA-1630)

[AAA-1630]: https://includedhealth.atlassian.net/browse/AAA-1630?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-08-27T19:25:20Z
Repository: ConsultingMD/coverage
PR #1430: [AAA-1647] Ignore CoverageLevel for copay/coins; pick lower $ for ded/oop

Description:
[AAA-1647](https://includedhealth.atlassian.net/browse/AAA-1647)

[AAA-1647]: https://includedhealth.atlassian.net/browse/AAA-1647?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-08-26T20:09:25Z
Repository: ConsultingMD/coverage
PR #1425: [AAA-1620] Update APM mapper customer -> company 

Description:
https://includedhealth.atlassian.net/browse/AAA-1620


=====================================================
Timestamp:  2024-08-23T20:45:16Z
Repository: ConsultingMD/support-tools
PR #213: include sc id

Description:
TEST
```
 ./main.py --jira=work coverage api 001KS000008Ff9KYAS
WARNING:root:pyiceberg is not installed, cannot interact with Iceberg tables
Support Tool instantiated under AWS_ENVIRONMENT: uat
====================
	COVERAGE POPULATION MEMBERSHIPS
=====================
---Wrote raw coverage pop_mems for (001KS000008Ff9KYAS) to (/tmp/rancher-desktop/support-tool-data/tmp39k74ngb)

]]]]]]]]]]]]]  Beneficiary Pop Memberships for (001KS000008Ff9KYAS):

 source    relationship      population  population_sc_id    start                 end                  

 RTE       SELF               569465245  a5w5d000000HLmAAAW  2024-08-23T00:00:00Z  2024-08-24T00:00:00Z 

```


=====================================================
Timestamp:  2024-08-23T15:27:41Z
Repository: ConsultingMD/coverage
PR #1412: [AAA-1392] Set Stedi response code on RTE log 

Description:
[AAA-1392](https://includedhealth.atlassian.net/browse/AAA-1392)

RTE PR: https://github.com/ConsultingMD/realtime-eligibility/pull/278

[AAA-1392]: https://includedhealth.atlassian.net/browse/AAA-1392?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-08-23T14:54:51Z
Repository: ConsultingMD/realtime-eligibility
PR #278: [AAA-1392] Set Stedi response code on RTE log 

Description:
[AAA-1392](https://includedhealth.atlassian.net/browse/AAA-1392)

Coverage PR:

[AAA-1392]: https://includedhealth.atlassian.net/browse/AAA-1392?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-08-21T21:26:49Z
Repository: ConsultingMD/realtime-eligibility
PR #275: add back dynamo.tf file from #116

Description:



=====================================================
Timestamp:  2024-08-20T19:46:17Z
Repository: ConsultingMD/realtime-eligibility
PR #271: bump to latest go-common

Description:



=====================================================
Timestamp:  2024-08-16T20:01:04Z
Repository: ConsultingMD/proto-common
PR #624: [AAA-1219] [M4/RTE Log] Add UseCases to RTE log

Description:
Currently we arent setting RTE log Use Cases. This ticket is to add them. We need use cases for Enrollment, Cost Share, and Pricing. This can be a param passed in to the setters. 

[AAA-1219](https://includedhealth.atlassian.net/browse/AAA-1219)

[AAA-1219]: https://includedhealth.atlassian.net/browse/AAA-1219?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-08-15T03:23:33Z
Repository: ConsultingMD/coverage
PR #1356: [AAA-1219] [M4/RTE Log] Add UseCases to RTE log

Description:
Currently we arent setting RTE log Use Cases. This ticket is to add them. We need use cases for Enrollment, Cost Share, and Pricing. This can be a param passed in to the setters. 

[AAA-1219](https://includedhealth.atlassian.net/browse/AAA-1219)

[AAA-1219]: https://includedhealth.atlassian.net/browse/AAA-1219?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-08-13T19:35:02Z
Repository: ConsultingMD/coverage
PR #1333: fix NPE

Description:
https://app.rollbar.com/a/Grandrounds/fix/item/coverage-server/2087/occurrence/413670990059#detail


=====================================================
Timestamp:  2024-08-06T16:15:50Z
Repository: ConsultingMD/proto-common
PR #551: [AAA-964] [M4] Create GetAllAthenaPackageIDsForPopulation query for enrollment

Description:
[AAA-964](https://includedhealth.atlassian.net/browse/AAA-964)

[AAA-964]: https://includedhealth.atlassian.net/browse/AAA-964?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-08-05T20:46:58Z
Repository: ConsultingMD/coverage
PR #1298: [AAA-964] [M4] Create GetAllAthenaPackageIDsForPopulation query for enrollment

Description:
[AAA-964](https://includedhealth.atlassian.net/browse/AAA-964)

[AAA-964]: https://includedhealth.atlassian.net/browse/AAA-964?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-08-02T21:12:08Z
Repository: ConsultingMD/coverage
PR #1293: update RTEProxyInput cache from 1hr to 24hrs as it should've been.

Description:
Going down a rabbithole noticed the cache was set to 1hr and not the assumed 24hrs....


=====================================================
Timestamp:  2024-08-01T01:23:08Z
Repository: ConsultingMD/coverage
PR #1284: [AAA-1031] FF Pricing RPC endpoint to gate stub/real response

Description:
[AAA-1031](https://includedhealth.atlassian.net/browse/AAA-1031)

LD Flag created: [is-pricing-config-enabled](https://app.launchdarkly.com/projects/coverage-server/flags/is-pricing-config-enabled?env=production&env=uat&selected-env=production)

[AAA-1031]: https://includedhealth.atlassian.net/browse/AAA-1031?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-08-01T00:39:01Z
Repository: ConsultingMD/coverage
PR #1283: fix npe on rtechannelid

Description:
https://ih-epdd.slack.com/archives/C04NXSVJ2FM/p1722467270109279


=====================================================
Timestamp:  2024-07-31T21:56:41Z
Repository: ConsultingMD/coverage
PR #1282: [AAA-885] [M4] Implement required 270 generation changes for Service Type overrides

Description:
[AAA-885](https://includedhealth.atlassian.net/browse/AAA-885)

[AAA-885]: https://includedhealth.atlassian.net/browse/AAA-885?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-07-31T04:43:57Z
Repository: ConsultingMD/coverage
PR #1280: [AAA-891] [M4] Add coinsurance extraction logic

Description:
[AAA-891](https://includedhealth.atlassian.net/browse/AAA-891)

[AAA-891]: https://includedhealth.atlassian.net/browse/AAA-891?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-07-30T19:16:03Z
Repository: ConsultingMD/coverage
PR #1277: [AAA-891] [M4] Add coinsurance extraction logic

Description:
[AAA-891](https://includedhealth.atlassian.net/browse/AAA-891)

[AAA-891]: https://includedhealth.atlassian.net/browse/AAA-891?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-07-30T16:40:33Z
Repository: ConsultingMD/go-common
PR #867: [AAA-888] Add protox.MoneyEquals() helper method

Description:
Adds a `MoneyEquals()` helper method under the `protox` package to determine if two `money.Money` objects are the same.


=====================================================
Timestamp:  2024-07-30T15:59:17Z
Repository: ConsultingMD/coverage
PR #1275: [M4 Pricing] OOPM extraction logic

Description:
https://includedhealth.atlassian.net/browse/AAA-890


=====================================================
Timestamp:  2024-07-26T17:33:03Z
Repository: ConsultingMD/coverage
PR #1269: [AAA-927] [M4] pricing vs coverage enrollment implementation: fixes to issues encountered during testing

Description:

[AAA-927](https://includedhealth.atlassian.net/browse/AAA-927)
- In DC (deterministic coverage), cover case when it's FILE_RTE channel type
- fix for https://app.rollbar.com/a/Grandrounds/fix/item/coverage-server/2095, make sure to filter for the rte fields

[AAA-927]: https://includedhealth.atlassian.net/browse/AAA-927?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-07-25T21:10:21Z
Repository: ConsultingMD/coverage
PR #1266: [AAA-898] Update coverage server RPC handler after updating proto-common

Description:
[AAA-898](https://includedhealth.atlassian.net/browse/AAA-898)

[AAA-898]: https://includedhealth.atlassian.net/browse/AAA-898?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-07-24T21:31:32Z
Repository: ConsultingMD/coverage
PR #1258: [AAA-944] set sc_verification_field_definition.applicable_channel_type column to not null

Description:

[AAA-944](https://includedhealth.atlassian.net/browse/AAA-944)

[AAA-944]: https://includedhealth.atlassian.net/browse/AAA-944?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-07-24T20:03:38Z
Repository: ConsultingMD/potluck
PR #19026: after running tools/lasik task gen sfdc-ingest

Description:



=====================================================
Timestamp:  2024-07-23T22:36:54Z
Repository: ConsultingMD/proto-common
PR #503: [AAA-882] Update proto-common pricing messages

Description:
[AAA-882](https://includedhealth.atlassian.net/browse/AAA-882)

[AAA-882]: https://includedhealth.atlassian.net/browse/AAA-882?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-07-23T21:06:58Z
Repository: ConsultingMD/coverage
PR #1254: Fix NPE

Description:
For https://app.rollbar.com/a/Grandrounds/fix/item/coverage-server/2087
<img width="1966" alt="image" src="https://github.com/user-attachments/assets/72aa3368-d396-4d5e-ab14-0ce9b3517016">



=====================================================
Timestamp:  2024-07-19T19:44:54Z
Repository: ConsultingMD/coverage
PR #1245: [AAA-695] [M4] Implementation for RTE Service Types

Description:
[AAA-695](https://includedhealth.atlassian.net/browse/AAA-695)


- Create RTE Service Type data model in MySQL and in the replicator
- Add salescloud_repo.go method to get RTE Service Type from RTEServiceTypeID 

[AAA-695]: https://includedhealth.atlassian.net/browse/AAA-695?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-07-19T15:50:05Z
Repository: ConsultingMD/proto-common
PR #488: pricing_config: misc typo fixes

Description:



=====================================================
Timestamp:  2024-07-16T19:59:58Z
Repository: ConsultingMD/coverage
PR #1235: pricing vs coverage enrollment implementation

Description:
https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/4340711467/One-pager+Pricing+vs+Coverage+Enrollment+M4+M5

Ticket: https://github.com/ConsultingMD/coverage/pull/1235

This PR currently:
- adds `applicable_channel_type` columns to `sc_verification_field_definition`
- adds a new `FILE_RTE` type to the EnrollmentChannel type column
- handle `FILE_RTE` case in enroll account and verify coverage methods. Update misc usages in other methods. Handling for pricing will be done in a separate PR as that's not yet implemented
- updated/added tests


Not handling `FILE_RTE_CARRIER` (M5) in this PR.

Related:
- https://github.com/ConsultingMD/potluck/pull/18932


=====================================================
Timestamp:  2024-07-12T21:11:21Z
Repository: ConsultingMD/coverage
PR #1228: Adding RTE downtime detection

Description:
Initial imp of adding RTE downtime detection to coverage server. Borrowed most of the logic from RTE service. 

NOTE: this only adds detection of a downtime event. The actual handling of it will be done in a later PR(s).


=====================================================
Timestamp:  2024-07-09T20:35:54Z
Repository: ConsultingMD/realtime-eligibility
PR #233: update rte dashboard: add one for timeouts by payer

Description:
<img width="1997" alt="image" src="https://github.com/ConsultingMD/realtime-eligibility/assets/1312796/df576722-a176-4090-90f4-2484b158803e">


To help visualize https://app.rollbar.com/a/Grandrounds/fix/item/realtime-eligibility/61


=====================================================
Timestamp:  2024-07-08T20:06:37Z
Repository: ConsultingMD/realtime-eligibility
PR #230: [DATASERV-9445] CLONE - Walmart BCBS AR RTE "insurance is not active error"

Description:
Root cause found. Details [here](https://includedhealth.atlassian.net/browse/DATASERV-9445?focusedCommentId=1490325).

[DATASERV-9445](https://includedhealth.atlassian.net/browse/DATASERV-9445)

[DATASERV-9445]: https://includedhealth.atlassian.net/browse/DATASERV-9445?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-07-02T18:18:45Z
Repository: ConsultingMD/oneapp-migration
PR #167: [AAA-645] implement NextDODCustodial and NextDOD rpc

Description:

[AAA-645](https://includedhealth.atlassian.net/browse/AAA-645)

[AAA-645]: https://includedhealth.atlassian.net/browse/AAA-645?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-06-28T21:10:12Z
Repository: ConsultingMD/oneapp-migration
PR #165: [AAA-645] implement custodials locator

Description:

[AAA-645](https://includedhealth.atlassian.net/browse/AAA-645)

[AAA-645]: https://includedhealth.atlassian.net/browse/AAA-645?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-06-26T19:50:40Z
Repository: ConsultingMD/dod-backend
PR #12456: [AAA-641] add a dod-be/graphql rest API to determine if should be DIH

Description:
[AAA-641](https://includedhealth.atlassian.net/browse/AAA-641)

[AAA-641]: https://includedhealth.atlassian.net/browse/AAA-641?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ

Added the following changes:
- add `account_id` to all the new endpoints
- add new endpoint to determine if a user should have the DIH experience or not. This:
  - Takes in a lat/lng and reverse geocode to make sure the member is in the state of Florida
  - Verifies if they're DTC, a Comcast member or part of a specific health plan (payer) to determine if they'e DIH.

FF created: [lasso-m4-is-dih](https://app.launchdarkly.com/projects/dod-backend/flags/lasso-m4-is-dih?env=production&env=legacy-dod-stage&selected-env=production)


=====================================================
Timestamp:  2024-06-26T16:10:58Z
Repository: ConsultingMD/dod-backend
PR #12455: [AAA-716] add a dod-be/grapql rest API to retrieve custodial accounts

Description:

[AAA-716](https://includedhealth.atlassian.net/browse/AAA-716)

[AAA-716]: https://includedhealth.atlassian.net/browse/AAA-716?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-06-25T20:20:14Z
Repository: ConsultingMD/dod-backend
PR #12454: [AAA-640] add a dod-be/graphql rest API to retrieve dod accounts by email

Description:

[AAA-640](https://includedhealth.atlassian.net/browse/AAA-640)

[AAA-640]: https://includedhealth.atlassian.net/browse/AAA-640?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-06-24T21:54:15Z
Repository: ConsultingMD/dod-backend
PR #12451: [dod -> ih account migration] support setting "migrated_account_id" field in dod-be provisioning rest API

Description:
For the [DOD->IH Account migration](https://docs.google.com/document/d/10TQl1ZdU71t-7V2FC5S7PgfKgcNiaLreLMNFdFQyjfk/edit) work:
- support setting "migrated_account_id" field in dod-be provisioning rest API


=====================================================
Timestamp:  2024-06-24T20:23:39Z
Repository: ConsultingMD/celery-exporter
PR #13: Update comment to trigger new image hash

Description:
See https://ih-epdd.slack.com/archives/C03GXCDA48Y/p1710183482509989 for more context.


=====================================================
Timestamp:  2024-06-24T18:32:14Z
Repository: ConsultingMD/dod-backend
PR #12450: [dod -> ih account migration] add migrated_account_id to DOD User model

Description:
For the [DOD->IH Account migration](https://docs.google.com/document/d/10TQl1ZdU71t-7V2FC5S7PgfKgcNiaLreLMNFdFQyjfk/edit) work:
- adds "migrated_account_id" field to dod-be user model



=====================================================
Timestamp:  2024-06-06T04:01:27Z
Repository: ConsultingMD/realtime-eligibility
PR #203: [Enrollment POC] RTE Proxy follow up work

Description:
To test via support tools:

cmd: `./main.py --jira=test service rte raw /tmp/input_json_string.txt`

To build the `input_json_string.txt`, we can use the [Stedi mock request](https://www.stedi.com/docs/api-reference/healthcare/mock-requests-eligibility-checks) params:
```json
{
    "controlNumber":"123456789",
    "tradingPartnerServiceId": "62308",
    "provider": {
        "organizationName": "Provider Name",
        "npi": "0123456789"
    },
    "subscriber": {
        "firstName": "James",
        "lastName": "Jones",
        "dateOfBirth": "19910202",
        "memberId": "23456789100"
    },
    "encounter": {
        "serviceTypeCodes": ["30"]
    }
}
```
Stringified:
```
"{\n    \"controlNumber\":\"123456789\",\n    \"tradingPartnerServiceId\": \"62308\",\n    \"provider\": {\n        \"organizationName\": \"Provider Name\",\n        \"npi\": \"0123456789\"\n    },\n    \"subscriber\": {\n        \"firstName\": \"James\",\n        \"lastName\": \"Jones\",\n        \"dateOfBirth\": \"19910202\",\n        \"memberId\": \"23456789100\"\n    },\n    \"encounter\": {\n        \"serviceTypeCodes\": [\"30\"]\n    }\n}\n"
```



=====================================================
Timestamp:  2024-06-05T04:11:09Z
Repository: ConsultingMD/dod-backend
PR #12414: set new payer_downtime fields as readonly to mimic the other flags

Description:
To hopefully fix
<img width="371" alt="image" src="https://github.com/ConsultingMD/dod-backend/assets/1312796/3aa70eb0-c9ab-4b3d-b7bf-1b8ea8f8ca23">

The new downtime flags should look like the other flags (eg: is_deductible_met)


=====================================================
Timestamp:  2024-06-05T04:04:13Z
Repository: ConsultingMD/potluck
PR #18194: Add new payer_downtime_detected and payer_downtime_member_eligible fields to eligibility_realtimeeligibility

Description:
For the smart downtime work to help with reporting.


=====================================================
Timestamp:  2024-06-04T22:21:44Z
Repository: ConsultingMD/dod-backend
PR #12413: [DATASERV-9361] account for issues getting the payer

Description:
To fix https://app.rollbar.com/a/Grandrounds/fix/item/dod-backend/28360
[DATASERV-9361](https://includedhealth.atlassian.net/browse/DATASERV-9361)

Follow up from https://github.com/ConsultingMD/dod-backend/pull/12411

We did not see this issue before because we were only accounting for the happy path.
[DATASERV-9361]: https://includedhealth.atlassian.net/browse/DATASERV-9361?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-06-04T06:00:39Z
Repository: ConsultingMD/potluck
PR #18163: [DATASERV-9361] Add eventjournal logs for observed dod visit prices

Description:
Adding additional fields: error, error_code, insurance_eligible, smart_downtime, legacy_downtime

After this is merged will then update https://github.com/ConsultingMD/dod-backend/pull/12411

[DATASERV-9361](https://includedhealth.atlassian.net/browse/DATASERV-9361)

[DATASERV-9361]: https://includedhealth.atlassian.net/browse/DATASERV-9361?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-06-01T00:21:06Z
Repository: ConsultingMD/dod-backend
PR #12411: [DATASERV-9361] log price observations to eventjournal

Description:
https://includedhealth.atlassian.net/browse/DATASERV-9361
This PR adds the following:

- Adds `payer_downtime_detected` and `payer_downtime_member_eligible` flags to the RTELog model. This should help with reporting for smart downtime. Not sure if adding it here automatically gets this exported to lasik?
- Adds a `log_preview_price_event` helper method to be used to record preview prices

Note:
The `get_segments_and_pricing` endpoint is called 6 times in the get care MX flow, so there will be multiple logs per member going through the Get Care flow. Grabbing distinct records per member per day per price using a group by & a join in sql should help work around this limitation.

example:
```sql
select CAST(called_at as DATE) as called_at_day, member_id, price from <this eventjournal table> 
group by CAST(called_at as DATE), member_id, price
```

Currently we're only logging the prices:
- [x] cases where RTE is used and RTE returned successfully. (Most common case)
- [x] cases where RTE is used and RTE returned an error
- [x] cases where RTE is not used

Things remaining:
- [x] Flag added to LD: [rte-emit-member-preview-price-events](https://app.launchdarkly.com/projects/dod-backend/flags/rte-emit-member-preview-price-events?env=production&selected-env=production)
- [x] Merge https://github.com/ConsultingMD/potluck/pull/18163 which has additional fields added to the proto
- [x] Bump eventjournal in this branch
- [x] Uncomment code for the additional fields in `log_preview_price_event()`

google member for testing rte happy path in stage: 5700764


=====================================================
Timestamp:  2024-05-30T16:34:02Z
Repository: ConsultingMD/potluck
PR #18099: fix cosmetic issue with HPE uep mapping

Description:
Putting all the HPE cases under one `customer_configuration` instead of one of each:
```
customer_configuration {
    gr_customer_name: "HPE"
    company_group_mapping {
      insurance_carrier: "Anthem BlueCross BlueShield"
      company_group_name: "Hewlett Packard Enterprise (HPE) Anthem"
    }
    company_group_mapping {
      insurance_carrier: "Bind"
      company_group_name: "Hewlett Packard Enterprise (HPE) Bind"
    }
    company_group_mapping {
      insurance_carrier: "Kaiser Permanente"
      company_group_name: "Hewlett Packard Enterprise (HPE) Kaiser"
    }
    company_group_mapping {
      insurance_carrier: "Harvard Pilgrim Health Care"
      company_group_name: "Hewlett Packard Enterprise (HPE) Harvard Pilgrim"
    }
    company_group_mapping {
      insurance_carrier: "HMSA (BCBS of Hawaii)"
      company_group_name: "Hewlett Packard Enterprise (HPE) HMSA"
    }
    company_group_mapping {
      insurance_carrier: "Cigna International"
      company_group_name: "Hewlett Packard Enterprise (HPE) Cigna International"
    }
  }
```


=====================================================
Timestamp:  2024-05-24T14:34:10Z
Repository: ConsultingMD/realtime-eligibility
PR #190: surface trading_partner_id when there is an error. Remove unused code

Description:



=====================================================
Timestamp:  2024-05-23T02:38:50Z
Repository: ConsultingMD/realtime-eligibility
PR #185: make code 79 retryable

Description:
<img width="480" alt="image" src="https://github.com/ConsultingMD/realtime-eligibility/assets/1312796/75101cc7-c708-43a4-b66d-34794237f34c">



=====================================================
Timestamp:  2024-05-15T17:16:37Z
Repository: ConsultingMD/protostore
PR #210: bump sosodev/duration to 1.3.1

Description:
To address https://ih-epdd.slack.com/archives/C05U1V72L7L/p1715792960481029


=====================================================
Timestamp:  2024-05-09T20:03:30Z
Repository: ConsultingMD/fax-machine
PR #95: Reapply "refactor repository models ahead of protostore integration" 

Description:
(#91)

This reverts commit 160183cba930c507d4b59d5c0c7e76595bda6d41.


=====================================================
Timestamp:  2024-04-25T21:00:54Z
Repository: ConsultingMD/fax-machine
PR #92: Revert "Revert "refactor repository models ahead of protostore integration""

Description:
Reverts ConsultingMD/fax-machine#91


=====================================================
Timestamp:  2024-04-25T17:12:33Z
Repository: ConsultingMD/fax-machine
PR #91: Revert "refactor repository models ahead of protostore integration"

Description:
Reverts ConsultingMD/fax-machine#75

https://ih-epdd.slack.com/archives/C06T7J0TB41/p1714065050504479?thread_ts=1714061636.384499&cid=C06T7J0TB41

saw failures in uat


=====================================================
Timestamp:  2024-04-24T19:28:32Z
Repository: ConsultingMD/proto-common
PR #261: add created_at fields to InboundFax and OutboundFax

Description:
Follow up from https://github.com/ConsultingMD/fax-machine/pull/75#pullrequestreview-2020728540


=====================================================
Timestamp:  2024-04-17T18:25:14Z
Repository: ConsultingMD/coverage
PR #1128: [DATASERV-9127] Handle nil timestamp in predicates

Description:
The issue was caused by this rollbar: [https://app.rollbar.com/a/Grandrounds/fix/item/coverage-server/2144|https://app.rollbar.com/a/Grandrounds/fix/item/coverage-server/2144|smart-link] 

The predicate evaluation failed because in the predicate expression: 

{noformat}plan != V300 and DATE_DIFF(day, termination_date, current_timestamp()) >= 0{noformat}

termination_date could be null from members eligibility fields and coverage-server would throw error when parsing empty string to timestamp.

This is also a followup ticket for [https://includedhealth.atlassian.net/browse/DATASERV-9012|https://includedhealth.atlassian.net/browse/DATASERV-9012|smart-link] 

The original predicate expression was 

{noformat}(plan = V300 and termination_date IS NULL) OR (plan = V300 and DATE_DIFF(day, termination_date, current_timestamp() ) >= 0){noformat}

And this will not work because this expression will fail predicate evaluation due to the same reason, and we suggested SE to break the original expression into 2 so that member can be matched to one of the following:

{noformat}predicate1: plan = V300 and termination_date IS NULL
predicate2: plan = V300 and DATE_DIFF(day, termination_date, current_timestamp()) >= 0{noformat}

However, in this case, when a member has NULL {{termination_date}} eligibility field, they will be matched to first predicated and fail the second one.

Im not sure if there is a way to set the predicate expression to set NULL date value. If not, probably we need to update predicate in coverage-server to properly handle null date.

[DATASERV-9127](https://includedhealth.atlassian.net/browse/DATASERV-9127)

Potluck PR: https://github.com/ConsultingMD/potluck/pull/17518

Verifying the tests pass now
<img width="2472" alt="image" src="https://github.com/ConsultingMD/coverage/assets/1312796/f4b085f8-e5cd-4557-8157-ea2e0d8aa7c8">

Before the code change:
<img width="2484" alt="image" src="https://github.com/ConsultingMD/coverage/assets/1312796/88289a60-5f4b-4a8b-a48c-64fa75695a12">



[DATASERV-9127]: https://includedhealth.atlassian.net/browse/DATASERV-9127?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-04-17T18:24:57Z
Repository: ConsultingMD/potluck
PR #17518: [DATASERV-9127] Handle nil timestamp in predicates

Description:
[DATASERV-9127](https://includedhealth.atlassian.net/browse/DATASERV-9127)

On the potluck side this is just adding a new test case to explicitly test this. The scala code was already correctly doing the evaluation. The coverage-server PR includes the code change to replicate the logic.

Coverage PR: https://github.com/ConsultingMD/coverage/pull/1128

[DATASERV-9127]: https://includedhealth.atlassian.net/browse/DATASERV-9127?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-04-05T17:22:02Z
Repository: ConsultingMD/bobs
PR #5173: [VULN-1309] [bobs] SAST: Improper Restriction of XML External Entity Reference - High severity finding  High Risk

Description:
*Discovered on:* Aug 25, 2023 18:45    
*Severity:* High    
*CWE links:*    
    - [CWE-611|https://cwe.mitre.org/data/definitions/611.html]    
    - [CWE-CWE-611: Improper Restriction of XML External Entity Reference|https://cwe.mitre.org/data/definitions/CWE-611:%20Improper%20Restriction%20of%20XML%20External%20Entity%20Reference.html]      

*Description:* The Python documentation recommends using `defusedxml` instead of `xml` because the native Python `xml` library is vulnerable to XML External Entity (XXE) attacks. These attacks can leak confidential data and "XML bombs" can cause denial of service.    
*Introduced through:* [python/common/fhir/flat|https://github.com/ConsultingMD/bobs/blob/master/python/common/fhir/flat_models/explanation_of_benefit_flat.py#L2]    
*Compliance framework references:*    
    - CWE-611: Improper Restriction of XML External Entity Reference    
    - OWASP Top 10-A04:2017: XML External Entities (XXE)    
    - OWASP Top 10-A05:2021: Security Misconfiguration    
[View in Apiiro|https://app.apiiro.com/profiles/repositories/3849816e-6697-4ada-afbd-9e904808348f/risk/development?trigger=ffc918ee2b9f93c95f6320f305e96d02 and environmentId=511c0066143c4c7795dedd6b29]

[VULN-1309](https://includedhealth.atlassian.net/browse/VULN-1309)

[VULN-1309]: https://includedhealth.atlassian.net/browse/VULN-1309?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-04-03T21:11:33Z
Repository: ConsultingMD/potluck
PR #17348: uep candidate projection: set failure and priority to critical

Description:
follw-up up for https://includedhealth.atlassian.net/browse/INC-464
https://includedhealth.atlassian.net/browse/DATASERV-9188


=====================================================
Timestamp:  2024-04-01T20:42:30Z
Repository: ConsultingMD/dod-backend
PR #12355: bump eventjournal version

Description:



=====================================================
Timestamp:  2024-03-28T18:03:57Z
Repository: ConsultingMD/dod-backend
PR #12351: bump eventjournal version

Description:



=====================================================
Timestamp:  2024-03-26T21:59:04Z
Repository: ConsultingMD/protostore
PR #167: [DATAINFRA-2041] add OTEL tracing for Get/Search (synchronous Patch?)

Description:

[DATAINFRA-2041](https://includedhealth.atlassian.net/browse/DATAINFRA-2041)

[DATAINFRA-2041]: https://includedhealth.atlassian.net/browse/DATAINFRA-2041?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-03-25T17:40:22Z
Repository: ConsultingMD/realtime-eligibility
PR #156: move custom rte dashboard into service

Description:
Followed the [wiki](https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/3329506243/Monitoring+Services+on+TNG#%F0%9F%8C%9F--Check-in-your-Grafana-dashboards-with-Json-models)


=====================================================
Timestamp:  2024-03-22T07:29:45Z
Repository: ConsultingMD/warehouse
PR #712: [DTOOLS-2601] nest under 'user_options' hash

Description:
for https://includedhealth.atlassian.net/browse/DTOOLS-2601

Found fix here: https://github.com/trailblazer/roar/blob/master/test/hypermedia_test.rb#L80

https://ih-epdd.slack.com/archives/C04RBT0ULAK/p1711085836792309?thread_ts=1711044831.836249&cid=C04RBT0ULAK

confirmed this should fix it by testing in a debug pod:
```
params = ActionController::Parameters.new({created_at: {gte: "1710436092"}, page: 1})
index_params =  params.permit(:page, created_at: [:gte])
audit_events = AuditEvent.paginate(page: index_params[:page], per_page: 200).order(created_at: :asc).includes(:audit_event_attribute_changes).where('extract(epoch from created_at) >= ?', index_params[:created_at][:gte])
first_page = audit_events.page(1)
aer = AuditEventsRepresenter.new(first_page)
aer.to_json(user_options: {params: index_params})
```
We can see that it's populated correctly now:
```
\"_links\":{\"self\":{\"href\":\"https://warehouse.grandrounds.com/api/audit_events?created_at%5Bgte%5D=1710436092\\u0026page=1\"},\"next\":{\"href\":\"https://warehouse.grandrounds.com/api/audit_events?created_at%5Bgte%5D=1710
436092\\u0026page=2\"}}}"
```


=====================================================
Timestamp:  2024-03-19T16:13:58Z
Repository: ConsultingMD/go-common
PR #673: [DATAINFRA-2343] kafka v2 prometheus/telemetry integration

Description:

[DATAINFRA-2343](https://includedhealth.atlassian.net/browse/DATAINFRA-2343)

[DATAINFRA-2343]: https://includedhealth.atlassian.net/browse/DATAINFRA-2343?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-03-13T18:15:49Z
Repository: ConsultingMD/dod-backend
PR #12321: track when we fallback to any of the summary fields

Description:



=====================================================
Timestamp:  2024-03-12T20:40:54Z
Repository: ConsultingMD/realtime-eligibility
PR #126: use default service type code 30 if none is provided

Description:
Addresses:
```json
 "response_body": "{\"controlNumber\":\"000000001\",\"tradingPartnerServiceId\":\"HUMANA\",\"errors\":[{\"code\":\"33\",\"description\":\"Missing required field: encounter.serviceTypeCodes\",\"followupAction\":\"C\"}],\"status\":\"ERROR\"}"
```


=====================================================
Timestamp:  2024-03-12T03:50:52Z
Repository: ConsultingMD/dod-backend
PR #12318: augment #get_rte_service_271 to parse chc_v1_response as JSON

Description:
Parsing the v1 response as json


=====================================================
Timestamp:  2024-03-09T23:59:43Z
Repository: ConsultingMD/ih-python-feature-flags
PR #35: augment #flag_is_enabled to accept custom attributes for targeting

Description:



=====================================================
Timestamp:  2024-03-09T19:54:30Z
Repository: ConsultingMD/dod-backend
PR #12314: Add flag to use the 271 response from rte service

Description:
>add a feature flag in dod-backend to use the rte server response (right now we are just logging it)

Flag: 
- https://app.launchdarkly.com/dod-backend/production/features/cds-use-rte-service-271-response/targeting
- https://app.launchdarkly.com/dod-backend/production/features/cds-legacy-cch-api-disabled/targeting (turned on in uat, prod, staging)


=====================================================
Timestamp:  2024-03-04T22:37:35Z
Repository: ConsultingMD/dod-backend
PR #12297: [DATASERV-9016] Empath Health - File Schema Update to Group Mapping

Description:
[DATASERV-9016](https://includedhealth.atlassian.net/browse/DATASERV-9016)

<img width="737" alt="image" src="https://github.com/ConsultingMD/dod-backend/assets/1312796/2a81197f-6b44-4566-9009-f6d2ec1cfd58">

[DATASERV-9016]: https://includedhealth.atlassian.net/browse/DATASERV-9016?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-03-04T20:11:19Z
Repository: ConsultingMD/stone
PR #1594: [DATASERV-3509] Emit metrics for the CBRC API requests in Stone

Description:
For each request, count the number of providers returned. Get that counter to Prometheus.

Alarm if the average # of this goes below a threshold.

This is the key function of CBRC: given a pid, return a list of providers; if  were not returning any, thats a problem.

[DATASERV-3509](https://includedhealth.atlassian.net/browse/DATASERV-3509)

[DATASERV-3509]: https://includedhealth.atlassian.net/browse/DATASERV-3509?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-02-28T20:41:22Z
Repository: ConsultingMD/bobs
PR #5135: [bobs] hapi fhir update iterative approach

Description:



=====================================================
Timestamp:  2024-02-28T20:21:05Z
Repository: ConsultingMD/bobs
PR #5134: use java 11

Description:



=====================================================
Timestamp:  2024-02-27T20:33:00Z
Repository: ConsultingMD/bobs
PR #5133: bumping ca.uhn.hapi.fhir to 6.1.0 + after running 'bazel run //:parse

Description:
Followed steps [here](https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/4054188037/BOBS+VULN+Ticket+Handling) to create this PR. NOTE: This needs to be expanded upon, as it looks like all the current bobs VULN tickets are related to hapi-fhir. Instructions can be found at the bottom of the above doc, here https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/4054188037/BOBS+VULN+Ticket+Handling#Multiple-VULN-Tickets-with-the-Same-Top-Level-Dependency


=====================================================
Timestamp:  2024-02-26T18:13:54Z
Repository: ConsultingMD/patient-description
PR #128: add github.com/aws/aws-sdk-go-v2/service/dynamodb to ignore list as i

Description:
t will be updated by go-common


=====================================================
Timestamp:  2024-02-26T16:24:57Z
Repository: ConsultingMD/financial-account
PR #180: Add dependabot ignore for dependencies that already exist in go-common

Description:



=====================================================
Timestamp:  2024-02-22T21:36:30Z
Repository: ConsultingMD/coverage
PR #1046: Update tools.go to finish migration to tng codegen

Description:
followup from https://github.com/ConsultingMD/coverage/pull/1037
https://ih-epdd.slack.com/archives/C03GXCDA48Y/p1708637522491049?thread_ts=1708632337.184499&cid=C03GXCDA48Y


=====================================================
Timestamp:  2024-02-15T19:53:30Z
Repository: ConsultingMD/hub-bridge
PR #68: Update alarms.yaml

Description:
To enable automatic protostore metrics in Grafana
https://github.com/ConsultingMD/ih-observability/pull/491
<img width="2555" alt="image" src="https://github.com/ConsultingMD/hub-bridge/assets/1312796/ffb43d21-0c8b-4dc5-90fb-5ce3d1eb4ba4">



=====================================================
Timestamp:  2024-02-15T19:50:50Z
Repository: ConsultingMD/episode-of-care
PR #106: Update alarms.yaml

Description:
To enable automatic protostore metrics in Grafana
https://github.com/ConsultingMD/ih-observability/pull/491
<img width="2557" alt="image" src="https://github.com/ConsultingMD/episode-of-care/assets/1312796/d257d412-b8e6-4c0d-a96c-b52eaa124e84">



=====================================================
Timestamp:  2024-02-15T19:48:57Z
Repository: ConsultingMD/careflow
PR #39: Update alarms.yaml 

Description:
To enable automatic protostore metrics in Grafana
https://github.com/ConsultingMD/ih-observability/pull/491
<img width="2546" alt="image" src="https://github.com/ConsultingMD/careflow/assets/1312796/d1a2a0c6-2ce9-4338-af97-6b1045589e91">



=====================================================
Timestamp:  2024-02-14T16:03:31Z
Repository: ConsultingMD/ih-observability
PR #491: [DATAINFRA-2368] create a protostore metrics dashboard that's dynamically built for each protostore service

Description:
[DATAINFRA-2368](https://includedhealth.atlassian.net/browse/DATAINFRA-2368)

[DATAINFRA-2368]: https://includedhealth.atlassian.net/browse/DATAINFRA-2368?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ

template dashboard: https://grafana.includedhealth.com/d/d7da173d-4dc9-4c25-8a3d-75436f07d990/971ed693-3df7-59d1-b482-e5451431c599?orgId=1&var-environment=uat&var-region=us-east-1&var-app=hub-bridge&var-operation=All&var-table=All&from=now-24h&to=now

<img width="2548" alt="image" src="https://github.com/ConsultingMD/ih-observability/assets/1312796/5d4b24f5-1bee-44ee-a51d-9eaac47c1d61">



=====================================================
Timestamp:  2024-02-06T20:33:43Z
Repository: ConsultingMD/protostore
PR #110: [DATAINFRA-2039] more prometheus metrics / standard alerts described in docs

Description:
* metrics on get/merge/list
** total count
** latency
** failures
* ensure everything is tagged by service / protostore name

[DATAINFRA-2039](https://includedhealth.atlassian.net/browse/DATAINFRA-2039)

[DATAINFRA-2039]: https://includedhealth.atlassian.net/browse/DATAINFRA-2039?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-02-01T20:23:04Z
Repository: ConsultingMD/protostore
PR #104: [DATAINFRA-2287] support indexing / filtering by enum fields

Description:
[DATAINFRA-2287](https://includedhealth.atlassian.net/browse/DATAINFRA-2287)

Corresponding Proto-Common PR: https://github.com/ConsultingMD/proto-common/pull/114

[DATAINFRA-2287]: https://includedhealth.atlassian.net/browse/DATAINFRA-2287?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ

This PR also includes some miscellaneous typo fixes


=====================================================
Timestamp:  2024-02-01T19:56:33Z
Repository: ConsultingMD/proto-common
PR #114: [DATAINFRA-2287] support indexing / filtering by enum fields

Description:
[DATAINFRA-2287](https://includedhealth.atlassian.net/browse/DATAINFRA-2287)

Corresponding Protostore PR: https://github.com/ConsultingMD/protostore/pull/104

[DATAINFRA-2287]: https://includedhealth.atlassian.net/browse/DATAINFRA-2287?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2024-01-18T23:53:58Z
Repository: ConsultingMD/dod-backend
PR #12237: [DATASERV-8832] remove the cg is the company is file based and no ce record was found

Description:
https://includedhealth.atlassian.net/browse/DATASERV-8832

Seems like this bug has existed for years and has also probably caused some pain for our oncall. It basically results in member confusion because they end up with the employer set but getting D2C pricing. Hopefully this fix will remove those types of oncall tickets for file based customers.

Flag created here: https://app.launchdarkly.com/dod-backend/legacy-dod-stage/features/remove-cg-if-company-is-file-based-and-no-ce-record-found/targeting

# Number of affected members in Production: `30,969`
```
dod=> select cg.name, m.employer_id, count(*) from members_member m left join organizations_companygroup cg on m.employer_id = cg.id left join organizations_company c on c.id = cg.company_id where cg.use_271_for_eligibility is false and cg.name not ilike '%inactive%' and m.employer_id is not null and eligibility_record_id is null group by cg.name, m.employer_id order by count(*) desc ;
                       name                       | employer_id | count
--------------------------------------------------+-------------+-------
 Walmart HealthSCOPE Care Management              |         490 |  9785
 FIS                                              |        1677 |  4434
 Genentech PPO                                    |         122 |  3336
 Genentech HDHP                                   |         123 |  2134
 Lennox International Union                       |         187 |  2010
 MDU Resources                                    |        1723 |  1951
 State of Nevada UMR Low Deductible               |        1738 |  1731
 Lennox International Non-Union                   |         606 |   973
 Comcast - IBX                                    |        1765 |   681
 Whirlpool UMR Rewards                            |        1744 |   556
 State of Nevada UMR EPO                          |        1736 |   337
 Humana (Employees) - VPC/Coaching                |        1826 |   243
 Instacart                                        |         552 |   211
 Activision Blizzard PPO                          |         174 |   195
 HP Inc VPC                                       |         618 |   192
 Bread Financial HDHP                             |         363 |   190
 McDonaldsFranchisee                              |        1724 |   177
 Humana (Employees) - UC/BH                       |        1827 |   160
 Knife River                                      |        1823 |   110
 Salesforce Aetna HDHP                            |        1688 |   106
 Salesforce UHC HDHP                              |        1689 |    95
 Daimler DTNA BCBSMI PPO                          |         306 |    94
 McDonald's Corporate Owned (McOpCo)              |        1770 |    90
 HP Inc UC                                        |         619 |    89
 Whirlpool UMR Savings                            |        1745 |    82
 Nielsen UMR VPC                                  |        1730 |    74
 Bread Financial PPO/HRA                          |         362 |    66
 PSA Airlines PPO                                 |         478 |    65
 Google Anthem PPO/EPO                            |        1740 |    63
 Burlington Stores PPO                            |         271 |    56
 AmerisourceBergen - IBC/Highmark All Other Plans |        1751 |    50
 Daimler DTNA BCBSMI HSA                          |         307 |    44
 Zendesk PPO                                      |         259 |    41
 SLEBC                                            |         280 |    40
 Salesforce UHC PPO                               |        1684 |    35
 Operating Engineers 324                          |         326 |    34
 Salesforce Aetna PPO                             |        1685 |    33
 AT&T BCBSIL 30% Plans VPC                        |        1768 |    32
 Auto Warehousing Company                         |         269 |    30
 ArcBest                                          |         344 |    23
 Crown Castle Aetna Traditional                   |        1775 |    23
 Union Bank and Trust                             |          37 |    21
 AT&T BCBSIL 10% Plans VPC                        |        1764 |    21
 Empath Health HDHP/HSA                           |        1710 |    19
 Shelby Group International                       |         445 |    16
 Veritas PPO                                      |        1658 |    15
 Blue Federal Credit Union                        |         270 |    13
 AmerisourceBergen - IBC/Highmark $500 Plans      |        1750 |    13
 Empath Health High Traditional Plan              |        1712 |    12
 Mountain West Farm Bureau PPO                    |         166 |    11
 Google Anthem gHIP                               |        1741 |    11
 Bailey's Moving and Storage PPO                  |         219 |    10
 Iron Road Healthcare                             |         218 |     9
 OneOncology PPO                                  |        1786 |     9
 Connecticut Distributors PPO                     |         434 |     8
 Sunshine Minting PPO                             |         374 |     7
 Demo Company                                     |         616 |     7
 AmerisourceBergen - Aetna All Other Plans        |        1749 |     6
 Cornerstone On Demand CDHP                       |         432 |     5
 Cottonwood Capital Management HDHP               |         119 |     5
 Scripps EPO                                      |         191 |     4
 OneOncology                                      |        1781 |     4
 IBEW 8th District                                |         428 |     4
 Consumer Support Services                        |         341 |     4
 Scripps HMO                                      |         192 |     3
 Express Employment Professionals                 |        1721 |     3
 Cottonwood Capital Management PPO                |         118 |     3
 City of North Platte                             |          42 |     3
 Lubrizol                                         |        1743 |     3
 NFL Alumni Association                           |         323 |     3
 Penske Motor Group                               |         476 |     3
 AT&T BCBSIL Low Deductible Select Plans VPC      |        1769 |     3
 Syniverse - Enrolled PPO                         |        1657 |     3
 Western Growers PPO                              |         283 |     3
 AmerisourceBergen - Aetna $500 Plans             |        1748 |     3
 AT&T BCBSIL 20% Plans VPC                        |        1767 |     2
 Activision Blizzard CDHP                         |         175 |     2
 Daimler DTNA AultCare PPO                        |         418 |     2
 Eye Center of Northern Colorado PPO              |         404 |     2
 Edw C Levy Company                               |        1692 |     2
 Audacy PPO                                       |        1876 |     2
 Midlands Packaging                               |         277 |     2
 lululemon                                        |        1733 |     2
 Bonipak                                          |         554 |     2
 HP Inc Anthem HDHP/CDHP VPC Eligible             |        1763 |     2
 Activision Blizzard - Centivo                    |        1698 |     1
 Duval Motor                                      |        1889 |     1
 Buffalo Bill Memorial                            |         275 |     1
 Burlington Stores CDHP                           |         272 |     1
 CenterWell Home Health                           |        1868 |     1
 IBEW Local 347 PPO                               |         385 |     1
 City of El Centro Employees                      |         503 |     1
 HP Inc Cigna HDHP/CDHP VPC Eligible              |        1759 |     1
 General Assembly                                 |         312 |     1
 Syniverse - Enrolled HDHP                        |        1704 |     1
 Doctor On Demand                                 |         213 |     1
(96 rows)

dod=> select count(*) from members_member m left join organizations_companygroup cg on m.employer_id = cg.id left join organizations_company c on c.id = cg.company_id where cg.use_271_for_eligibility is false and cg.name not ilike '%inactive%' and m.employer_id is not null and eligibility_record_id is null ;
 count
-------
 30969
(1 row)

dod=>
```

I can additionally remove the employer for all these affected members via:
```sql
UPDATE members_member
SET employer_id = null, eligibility_record_id = null
FROM organizations_companygroup, organizations_company
WHERE members_member.employer_id = organizations_companygroup.id
        AND organizations_company.id = organizations_companygroup.company_id
        AND organizations_companygroup.use_271_for_eligibility is false
        AND organizations_companygroup.name NOT ilike '%inactive%'
        AND members_member.employer_id is NOT null
        AND members_member.eligibility_record_id is NULL ;
```

Then each member can re-add their employer and if a CE record is found it should fix the issue and if no CE record is found it should return the expected appropriate error msg.


=====================================================
Timestamp:  2024-01-12T16:56:23Z
Repository: ConsultingMD/metropolis
PR #1687: Update canonical_s3_archiver.py

Description:
Fix task failure bug. Adding 'provider_location_confidence_overrides' as an append only table to the canonical s3 archiver.


=====================================================
Timestamp:  2024-01-05T19:05:43Z
Repository: ConsultingMD/potluck
PR #16254: [DTOOLS-2321] 1:N datasources do not term coverage appropriately - UEP fix

Description:
https://includedhealth.atlassian.net/browse/DTOOLS-2321

Issue: will be using `PDID:PatientDescription-34c6bedd044247e5d0fa31803c8c175a3e90e3467ec5ee4fbbed77799d3cd56afb28461ce4946ac7e1327bddbdb0cde2cf3ff7c062cc570352d186b8cc472a49` as the [example member](https://querybook.includedhealth.com/lasik/query_execution/1022731/) to surface the issue:

1. [In the candidate projection](https://querybook.includedhealth.com/lasik/query_execution/1022696/), they have two rows, both showing a `valid_until` value of `9999-12-31`. The row where their `insurance_carrier` is `Independence` is their latest current one and should be the only active row. The other row corresponds to their previous years selections in which they were part of a different company_group.
2. We see the [same](https://querybook.includedhealth.com/lasik/query_execution/1023999/) in `raw_coverage_with_entity_ids`. Multiple rows with a `gr_next_filename_date` of `9999-12-31` denoting active coverage. This is expected since the original fix was never done to these ER tables, it was only done in the [fhirizer](https://includedhealth.atlassian.net/browse/DTOOLS-2321?focusedCommentId=1334775)
3. Without the fix this presents itself in the delta projection as [two](https://querybook.includedhealth.com/lasik/query_execution/1022758/) `update` rows. One for each company_group.
4. I haven't confirmed if it's a race condition but even though we have these two `update` rows, on the [dod-be side](https://poc.doctorondemand.com/ccadmin/eligibility/companyeligibility/9224231/change/), it's correctly applying the new/correct delta as CE record is associated to the right company group and has the right values. I think we have some logic somewhere that applies the update based on the newest `cliend_record_date` (which the correct row has a value of `2024-01-01` whereas the previous year's row has a value of `2023-12-28`. Given my earlier statement and the fact that I haven't seen a case where the last applied change is the old one, this seems like a cosmetic issue currently in that it's generating an extra delta `update` row. To clarify, I think the issue is a cosmetic one when it's members switching from company groups. If they're on the same company group but have different values for insurance_member_id then those would've have seen the issue (and the bandaid fix of updating the grace period should have fixed the majority of those, as evidence [here](https://ih-epdd.slack.com/archives/C063E06SX3R/p1704464849042989?thread_ts=1704388378.021529&cid=C063E06SX3R))
5. With the fix in this PR, the previous years row would then NOT have a `valid_until` of `9999-12-31`, and instead be `max(gr_filename_date)-1 day` which for this member would be `2024-01-03`
6. Ran locally agaisn't production verified so after querying the snapshot `lasik_task_1704487073` generated:

Before:
<img width="271" alt="image" src="https://github.com/ConsultingMD/potluck/assets/1312796/4f2460b4-4525-48fa-8bb9-aca2f1d19574">


After:
<img width="203" alt="image" src="https://github.com/ConsultingMD/potluck/assets/1312796/1b65d4d3-8cfb-4ead-8dfa-76eeb4051b07">

Caveat: the `valid_until` on the old record can fluctuate if we receive a new (and correct) elig file while the old population row is still showing up as active (due to the grace period)



=====================================================
Timestamp:  2024-01-04T20:52:58Z
Repository: ConsultingMD/potluck
PR #16226: [UNCO-905] support different gr_customer name across eligibility & carrier coverage

Description:
https://includedhealth.atlassian.net/browse/UNCO-905

For 1:N Datasources, we assign a datasource slug that is different than the gr_customer name. In UEP, we use gr_customer name to join across raw_coverage and carrier_coverage

coverage = carrier_coverage
For Zendesk:

`zendesk-workday` = `Zendesk (pNav/UC/BH)`

For lululemon:

`lululemon-empyrean` = `lululemon`

Tests updated to cover this edge case.


=====================================================
Timestamp:  2024-01-01T01:43:04Z
Repository: ConsultingMD/dod-backend
PR #12208: Revert "UNCO-879 Add utils to generate old->new json data"

Description:
Reverts ConsultingMD/dod-backend#12189

Got the following error after this change:
```
uwsgi@dod-backend-app-debug-v6gbpc:/usr/app/dod/dod-backend/dod_backend$ python eligibility/config_migrate/scripts/run.py extract --payer_id=1539 --payer_name=ATTCENTIVO
Traceback (most recent call last):
  File "/usr/app/dod/dod-backend/dod_backend/eligibility/config_migrate/scripts/run.py", line 10, in <module>
    from eligibility.config_migrate.driver import Driver
  File "/usr/app/dod/dod-backend/dod_backend/eligibility/config_migrate/driver.py", line 7, in <module>
    from eligibility.config_migrate.database import Database
  File "/usr/app/dod/dod-backend/dod_backend/eligibility/config_migrate/database.py", line 5, in <module>
    from eligibility.config_migrate.extractor import Extractor
  File "/usr/app/dod/dod-backend/dod_backend/eligibility/config_migrate/extractor.py", line 5, in <module>
    from .util import print_and_log
  File "/usr/app/dod/dod-backend/dod_backend/eligibility/config_migrate/util.py", line 9, in <module>
    from eligibility.models import CompanyEligibility, InsurancePlan, MemberInsurance, Payer
  File "/usr/app/dod/dod-backend/dod_backend/eligibility/models.py", line 11, in <module>
    from django.contrib.auth.models import Group
  File "/usr/local/lib/python3.9/site-packages/django/contrib/auth/models.py", line 3, in <module>
    from django.contrib.auth.base_user import AbstractBaseUser, BaseUserManager
  File "/usr/local/lib/python3.9/site-packages/django/contrib/auth/base_user.py", line 48, in <module>
    class AbstractBaseUser(models.Model):
  File "/usr/local/lib/python3.9/site-packages/django/db/models/base.py", line 108, in __new__
    app_config = apps.get_containing_app_config(module)
  File "/usr/local/lib/python3.9/site-packages/django/apps/registry.py", line 253, in get_containing_app_config
    self.check_apps_ready()
  File "/usr/local/lib/python3.9/site-packages/django/apps/registry.py", line 136, in check_apps_ready
    raise AppRegistryNotReady("Apps aren't loaded yet.")
django.core.exceptions.AppRegistryNotReady: Apps aren't loaded yet.
uwsgi@dod-backend-app-debug-v6gbpc:/usr/app/dod/dod-backend/dod_backend$
```


=====================================================
Timestamp:  2023-12-28T01:27:08Z
Repository: ConsultingMD/potluck
PR #16158: [UNCO-899] join with lower(GrCustomer) to address edge case

Description:
https://includedhealth.atlassian.net/browse/UNCO-899

Issue first seen for Celanese. This surfaced a bug in UEP logic where in the logic to join coverage with carrier coverage, we were not downcasing the gr_customer field.

https://querybook.includedhealth.com/lasik/query_execution/1014442/

https://querybook.includedhealth.com/lasik/query_execution/1014707/

Test updated

TDD:
Without bug fix and updated tests, it failed
![image](https://github.com/ConsultingMD/potluck/assets/1312796/56fcb7ae-23bc-49dd-a00c-3f111d9dad55)

With bug fix, tests passed
<img width="1133" alt="image" src="https://github.com/ConsultingMD/potluck/assets/1312796/c709edf2-3adb-4446-951e-1a188937e4f2">



=====================================================
Timestamp:  2023-12-27T20:52:58Z
Repository: ConsultingMD/metropolis
PR #1685: switch more tables to not be temporary ones

Description:
Applied changes on the box, confirmed this fixed the issue on latest current run:
<img width="1314" alt="image" src="https://github.com/ConsultingMD/metropolis/assets/1312796/73b54c81-49e5-46d9-9fef-7fb5083922bf">



=====================================================
Timestamp:  2023-12-20T02:15:22Z
Repository: ConsultingMD/potluck
PR #16100: [UNCO-886] update uat company_ids for companies that have been migrated from Prod to UAT via the config migration tool

Description:
https://includedhealth.atlassian.net/browse/UNCO-886


=====================================================
Timestamp:  2023-12-18T21:26:00Z
Repository: ConsultingMD/metropolis
PR #1684: [UNCO-862] Create canonical.provider_location_confidence_overrides table

Description:
Provider data remediation
https://includedhealth.atlassian.net/browse/UNCO-862


=====================================================
Timestamp:  2023-12-11T22:12:02Z
Repository: ConsultingMD/support-tools
PR #168: Dataservices ds hackathon: Allow support tool to connect to dod-be debug pods and shell

Description:



=====================================================
Timestamp:  2023-12-11T20:01:37Z
Repository: ConsultingMD/metropolis
PR #1683: [UNCO-861] fix case to correctly soft delete gr-added provider locations in load_canonical

Description:
https://includedhealth.slack.com/archives/C06477A2T6K/p1701270148061669

https://includedhealth.atlassian.net/browse/UNCO-861


=====================================================
Timestamp:  2023-12-08T00:17:59Z
Repository: ConsultingMD/metropolis
PR #1682: switch some uses to static tables to avoid running into out of (temp)

Description:
 space errors

Confirmed this works by applying code on the instance and re-running the failed task.
<img width="798" alt="image" src="https://github.com/ConsultingMD/metropolis/assets/1312796/163c04ce-ba70-4665-8b67-73884f191048">



=====================================================
Timestamp:  2023-12-05T16:30:11Z
Repository: ConsultingMD/dod-backend
PR #12150: create new dod-backend-config-tool bucket

Description:
https://includedhealth.atlassian.net/browse/{ticket}

{REQUIRED: Enter a description of the changes made in the PR.
Be sure include guidance to reviewers if necessary.
Describe any associated risk as applicable.}

---

Reminder: Merged code will be deployed to production today.

Use this checklist to ensure your code is safe to deploy to production:

* [ ] Are changes feature flagged?
* [ ] Do the changes have thorough unit tests?

Some other things to consider:

* Appropriate documentation (i.e. good docstrings and/or content in `docs/`).
* If your code involves a database migration, please review the [migration checklist](https://grandrounds.atlassian.net/wiki/spaces/ENG/pages/3329482880/Migration+PR+Approval+Checklist).

Reviewers can use the [Backend Code Review Guidelines](https://grandrounds.atlassian.net/wiki/spaces/ENG/pages/3329479464/Backend+Code+Review+Guidelines) to aid the review.



=====================================================
Timestamp:  2023-11-30T16:32:18Z
Repository: ConsultingMD/coverage
PR #942: Revert "[DATASERV-8663] fix NPE rollbar"

Description:
Reverts ConsultingMD/coverage#941

Issues raised https://ih-epdd.slack.com/archives/C0422ULPJEA/p1701358057082009


=====================================================
Timestamp:  2023-11-21T18:14:37Z
Repository: ConsultingMD/metropolis
PR #1680: Update floyd_to_bq_tables.yaml to export provider_sanctions to BQ

Description:
Export canonical.provider_sanctions to BQ


=====================================================
Timestamp:  2023-11-16T22:00:14Z
Repository: ConsultingMD/metropolis
PR #1679: [VULN-609] update ami keys to included updated floyd password

Description:
https://includedhealth.atlassian.net/browse/VULN-609

Encrypted for:
- @jacksullivan-gr 
- @richddr 
- @rick-wolf
- @pwrose21 
- @macklin 
- @vinaygoel 
- @erccarls 
- @stelmart 


=====================================================
Timestamp:  2023-11-14T23:24:52Z
Repository: ConsultingMD/dod-backend
PR #12098: [UNCO-769] display in insurance_plan page

Description:
https://includedhealth.atlassian.net/browse/UNCO-769
https://includedhealth.slack.com/archives/C05JH9KNFPV/p1700003274218609?thread_ts=1699984533.113469&cid=C05JH9KNFPV

Initial PR missed the change to display this on the Insurance Plan page.


=====================================================
Timestamp:  2023-11-13T20:12:18Z
Repository: ConsultingMD/metropolis
PR #1678: [UNCO-827] [UNCO-828] Dynamically build license data from latest NPPES version instead of static table + also fetch for IL, WI and MS

Description:
Building on the work done in https://github.com/ConsultingMD/metropolis/pull/1673
See 
- https://includedhealth.atlassian.net/browse/UNCO-827
- https://includedhealth.atlassian.net/browse/UNCO-828


=====================================================
Timestamp:  2023-11-01T15:03:48Z
Repository: ConsultingMD/account
PR #236: [DATASERV-8544] Add support for two new flags

Description:
https://includedhealth.atlassian.net/browse/DATASERV-8544


=====================================================
Timestamp:  2023-10-31T17:42:37Z
Repository: ConsultingMD/batch-job-worker
PR #27: Update CODEOWNERS

Description:



=====================================================
Timestamp:  2023-10-27T16:45:07Z
Repository: ConsultingMD/metropolis
PR #1675: Update looker_client.py to use API version 4.0

Description:
Confirmed this works by just using the `4.0` api: http://airflow.analytics.grandrounds.com:8080/admin/airflow/graph?dag_id=detect_reverse_tp_and_load&root=


=====================================================
Timestamp:  2023-10-27T04:42:50Z
Repository: ConsultingMD/potluck
PR #15392: [UNCO-772] augment uep to add support mapping employment_status_code

Description:
https://includedhealth.atlassian.net/browse/UNCO-772

Knife River and MDU are looking to move to unified app from linked app on 11/1/2023.  Currently cobra members denoted by employment_status = 'C' do not get access to virtual care.  

We want to be able to add this employment_status_code criteria to the UEP mapping abilities.

Urgency for this as these two customers are currently RTE based and will be switching to Unified (file based eligibility) to go live on 11/1.


=====================================================
Timestamp:  2023-10-26T21:19:57Z
Repository: ConsultingMD/patient-description
PR #88: Notify deploys in our slack channels

Description:
deploys of this service would not notify cds-deploys and failures wouldn't notify our oncall channel like the rest of our services. This fixes this.


=====================================================
Timestamp:  2023-10-25T21:40:05Z
Repository: ConsultingMD/dod-backend
PR #12013: add display_promotional_visit_limits_in_dod_app flag to CompanyGroup 

Description:
and InsurancePlan object

https://includedhealth.atlassian.net/browse/{ticket}

{REQUIRED: Enter a description of the changes made in the PR.
Be sure include guidance to reviewers if necessary.
Describe any associated risk as applicable.}

---

Reminder: Merged code will be deployed to production today.

Use this checklist to ensure your code is safe to deploy to production:

* [ ] Are changes feature flagged?
* [ ] Do the changes have thorough unit tests?

Some other things to consider:

* Appropriate documentation (i.e. good docstrings and/or content in `docs/`).
* If your code involves a database migration, please review the [migration checklist](https://grandrounds.atlassian.net/wiki/spaces/ENG/pages/3329482880/Migration+PR+Approval+Checklist).

Reviewers can use the [Backend Code Review Guidelines](https://grandrounds.atlassian.net/wiki/spaces/ENG/pages/3329479464/Backend+Code+Review+Guidelines) to aid the review.



=====================================================
Timestamp:  2023-10-25T19:53:06Z
Repository: ConsultingMD/potluck
PR #15362: Revert "20231025 mdukrc"

Description:
Reverts ConsultingMD/potluck#15354


=====================================================
Timestamp:  2023-10-23T18:07:33Z
Repository: ConsultingMD/metropolis
PR #1673: [CURE-2755] union with south_dakota_enclarity_provider_license_from_nppes table to pull active licenses

Description:
https://includedhealth.atlassian.net/browse/CURE-2755

https://gist.github.com/richddr/ec3436646514a3a8c9f2dede088d6799

To expedite this, I will update the sql on the instance and trigger a new canonical


=====================================================
Timestamp:  2023-10-17T15:58:27Z
Repository: ConsultingMD/coverage
PR #867: [UNCO-741] INNER -> LEFT joins on insurance_plan_v2 sql

Description:
https://includedhealth.atlassian.net/browse/UNCO-741

This would have avoided one the Walmart OES issues over the weekend.


=====================================================
Timestamp:  2023-09-27T18:35:01Z
Repository: ConsultingMD/potluck
PR #14930: [UNCO-677] Unified Eligibility Pipeline Request - Support for Last 4 SSN (for 10/10 launch)

Description:
https://includedhealth.atlassian.net/browse/UNCO-677

See ticket description for full details.
TLDR: new customer going live in October, they won't be sending full ssn, only ss_last4 which gets mapped into a different canonical field that UEP isn't using.

With this change we'd still use `ssn` in the delta configuration for https://includedhealth.atlassian.net/browse/SEI-2456


=====================================================
Timestamp:  2023-09-26T18:25:21Z
Repository: ConsultingMD/potluck
PR #14905: add UAT salesforce company_id

Description:



=====================================================
Timestamp:  2023-09-25T17:14:15Z
Repository: ConsultingMD/stone
PR #1552: [UNCO-487] remove references of unexisting ENV vars

Description:
https://includedhealth.atlassian.net/browse/UNCO-487


=====================================================
Timestamp:  2023-09-22T21:41:03Z
Repository: ConsultingMD/stone
PR #1551: doubling unicorn workers

Description:
doubling the unicorn workers per node (8)


=====================================================
Timestamp:  2023-09-22T16:25:27Z
Repository: ConsultingMD/stone
PR #1550: [UNCO-487] Instrument Stone unicorn workers to provide a saturation metric

Description:
The changes in Stone should look something like what was done in jarvis: [https://github.com/ConsultingMD/jarvis/pull/16163/files|https://github.com/ConsultingMD/jarvis/pull/16163/files]

Then, make sure we have an alarm setup when the number of active connections reaches 50% of capacity, something like 

{{avg (unicorn_active_connections{tng_environment=~"production", app="stone"} / unicorn_workers{tng_environment=~"production", }) * 100}}

[UNCO-487](https://includedhealth.atlassian.net/browse/UNCO-487)

[UNCO-487]: https://includedhealth.atlassian.net/browse/UNCO-487?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ

Mirroring https://github.com/ConsultingMD/jarvis/pull/16163


=====================================================
Timestamp:  2023-08-31T21:27:02Z
Repository: ConsultingMD/potluck
PR #14497: [DATASERV-8174] [uep onboarding] Unified Eligibility File Request - Coastal Vineyard Care - 10/1/2023

Description:
[DATASERV-8174](https://includedhealth.atlassian.net/browse/DATASERV-8174)

https://querybook.includedhealth.com/lasik/query_execution/876550/

[DATASERV-8174]: https://includedhealth.atlassian.net/browse/DATASERV-8174?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-08-30T15:14:34Z
Repository: ConsultingMD/metropolis
PR #1668: use a window function to get the latest visits access information for  a provider instead of relying on just the load_history_id

Description:

Got notified from the SE / Provider Relations teams that some roster updates weren't being reflected in the experience. This with now that we load multiple rosters in one batch surfaced this dormant bug we've had where the load_history_id filter wasn't sufficient to fetch all the latest rows for a member.

Confirmed this fixed the issue by running this on a temp table in floyd.
Change already applied on the production box so not urgent to deploy.


=====================================================
Timestamp:  2023-08-22T14:33:03Z
Repository: ConsultingMD/person
PR #150: Update CODEOWNERS

Description:
Use correct team alias


=====================================================
Timestamp:  2023-08-11T20:59:15Z
Repository: ConsultingMD/coverage
PR #724: Update typo in ErrNoVerificationRecord

Description:



=====================================================
Timestamp:  2023-08-04T18:20:24Z
Repository: ConsultingMD/coverage
PR #698: Update enrollment.graphqls comments

Description:
very small nit changes


=====================================================
Timestamp:  2023-08-02T22:50:13Z
Repository: ConsultingMD/loading-dock
PR #1208: [UNCO-213] [bronze] bump bronze sha

Description:
Update bronze sha to account for new parser and sublayouts

[UNCO-213](https://includedhealth.atlassian.net/browse/UNCO-213)

[UNCO-213]: https://includedhealth.atlassian.net/browse/UNCO-213?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-08-02T22:46:27Z
Repository: ConsultingMD/potluck
PR #14049: [UNCO-213] [bronze] update bronze sha

Description:
Update bronze sha to account for new parser and sublayouts
[UNCO-213](https://includedhealth.atlassian.net/browse/UNCO-213)

[UNCO-213]: https://includedhealth.atlassian.net/browse/UNCO-213?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-08-02T22:06:36Z
Repository: ConsultingMD/bronze
PR #3662: [UNCO-213] [bronze] create dod_base_schema parser version that is pipe delimited

Description:
Express dod-only customer uses the dod_base_schema layout but instead of it being comma separated values they send it pipe delimited instead. We need a new parser for this customer. Copy all of dod_base_schema and just replace commas with pipes

[UNCO-213](https://includedhealth.atlassian.net/browse/UNCO-213)

[UNCO-213]: https://includedhealth.atlassian.net/browse/UNCO-213?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-08-02T19:13:38Z
Repository: ConsultingMD/bronze
PR #3661: [UNCO-207] create sublayout for dod_base_schema parser when they send us 30/32 columns instead of 29

Description:

[UNCO-207](https://includedhealth.atlassian.net/browse/UNCO-207)
https://ih-epdd.slack.com/archives/C04EPM33CR4/p1690950617089539

To fix the remaining issues:
[Western growers](https://loading-dock-client.grandrounds.com/data-sources/9993) --
```
{
  "type": "foundExpectedCountMetadata",
  "file": "western_growers/western_growers_customer_eligibility/processed/20230728120017/WESTERN_GROWERS_ASSURANCE_TRUST_20230728.csv",
  "found": 30,
  "expected": 29
}
```
[Bonipak](https://loading-dock-client.grandrounds.com/data-sources/9954) --
```
{
  "type": "foundExpectedCountMetadata",
  "file": "bonipak/bonipak_customer_eligibility/processed/20230728120013/Bonipak-20230728.csv",
  "found": 30,
  "expected": 29
}
```
[fisher ranches](https://loading-dock-client.grandrounds.com/data-sources/9970) --
```
{
  "type": "foundExpectedCountMetadata",
  "file": "fisher_ranches/fisher_ranches_customer_eligibility/processed/20230721120016/fisherranches-20230721.csv",
  "found": 30,
  "expected": 29
}
```
[city of el centro ](https://loading-dock-client.grandrounds.com/poll-events/9960)--
```
{
  "type": "foundExpectedCountMetadata",
  "file": "city_of_el_centro_employees/city_of_el_centro_employees_customer_eligibility/processed/20230721120014/city_of_el_centro_20230721.csv",
  "found": 30,
  "expected": 29
}
```

[UNCO-207]: https://includedhealth.atlassian.net/browse/UNCO-207?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-07-28T19:17:46Z
Repository: ConsultingMD/dod-backend
PR #11542: [DATASERV-8024] add more logging to the activate_coverage flow

Description:
https://includedhealth.atlassian.net/browse/DATASERV-8024

So we have more insight into the fields coming in from the verification_payload.
```
Type "help", "copyright", "credits" or "license" for more information.
>>> foo = '123'
>>> foo != '123'
False
>>> foo != None
True
```


=====================================================
Timestamp:  2023-07-26T23:48:41Z
Repository: ConsultingMD/potluck
PR #13936: Revert "[CX-2417] Add logging to determine why NPE on dod_base_schema"

Description:
Reverts ConsultingMD/potluck#13933


=====================================================
Timestamp:  2023-07-25T20:44:03Z
Repository: ConsultingMD/dod-backend
PR #11505: [DATASERV-8024] add additional logging for #matches_current_coverage()

Description:
We are getting an enormous number of eligibility events for members in the unified app, both Eligibility Events and Insurance Events where applicable.

In testing on UAT, Im finding that every single time I go through intake (at whatever step provisioning would be) the member is deregistered then re-registered.

In some cases I think this is causing problems, but in others, it just seems very strange and I would imaging causing extra delays and things in CCAdmin are getting unruly. Heres an example from a brand new account creation on UAT. 

I think this is interfering with the PCP choice code and causing something strange to happen that wont allow a new PCP assignment to stick, but Ive filed that issue separately with [ CENC-1678 |https://includedhealth.atlassian.net/browse/CENC-1678]

Im curious for manual insurance entry if it would wipe out the insurance credentials every time or not as well (which was happening earlier on). Now insurance is auto-applying on these accounts, however, which wasnt really the intention for this company setup.

Correct me if Im thinking about this wrong, but I would think there would be an eligibility check at this point, but no change to the benefit if nothing was wrong with it in the first place.

!PCP Choice.mov|width=2552,height=1334!

[https://poc-demo.doctorondemand.com/ccadmin/members/member/2112380/change/|https://poc-demo.doctorondemand.com/ccadmin/members/member/2112380/change/?_changelist_filters=q%3Dcarrie.edwards%252B]

[DATASERV-8024](https://includedhealth.atlassian.net/browse/DATASERV-8024)

[DATASERV-8024]: https://includedhealth.atlassian.net/browse/DATASERV-8024?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-07-25T17:36:58Z
Repository: ConsultingMD/coverage
PR #650: editable-family is also a valid case

Description:
https://includedhealth.atlassian.net/browse/DATASERV-8137 to mitigate:
- https://includedhealth.atlassian.net/browse/DATASERV-8064
- https://includedhealth.atlassian.net/browse/DATASERV-8126


=====================================================
Timestamp:  2023-07-25T15:50:13Z
Repository: ConsultingMD/potluck
PR #13891: [DATASERV-8130] remove dataloader_exporter task

Description:
[DATASERV-8130](https://includedhealth.atlassian.net/browse/DATASERV-8130)

We don't need this task anymore since this customer is on the UEP.

![](https://media1.giphy.com/media/vohOR29F78sGk/giphy.gif?cid=5a38a5a2ybnn12v67zuk2aqvt0gtyen5y0yyi3lhdx2uakbv&ep=v1_gifs_search&rid=giphy.gif&ct=g)

[DATASERV-8130]: https://includedhealth.atlassian.net/browse/DATASERV-8130?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-07-24T18:46:42Z
Repository: ConsultingMD/dod-datashare
PR #644: Don't send deploy alerts to CDS slack channels since they do not own this service anymore

Description:
CDS doesn't own this service anymore.


=====================================================
Timestamp:  2023-07-20T17:32:30Z
Repository: ConsultingMD/potluck
PR #13821: [DATASERV-7841] [UEP] - VPC Auto Assignment with Coaching (UAT Test Scenario 3)

Description:
https://includedhealth.atlassian.net/browse/DATASERV-7839
https://includedhealth.atlassian.net/browse/DATASERV-7839

https://querybook.uat.grnds.com/lasik/query_execution/14290/


=====================================================
Timestamp:  2023-07-20T14:54:14Z
Repository: ConsultingMD/bronze
PR #3630: [UNCO-147] [bronze layout] update dod_base_schema parser to custom map canonical.medical_plan_code for penske

Description:
[https://includedhealth.atlassian.net/browse/UNCO-146|https://includedhealth.atlassian.net/browse/UNCO-146|smart-link] 

Wed want to update the the {{medical_plan_code}} mapping for {{PENSKE_HEALTHCOMP_ELIG}} files to be {{extra_3}} instead of the {{insurance_plan}} column.

[UNCO-147](https://includedhealth.atlassian.net/browse/UNCO-147)

[UNCO-147]: https://includedhealth.atlassian.net/browse/UNCO-147?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-07-19T20:38:21Z
Repository: ConsultingMD/bronze
PR #3629: [UNCO-115] [bronze layout] dod_eligibility_file_schema - update hadHeaders/skipHead

Description:
[UNCO-115](https://includedhealth.atlassian.net/browse/UNCO-115)

This way the same parser should work for all dod customer that send us files with/without headers. 
Per Vinay:
> use the same parser and the one with the header will just result in an invalid row and get dropped?
> as the header row will not produce a valid lookup_id etc

[UNCO-115]: https://includedhealth.atlassian.net/browse/UNCO-115?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-07-19T17:53:23Z
Repository: ConsultingMD/potluck
PR #13795: [uep] update company_id mapping for Salesforce to be the correct one

Description:
https://includedhealth.atlassian.net/browse/DATASERV-8010


=====================================================
Timestamp:  2023-07-19T14:26:24Z
Repository: ConsultingMD/loading-dock
PR #1184: [UNCO-115] [bronze layout] dod_eligibility_file_schema - update bronze sha

Description:
[UNCO-115](https://includedhealth.atlassian.net/browse/UNCO-115)

@ConsultingMD/cds

[UNCO-115]: https://includedhealth.atlassian.net/browse/UNCO-115?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-07-19T14:21:14Z
Repository: ConsultingMD/potluck
PR #13789: [UNCO-115] [bronze layout] dod_eligibility_file_schema - update bronze sha

Description:
[UNCO-115](https://includedhealth.atlassian.net/browse/UNCO-115)

[UNCO-115]: https://includedhealth.atlassian.net/browse/UNCO-115?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-07-18T23:23:28Z
Repository: ConsultingMD/bronze
PR #3627: [UNCO-115] [bronze layout] dod_eligibility_file_schema

Description:
[UNCO-115](https://includedhealth.atlassian.net/browse/UNCO-115)

[UNCO-115]: https://includedhealth.atlassian.net/browse/UNCO-115?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ

Followed pattern of https://github.com/ConsultingMD/bronze/pull/3568


=====================================================
Timestamp:  2023-07-17T13:55:26Z
Repository: ConsultingMD/healthcloud-replicator
PR #177: Update CODEOWNERS

Description:
We don't own this service anymore.


=====================================================
Timestamp:  2023-07-17T13:39:11Z
Repository: ConsultingMD/dod-datashare
PR #635: Update CODEOWNERS

Description:
remove Data Services as CODEOWNERS of this repo.


=====================================================
Timestamp:  2023-07-14T19:22:23Z
Repository: ConsultingMD/person
PR #127: Update go.mod

Description:



=====================================================
Timestamp:  2023-07-14T19:20:54Z
Repository: ConsultingMD/account
PR #133: Update go.mod

Description:



=====================================================
Timestamp:  2023-07-14T18:26:17Z
Repository: ConsultingMD/stone
PR #1519: Create CODEOWNERS

Description:



=====================================================
Timestamp:  2023-07-14T18:03:33Z
Repository: ConsultingMD/realtime-eligibility
PR #8: Update CODEOWNERS

Description:



=====================================================
Timestamp:  2023-07-14T18:02:36Z
Repository: ConsultingMD/authorization-control
PR #52: Update CODEOWNERS

Description:



=====================================================
Timestamp:  2023-07-14T18:00:09Z
Repository: ConsultingMD/recommendation
PR #75: Update CODEOWNERS

Description:



=====================================================
Timestamp:  2023-07-11T15:17:57Z
Repository: ConsultingMD/potluck
PR #13652: [UNCO-118] [loading-dock] augment tng service params to include DOD private key

Description:
Do for both uat/production

Private keys were sent encrypted to Richard Garcia by Fred Vogt via Virtru

[UNCO-118](https://includedhealth.atlassian.net/browse/UNCO-118)

Corresponding Loading Dock PR: https://github.com/ConsultingMD/loading-dock/pull/1171

[UNCO-118]: https://includedhealth.atlassian.net/browse/UNCO-118?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-07-11T15:01:57Z
Repository: ConsultingMD/loading-dock
PR #1171: [UNCO-118] [loading-dock] augment tng service params to include DOD private key

Description:
Do for both uat/production

Private keys were sent encrypted to Richard Garcia by Fred Vogt via Virtru

[UNCO-118](https://includedhealth.atlassian.net/browse/UNCO-118)

Corresponding Potluck PR: https://github.com/ConsultingMD/potluck/pull/13652

[UNCO-118]: https://includedhealth.atlassian.net/browse/UNCO-118?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-07-07T22:44:37Z
Repository: ConsultingMD/rogers
PR #457: Update alarms.yaml

Description:
Set this to the right owning team.


=====================================================
Timestamp:  2023-07-07T15:19:24Z
Repository: ConsultingMD/dod-backend
PR #11366: bump production replicas for experiment queue to 4

Description:
https://includedhealth.atlassian.net/browse/UNCO-105


=====================================================
Timestamp:  2023-07-06T22:00:17Z
Repository: ConsultingMD/potluck
PR #13598: [DATASERV-7457] fix uep config for Humana

Description:
https://includedhealth.atlassian.net/browse/DATASERV-7457
Verified here: https://querybook.production.grnds.com/lasik/query_execution/803484/



=====================================================
Timestamp:  2023-07-06T17:00:34Z
Repository: ConsultingMD/metropolis
PR #1656: update mechanism to detect all new files instead of just the latest one

Description:



=====================================================
Timestamp:  2023-07-06T15:29:17Z
Repository: ConsultingMD/dod-backend
PR #11358: [UNCO-97] don't run experiment if user doesn't have an account_id

Description:
https://includedhealth.atlassian.net/browse/UNCO-97


=====================================================
Timestamp:  2023-07-05T16:03:48Z
Repository: ConsultingMD/support-tools
PR #99: fix formatting issues

Description:



=====================================================
Timestamp:  2023-07-03T19:17:50Z
Repository: ConsultingMD/dod-backend
PR #11349: [UNCO-31] Replace all usages of CoverageService with Factory and CoverageClient

Description:
https://includedhealth.atlassian.net/browse/UNCO-31


=====================================================
Timestamp:  2023-07-03T17:56:27Z
Repository: ConsultingMD/dod-backend
PR #11346: UNCO-87: pass custom_attributes into second ff call

Description:
https://includedhealth.atlassian.net/browse/UNCO-87


=====================================================
Timestamp:  2023-06-29T20:28:32Z
Repository: ConsultingMD/dod-backend
PR #11332: UNCO-78: log out the experiment request id so we can crosswalk it later to the otel trace id

Description:
https://includedhealth.atlassian.net/browse/UNCO-78
Missed in the review for https://github.com/ConsultingMD/dod-backend/pull/11329

context: https://includedhealth.atlassian.net/browse/UNCO-78?focusedCommentId=1152188


=====================================================
Timestamp:  2023-06-29T19:57:11Z
Repository: ConsultingMD/dod-backend
PR #11330: UNCO-80: don't log the value, there's pii

Description:
https://includedhealth.atlassian.net/browse/UNCO-80


=====================================================
Timestamp:  2023-06-27T21:05:52Z
Repository: ConsultingMD/dod-backend
PR #11314: UNCO-67: pass in custom attributes to flag check to do more fine grained targeting

Description:
https://includedhealth.atlassian.net/browse/UNCO-67
https://app.launchdarkly.com/dod-backend/legacy-dod-demo/features/coverage-factory-coverage-mode/targeting
<img width="2288" alt="image" src="https://github.com/ConsultingMD/dod-backend/assets/1312796/4f8f5bf6-a051-4807-98f8-42233ff164b3">



=====================================================
Timestamp:  2023-06-27T18:24:10Z
Repository: ConsultingMD/dod-backend
PR #11309: bump ih-feature-flags to 0.13 (from 0.8)

Description:
https://includedhealth.atlassian.net/browse/UNCO-67


=====================================================
Timestamp:  2023-06-27T17:35:21Z
Repository: ConsultingMD/ih-python-feature-flags
PR #28: Bump version: 0.12  0.13

Description:



=====================================================
Timestamp:  2023-06-27T17:04:02Z
Repository: ConsultingMD/ih-python-feature-flags
PR #26: augment gateway.py#variation to accept a dict for custom attributes

Description:
https://includedhealth.atlassian.net/browse/UNCO-67?focusedCommentId=1148173 for context


=====================================================
Timestamp:  2023-06-23T14:37:35Z
Repository: ConsultingMD/dod-backend
PR #11290: Revert "Crel 203 -  Link original ICF call ID to new provider-generated call"

Description:
Reverts ConsultingMD/dod-backend#11271

[Context](https://ih-epdd.slack.com/archives/C03FE5T9GS3/p1687530818866039)


=====================================================
Timestamp:  2023-06-13T20:22:43Z
Repository: ConsultingMD/dod-backend
PR #11252: [CX-2202] dodbe mechanical 3 d

Description:
https://includedhealth.atlassian.net/browse/CX-2202


=====================================================
Timestamp:  2023-06-12T21:46:11Z
Repository: ConsultingMD/dod-backend
PR #11243: Feature/cx 2202 dodbe mechanical 3 b

Description:
https://includedhealth.atlassian.net/browse/{ticket}

{REQUIRED: Enter a description of the changes made in the PR.
Be sure include guidance to reviewers if necessary.
Describe any associated risk as applicable.}

---

Reminder: Merged code will be deployed to production today.

Use this checklist to ensure your code is safe to deploy to production:

* [ ] Are changes feature flagged?
* [ ] Do the changes have thorough unit tests?

Some other things to consider:

* Appropriate documentation (i.e. good docstrings and/or content in `docs/`).
* If your code involves a database migration, please review the [migration checklist](https://grandrounds.atlassian.net/wiki/spaces/ENG/pages/3329482880/Migration+PR+Approval+Checklist).

Reviewers can use the [Backend Code Review Guidelines](https://grandrounds.atlassian.net/wiki/spaces/ENG/pages/3329479464/Backend+Code+Review+Guidelines) to aid the review.



=====================================================
Timestamp:  2023-06-08T18:27:03Z
Repository: ConsultingMD/bobs
PR #4839: Update dependabot.yml

Description:
original [pr](https://github.com/ConsultingMD/bobs/pull/4838) failed a check: https://github.com/ConsultingMD/bobs/runs/14115268746


=====================================================
Timestamp:  2023-06-08T17:51:43Z
Repository: ConsultingMD/bobs
PR #4838:  set insecure-external-code-execution: allow to get dependabot to cre

Description:
ate PRs for the security alerts

To address 
<img width="969" alt="image" src="https://github.com/ConsultingMD/bobs/assets/1312796/e3a64bb8-6ec9-4ab5-adc0-98f06d057e27">



=====================================================
Timestamp:  2023-06-08T16:47:18Z
Repository: ConsultingMD/stone
PR #1499: Revert "Bump grnds-service from 0.7.5 to 1.2.0"

Description:
Reverts ConsultingMD/stone#1485


=====================================================
Timestamp:  2023-06-05T19:30:05Z
Repository: ConsultingMD/bobs
PR #4824: Revert "DATASERV-7698 only update major versions and security patches"

Description:
Reverts ConsultingMD/bobs#4815


=====================================================
Timestamp:  2023-06-05T19:29:45Z
Repository: ConsultingMD/healthcloud-replicator
PR #156: Revert "DATASERV-7698 only update major versions and security patches"

Description:
Reverts ConsultingMD/healthcloud-replicator#154


=====================================================
Timestamp:  2023-06-05T19:29:06Z
Repository: ConsultingMD/id-generator
PR #10: Revert "DATASERV-7698 only update major versions and security patches"

Description:
Reverts ConsultingMD/id-generator#9


=====================================================
Timestamp:  2023-06-05T19:28:39Z
Repository: ConsultingMD/recommendation
PR #60: Revert "DATASERV-7698 only update major versions and security patches"

Description:
Reverts ConsultingMD/recommendation#59


=====================================================
Timestamp:  2023-06-05T19:28:06Z
Repository: ConsultingMD/relationship
PR #73: Revert "DATASERV-7698 only update major versions and security patches"

Description:
Reverts ConsultingMD/relationship#70


=====================================================
Timestamp:  2023-06-05T19:27:22Z
Repository: ConsultingMD/financial-account
PR #78: Revert "DATASERV-7698 only update major versions and security patches"

Description:
Reverts ConsultingMD/financial-account#77


=====================================================
Timestamp:  2023-06-05T19:26:49Z
Repository: ConsultingMD/coverage
PR #497: Revert "DATASERV-7698 only update major versions and security patches"

Description:
Reverts ConsultingMD/coverage#481


=====================================================
Timestamp:  2023-06-05T19:26:30Z
Repository: ConsultingMD/authorization-control
PR #43: Revert "DATASERV-7698 only update major versions and security patches"

Description:
Reverts ConsultingMD/authorization-control#42


=====================================================
Timestamp:  2023-06-05T19:25:05Z
Repository: ConsultingMD/person
PR #98: Revert "DATASERV-7698 Only update major versions and security patches"

Description:
Reverts ConsultingMD/person#96


=====================================================
Timestamp:  2023-06-05T19:24:46Z
Repository: ConsultingMD/account
PR #92: Revert "DATASERV-7698 only update major versions and security patches"

Description:
Reverts ConsultingMD/account#88


=====================================================
Timestamp:  2023-06-05T19:19:30Z
Repository: ConsultingMD/stone
PR #1498: remove member specific mitigation from DATASERV-7728

Description:
now that we have the general fix in place (in https://includedhealth.atlassian.net/browse/DATASERV-7824)


=====================================================
Timestamp:  2023-06-02T17:55:17Z
Repository: ConsultingMD/support-tools
PR #80: reduce timeout to 60 from 360 seconds to reduce 'hanging' calls

Description:



=====================================================
Timestamp:  2023-06-01T18:25:07Z
Repository: ConsultingMD/jarvis
PR #16727: set the correct fhirId in #dependents and #fetch_member_eligibility respectively, instead of in #linked_eligibility_list

Description:

https://includedhealth.atlassian.net/browse/DATASERV-7728
https://includedhealth.atlassian.net/browse/DATASERV-7824

Fixes bug in https://github.com/ConsultingMD/jarvis/pull/16689/files
Flag: https://app.launchdarkly.com/default/production/features/send-fhirid-with-pid/targeting


=====================================================
Timestamp:  2023-05-30T21:38:11Z
Repository: ConsultingMD/coverage
PR #486: pass in the fhirId to Stone when making the eligibilities request

Description:
Stone endpoint now accepts this param and will pass it through to fhir-server to resolve a person by account instead of by pii

https://includedhealth.atlassian.net/browse/DATASERV-7813


=====================================================
Timestamp:  2023-05-30T20:48:56Z
Repository: ConsultingMD/stone
PR #1497: also pass through the fhirId if included in #subscriber_pii

Description:



=====================================================
Timestamp:  2023-05-24T15:31:13Z
Repository: ConsultingMD/potluck
PR #12817: [DATASERV-6274] [UEP Onboarding] - PSA Airlines

Description:
[DATASERV-6274](https://includedhealth.atlassian.net/browse/DATASERV-6274)

https://querybook.production.grnds.com/lasik/query_execution/746787/

PSA has two eligibility files - one active and one COBRA, confirming this includes both elig file populations: https://querybook.production.grnds.com/lasik/query_execution/746833/

[DATASERV-6274]: https://includedhealth.atlassian.net/browse/DATASERV-6274?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-05-22T20:02:06Z
Repository: ConsultingMD/bobs
PR #4810: [DT-148] (2/2) Apply pre-commit auto-fixes

Description:
Create an OpsLevel check for our pre-commit orb in every repo.

[DT-148](https://includedhealth.atlassian.net/browse/DT-148)

[DT-148]: https://includedhealth.atlassian.net/browse/DT-148?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-05-16T15:59:15Z
Repository: ConsultingMD/potluck
PR #12663: [DATASERV-7726] Augment UEP candidate projection to correctly generate the gr_coverage_end_date that includes the grace_period_days baked in

Description:
[DATASERV-7726](https://includedhealth.atlassian.net/browse/DATASERV-7726)

[DATASERV-7726]: https://includedhealth.atlassian.net/browse/DATASERV-7726?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ

AT:
Tested locally against Production with
```
tools/lasik task run --catalog foundation --push_this_jar --push_this_catalog --follow --timeout_minutes 180 dod.eligibility.project_company_eligibility_candidate
```
which generated snapshot `lasik_task_1684254065`.

[Before](https://querybook.production.grnds.com/lasik/query_execution/734176/): 229k would have a non-active status for mcd franchisee
<img width="585" alt="image" src="https://github.com/ConsultingMD/potluck/assets/1312796/b3d37fe2-ce23-4075-ac25-6ff319267f28">


After: All members still have coverage given the `1095` grace period days configured value for mcd franchise data sources (Extended Coverage Benefit)
<img width="608" alt="image" src="https://github.com/ConsultingMD/potluck/assets/1312796/608b604c-7645-474c-9236-541fa4a6a471">



=====================================================
Timestamp:  2023-05-09T21:41:22Z
Repository: ConsultingMD/potluck
PR #12560: [DATASERV-5894] [UEP] McDonalds Franchisee - escape quotes in gr_customer name

Description:
[DATASERV-5894](https://includedhealth.atlassian.net/browse/DATASERV-5894)

[DATASERV-5894]: https://includedhealth.atlassian.net/browse/DATASERV-5894?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-05-09T18:12:06Z
Repository: ConsultingMD/potluck
PR #12552: Revert "Revert "[DATASERV-7523] [UEP] - VPC w/ PCP Choice (UAT Test Scenario 1)""

Description:
Reverts ConsultingMD/potluck#12485


=====================================================
Timestamp:  2023-05-09T16:21:58Z
Repository: ConsultingMD/tp
PR #1907: Install awscli in base img

Description:
to unblock @aberbereia 


=====================================================
Timestamp:  2023-05-02T02:14:42Z
Repository: ConsultingMD/potluck
PR #12485: Revert "[DATASERV-7523] [UEP] - VPC w/ PCP Choice (UAT Test Scenario 1)"

Description:
Reverts ConsultingMD/potluck#12470

caused https://grand-rounds.pagerduty.com/incidents/Q02C6CIUV6V5CX (see ticket comments for context)


=====================================================
Timestamp:  2023-05-01T16:05:54Z
Repository: ConsultingMD/potluck
PR #12470: [DATASERV-7523] [UEP] - VPC w/ PCP Choice (UAT Test Scenario 1)

Description:
[DATASERV-7523](https://includedhealth.atlassian.net/browse/DATASERV-7523)

[DATASERV-7523]: https://includedhealth.atlassian.net/browse/DATASERV-7523?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-04-21T18:21:51Z
Repository: ConsultingMD/bobs
PR #4779: Revert "[DATASERV-7377] remove healthcloud_server"

Description:
Reverts ConsultingMD/bobs#4774


=====================================================
Timestamp:  2023-04-21T18:18:09Z
Repository: ConsultingMD/DPW
PR #1686: Revert "[DATASERV-7377] remove healthcloud server"

Description:
Reverts ConsultingMD/DPW#1675


=====================================================
Timestamp:  2023-04-21T18:11:26Z
Repository: ConsultingMD/platform-map
PR #659: Revert "[DATASERV-7377] remove healthcloud server"

Description:
Reverts ConsultingMD/platform-map#649


=====================================================
Timestamp:  2023-04-20T18:32:28Z
Repository: ConsultingMD/support-tools
PR #56: surface additional fields in the upstream command

Description:
https://includedhealth.atlassian.net/browse/DATASERV-7556

Adding gr_filename, gr_family_id.
Also putting a patch to not check the dynamo version when using red permissions since there's currently a permissions issue.


=====================================================
Timestamp:  2023-04-18T17:11:36Z
Repository: ConsultingMD/potluck
PR #12199: [DATASERV-5555] UEP Request - IH (Existing)

Description:
https://includedhealth.atlassian.net/browse/DATASERV-5555


=====================================================
Timestamp:  2023-04-17T21:53:39Z
Repository: ConsultingMD/bobs
PR #4773: [DATASERV-7448] Switch FHIR Server over to a standalone Salesforce user

Description:
As part of finishing up the work from [https://includedhealth.atlassian.net/browse/INC-96|https://includedhealth.atlassian.net/browse/INC-96|smart-link], we were asked to [switch to a more secure way of authenticating against Salesforce|https://includedhealth.atlassian.net/browse/DATASERV-4034]. Weve done that for all of our services except FHIR Server. Unfortunately, the library we use to talk to Salesforce from FHIR Server doesnt support JWT auth, and never will because its been abandoned. The cost of changing that is quite high because wed have to find a new library or write one ourselves, few people on the team understand Scala or Java, FHIR Server is poorly tested, and its at the center of many product flows. Furthermore, we intend to break up FHIR Server into Scala based services this year.

Aside from being a security problem, theres also a debugging problem which is that every time CTX wants to debug something with FHIR Server, they have to reset the password, which can then break FHIR Server.

To mitigate these risks in the short term, we can just create a standalone Salesforce user for FHIR Server. Instructions from Andy Ray:

To make a new integration-y type user:

Do these instructions first in UAT, then in Production.

* Make a new user in production where the email address is a shared alias your whole team has access to. For example, the CTX team uses [care-platform-eng healthcloud-api-01@grandrounds.com|mailto:care-platform-eng healthcloud-api-01@grandrounds.com] (dont use this, use one your team has access to) (use the same email for UAT and production).
* Make the username something like integration_fhir_user@includedhealth.com.hc (the .hc stands for healthcloud)
* Give the new user the integration user profile (which is what gives it access to all data in the system)
* Log in as this new FHIR integration user, set the password to something, put that password (and new username) in parameter store, and deploy the fhir server using it.

[DATASERV-7448](https://includedhealth.atlassian.net/browse/DATASERV-7448)

[DATASERV-7448]: https://includedhealth.atlassian.net/browse/DATASERV-7448?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-04-12T17:14:15Z
Repository: ConsultingMD/coverage
PR #368: Update grafana config to not alert if NO DATA comes in

Description:
https://includedhealth.atlassian.net/browse/DATASERV-7436


=====================================================
Timestamp:  2023-04-12T15:30:39Z
Repository: ConsultingMD/potluck
PR #12092: [DATASERV-5817] [UEP Mapping Update] 90 Degree Benefits

Description:
[DATASERV-5817](https://includedhealth.atlassian.net/browse/DATASERV-5817)

[DATASERV-5817]: https://includedhealth.atlassian.net/browse/DATASERV-5817?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ

Context: https://includedhealth.atlassian.net/browse/DATASERV-5817?focusedCommentId=1060307


=====================================================
Timestamp:  2023-04-11T22:31:43Z
Repository: ConsultingMD/tp
PR #1898: [DATASERV-7411] change ownership of TP to the Nav team: update alarms.yaml

Description:

[DATASERV-7411](https://includedhealth.atlassian.net/browse/DATASERV-7411)

[DATASERV-7411]: https://includedhealth.atlassian.net/browse/DATASERV-7411?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-04-10T21:12:21Z
Repository: ConsultingMD/dod-backend
PR #11016: always install text editors for debugging

Description:
https://includedhealth.atlassian.net/browse/DATASERV-7439



=====================================================
Timestamp:  2023-04-10T16:36:08Z
Repository: ConsultingMD/potluck
PR #12028: [DATASERV-7169] Add `provider_tags` table to Lasik

Description:
Add {{provider_tags}} table to metropolis.staging tables in Lasik 

[DATASERV-7169](https://includedhealth.atlassian.net/browse/DATASERV-7169)

[DATASERV-7169]: https://includedhealth.atlassian.net/browse/DATASERV-7169?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ

```
tools/lasik task gen csv --table=metropolis.canonical.staging.provider_tag --example_file_path="/Users/richard.garcia/IH/potluck/provider_tags.csv" --maturity=SOURCE --separator='\t'
```

Original PR: https://github.com/ConsultingMD/potluck/pull/6685


=====================================================
Timestamp:  2023-04-07T21:28:15Z
Repository: ConsultingMD/looker
PR #512: [DATASERV-7441] show manage workflow link not appearing in TP provider pipeline dashboard

Description:
This started happening after Looker was updated.

[DATASERV-7441](https://includedhealth.atlassian.net/browse/DATASERV-7441)

Now correctly populates with this change.
<img width="2203" alt="image" src="https://user-images.githubusercontent.com/1312796/230681099-d460c102-8a17-48a5-a97a-7a21b8a79fbb.png">

Seems like `_view` was a legacy lookml feature (looker prod support helped determine this)

[DATASERV-7441]: https://includedhealth.atlassian.net/browse/DATASERV-7441?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2023-04-04T23:24:10Z
Repository: ConsultingMD/tp
PR #1878: [DATASERV-7411] change ownership of TP to the Nav team

Description:
[DATASERV-7411](https://includedhealth.atlassian.net/browse/DATASERV-7411)

https://docs.google.com/document/d/1eZAGxOsd8t-v6TnT2s1THakH1ywNj1VMSfS-g_DMdxs/edit#

[DATASERV-7411]: https://includedhealth.atlassian.net/browse/DATASERV-7411?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ

https://app.opslevel.com/services/tp/maturity-report

<img width="2361" alt="image" src="https://user-images.githubusercontent.com/1312796/229944434-91b948ee-6a7e-4638-a25c-c12bf4084ac6.png">



=====================================================
Timestamp:  2023-04-03T22:44:13Z
Repository: ConsultingMD/support-tools
PR #43: augment support tool to make the provision unified account gql mutation

Description:
https://includedhealth.atlassian.net/browse/DATASERV-7398
We do this manual check via apollo quite often when debugging. Let's augment the support tool to do this for us.

```
(base)   support-tools git:(new-feature/DATASERV-7398/augment-support-the-gql-mutation)  ./support_tools --jira 'prod chores' service ais provision-unified-account 0017A00000vdBAMQA2                                                                                                                                                     <aws:sts> <region:us-west-2>
OpenBLAS WARNING - could not determine the L2 cache size on this system, assuming 256k
WARNING:root:pyiceberg is not installed, cannot interact with Iceberg tables
Support Tool instantiated under AWS_ENVIRONMENT: uat
====================
	RUNNING PROVISION UNIFIED ACCOUNT MUTATION (ACTIVATES LDOD COVERAGE FOR MEMBER)
=====================
This mutation gets called any time the member logs in or initiates a dod service. Should be idempotent. When this call is not succeeding it's usually indicative of a coverage activation failure preventing the member from getting care.

{'dodUserUUID': 'b64f600d-38ad-4c86-8004-af2a222627b1', 'failureCode': None}
```


=====================================================
Timestamp:  2023-03-28T22:17:15Z
Repository: ConsultingMD/potluck
PR #11854: [DATASERV-7294] Increased timeout failures of Task project_coverage_raw_field_dimension_by_entity_id_and_start_at_end_at

Description:
https://includedhealth.atlassian.net/browse/DATASERV-7294

This task has recently started taking longer than 3hrs to finish, default timeout is 3hrs so the task is killed and we raise page oncall to restart the task. Let's increase the timeout so it finishes the first time and we don't end up paging the oncall.


=====================================================
Timestamp:  2023-03-28T18:46:58Z
Repository: ConsultingMD/potluck
PR #11842: [DATASERV-7318] [UEP] - IH4IH Dogfood / Pilot Group

Description:
https://includedhealth.atlassian.net/browse/DATASERV-7318


=====================================================
Timestamp:  2023-03-28T17:50:27Z
Repository: ConsultingMD/support-tools
PR #37: surface aws cmd when using the support tool

Description:
```
Support Tool instantiated under AWS_ENVIRONMENT: production
```


=====================================================
Timestamp:  2023-03-24T21:52:02Z
Repository: ConsultingMD/support-tools
PR #35: also show gr_next_filename_date

Description:



=====================================================
Timestamp:  2023-03-23T06:35:50Z
Repository: ConsultingMD/tp
PR #1850: Revert "Bump jquery-ui-rails from 4.2.1 to 6.0.0"

Description:
Reverts ConsultingMD/tp#1845

There's a regression in the inputs. Reverting until we fix it.
<img width="411" alt="image" src="https://user-images.githubusercontent.com/1312796/227122792-2d0c526b-b9b0-4774-b858-32e9068ce588.png">

<img width="2423" alt="image" src="https://user-images.githubusercontent.com/1312796/227123544-89c5f2c7-d24b-4e38-a1b0-367873cc27a6.png">




=====================================================
Timestamp:  2023-03-20T18:01:53Z
Repository: ConsultingMD/dod-backend
PR #10910: scrub additional fields in rollbar payload

Description:
https://includedhealth.atlassian.net/browse/CARED-1129


=====================================================
Timestamp:  2023-03-14T18:54:20Z
Repository: ConsultingMD/bobs
PR #4689: ca.uhn.fhir.rest.server.exceptions.InternalErrorException: Failure during REST processing

Description:
https://includedhealth.atlassian.net/browse/CDS-7198


=====================================================
Timestamp:  2023-03-09T22:19:33Z
Repository: ConsultingMD/potluck
PR #11462: [CDS-7130] OneOncology PPO records not showing up

Description:
We need to investigate why this is happening and fix

[CDS-7130](https://includedhealth.atlassian.net/browse/CDS-7130)

[CDS-7130]: https://includedhealth.atlassian.net/browse/CDS-7130?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ



=====================================================
Timestamp:  2025-06-17T20:56:09Z
Repository: ConsultingMD/enrollment
PR #344: update authz check

Description:
No issues in prod
https://grafana.includedhealth.com/d/bd20e742bd7cec2d59b96b335177353d77737862/authz-metrics?orgId=1&from=now-1h&to=now&timezone=browser&var-environment=production&var-region=us-east-1

<img width="1049" alt="image" src="https://github.com/user-attachments/assets/92836294-f8be-471d-a7f5-c8dc7fea619d" />



=====================================================
Timestamp:  2025-06-17T20:12:30Z
Repository: ConsultingMD/mx-ui-workflows
PR #835: update authz check

Description:
No issues in prod.
https://grafana.includedhealth.com/d/77bdfdccec79399956b22a4be879ab24599f0f8f/authz-metrics?orgId=1&from=now-6h&to=now&timezone=browser&var-environment=production&var-region=us-east-1

<img width="932" alt="image" src="https://github.com/user-attachments/assets/89eee56c-3d8e-4a6c-885e-a1cab76dbfad" />



=====================================================
Timestamp:  2025-06-17T20:01:57Z
Repository: ConsultingMD/mauthra-ui
PR #140: Update observability.yaml to reflect engage on-call 3.0

Description:



=====================================================
Timestamp:  2025-06-17T19:45:48Z
Repository: ConsultingMD/oneapp-migration
PR #767: update authz check 

Description:



=====================================================
Timestamp:  2025-06-17T19:41:27Z
Repository: ConsultingMD/oneapp-migration
PR #766: update authz

Description:
No issues in prod
<img width="1010" alt="image" src="https://github.com/user-attachments/assets/766069ef-c0cf-40f2-9333-e3a8944d0b37" />



=====================================================
Timestamp:  2025-06-17T17:46:06Z
Repository: ConsultingMD/oneapp-migration
PR #765: update escalation policy to fix deploy failure

Description:
https://ci.us-east-1.production.grnds.com/#/namespaces/deploy/pipelineruns/oneapp-migration-pr-c043a211?pipelineTask=provision-observability-resources-v2&step=provision-observability-resources-v2

<img width="2189" alt="image" src="https://github.com/user-attachments/assets/0ee53ef8-26ee-4555-8d33-3256791f8854" />


=====================================================
Timestamp:  2025-06-17T03:03:38Z
Repository: ConsultingMD/enrollment
PR #343: update authz 

Description:
This pull request introduces several changes to enhance authorization handling in the GraphQL resolvers of the `app/handler/graph/schema.resolvers.go` file. The primary updates involve adding checks to ensure proper authorization for specific endpoints and recording authorization checks where sensitive data is not involved.

### Authorization Enhancements:

* **Added authorization recording for resolvers without PII**:
  - Updated the `FirstEnrollmentStep`, `EnrollmentPrompt`, and `EnrollmentVerificationFields` resolvers to record that authorization was checked, as these requests do not involve Personally Identifiable Information (PII). (`[[1]](diffhunk://#diff-832a69bbb7a7bbd4f6e7a75f856fc053b58b35b5148edf5df8eab447af4c47e2R39-R40)`, `[[2]](diffhunk://#diff-832a69bbb7a7bbd4f6e7a75f856fc053b58b35b5148edf5df8eab447af4c47e2R56-R57)`, `[[3]](diffhunk://#diff-832a69bbb7a7bbd4f6e7a75f856fc053b58b35b5148edf5df8eab447af4c47e2R73-R74)`)

* **Implemented strict authorization checks for service-specific endpoints**:
  - Added authorization checks to the `CreateOrClaimAccount` and `VerifyCoverageAndEnroll` mutation resolvers to ensure these endpoints are only accessible by specific services (`mx-ui-workflows`, `wizard`). (`[[1]](diffhunk://#diff-832a69bbb7a7bbd4f6e7a75f856fc053b58b35b5148edf5df8eab447af4c47e2R97-R101)`, `[[2]](diffhunk://#diff-832a69bbb7a7bbd4f6e7a75f856fc053b58b35b5148edf5df8eab447af4c47e2R148-R152)`)


=====================================================
Timestamp:  2025-06-16T19:19:00Z
Repository: ConsultingMD/mauthra-ui
PR #135: [DO NOT MERGE] make mauthra-ui accessible to the internet

Description:
Only merge this after https://includedhealth.atlassian.net/browse/CLOUD-4667 is complete


=====================================================
Timestamp:  2025-06-13T19:05:59Z
Repository: ConsultingMD/oneapp-migration
PR #763: update authz check

Description:
This pull request updates the `account_info.go` file in the `package graph` to improve authorization checks and streamline imports. The changes replace a deprecated authorization method with a more robust approach and refine the list of imported packages.

### Authorization Improvements:
* Replaced `http.TokenIsMachine(ctx)` with `authz.Check(ctx, authz.AssertCallerIsOtherService())` to enhance authorization logic. This ensures that the caller is verified as another service using a more modern and reliable method.

### Import Refinements:
* Removed the unused `github.com/ConsultingMD/go-common/http` package and added the `github.com/ConsultingMD/go-common/app/auth/authz` package to align with the updated authorization logic.


=====================================================
Timestamp:  2025-06-12T19:13:45Z
Repository: ConsultingMD/patient-description
PR #255: update GetPatientDescription with an explicit auth check

Description:
This pull request makes changes to the `schema.resolvers.go` file in the `package graph` to improve authorization handling and update imports. The most notable changes include replacing the `http.TokenIsMachine` check with a more robust authorization mechanism using `authz.Check`, and updating the import statements to reflect this new dependency.

### Authorization improvements:
* Replaced the `http.TokenIsMachine` check with `authz.Check` to enforce service-to-service authorization using `authz.AssertCallerIsOtherService`. This change enhances security by ensuring proper validation of machine tokens.

### Import updates:
* Added the `auth/authz` package to the import statements and removed the `http` package, aligning with the new authorization approach.


=====================================================
Timestamp:  2025-06-12T18:46:52Z
Repository: ConsultingMD/mx-ui-workflows
PR #832: update authz

Description:
This pull request introduces updates to the authentication logic in the `schema.resolvers.go` file and upgrades dependencies in `go.mod`. The authentication changes replace token-based checks with a more robust role-based authorization mechanism, while the dependency updates improve compatibility and incorporate newer versions of libraries.

### Authentication Updates
* **Enhanced Authorization Logic**: Replaced token-based checks (`http.TokenIsUser` and `http.TokenIsMachine`) with role-based authorization using `authz.Check`. This ensures better control over access by asserting caller roles (`AssertCallerIsOtherService`, `AssertCallerIsMember`) and combining them with logical operators (`authz.Or`). [[1]](diffhunk://#diff-832a69bbb7a7bbd4f6e7a75f856fc053b58b35b5148edf5df8eab447af4c47e2L47-R47) [[2]](diffhunk://#diff-832a69bbb7a7bbd4f6e7a75f856fc053b58b35b5148edf5df8eab447af4c47e2L105-R105)

### Dependency Updates
* **Go Version Upgrade**: Updated Go version from `1.23.8` to `1.24.2` and toolchain from `go1.23.9` to `go1.24.4`.
* **Library Updates**: Upgraded multiple dependencies in `go.mod`, including `github.com/ConsultingMD/go-common` (v1.163.0  v1.166.0), `go.opentelemetry.io/otel` (v1.35.0  v1.36.0), and `github.com/redis/go-redis/v9` (v9.7.3  v9.10.0), among others, for improved functionality and compatibility. [[1]](diffhunk://#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6L22-R37) [[2]](diffhunk://#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6L50-R78) [[3]](diffhunk://#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6L193-R214)
* **Indirect Dependency Additions**: Introduced new indirect dependencies such as `github.com/containerd/errdefs` and `sigs.k8s.io/randfill`. [[1]](diffhunk://#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6R88-R133) [[2]](diffhunk://#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6L244-R288)

These changes enhance security, maintainability, and compatibility across the codebase.


=====================================================
Timestamp:  2025-06-11T14:18:50Z
Repository: ConsultingMD/homepage-service
PR #482: transition to engage on-call 3.0

Description:
Per https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/5234819136/Engage+On-Call+3.0


=====================================================
Timestamp:  2025-06-11T13:53:23Z
Repository: ConsultingMD/merge-account
PR #325: transition to engage on-call 3.0

Description:
Per https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/5234819136/Engage+On-Call+3.0


=====================================================
Timestamp:  2025-06-11T13:46:17Z
Repository: ConsultingMD/oneapp-migration
PR #761: transition to engage on-call 3.0

Description:
Per https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/5234819136/Engage+On-Call+3.0


=====================================================
Timestamp:  2025-06-11T13:38:55Z
Repository: ConsultingMD/contact-verification
PR #298: transition to engage on-call 3.0

Description:
Per https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/5234819136/Engage+On-Call+3.0


=====================================================
Timestamp:  2025-06-11T13:30:43Z
Repository: ConsultingMD/family
PR #416: transition to engage on-call 3.0

Description:
Per https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/5234819136/Engage+On-Call+3.0


=====================================================
Timestamp:  2025-06-11T13:25:15Z
Repository: ConsultingMD/mx-ui-workflows
PR #831: transition to engage on-call 3.0

Description:
Per https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/5234819136/Engage+On-Call+3.0


=====================================================
Timestamp:  2025-06-11T13:14:59Z
Repository: ConsultingMD/account
PR #951: transition to engage on-call 3.0

Description:
Per https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/5234819136/Engage+On-Call+3.0


=====================================================
Timestamp:  2025-06-11T13:09:51Z
Repository: ConsultingMD/relationship
PR #294: transition to engage on-call 3.0

Description:
Per https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/5234819136/Engage+On-Call+3.0


=====================================================
Timestamp:  2025-06-11T13:05:54Z
Repository: ConsultingMD/patient-description
PR #254: transition to engage on-call 3.0

Description:
Per https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/5234819136/Engage+On-Call+3.0


=====================================================
Timestamp:  2025-06-10T21:41:46Z
Repository: ConsultingMD/enrollment
PR #341: transition to engage on-call 3.0

Description:
Per https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/5234819136/Engage+On-Call+3.0


=====================================================
Timestamp:  2025-06-10T14:58:31Z
Repository: ConsultingMD/relationship
PR #293: add gql operation validation to circleci config

Description:
For https://app.opslevel.com/campaigns/2976


=====================================================
Timestamp:  2025-06-06T23:27:34Z
Repository: ConsultingMD/account
PR #949: augment CreateAccount mutation to call getPersonByPII to find existing accounts before creating a new account

Description:
Related: https://github.com/ConsultingMD/oneapp-migration/pull/760

This pull request introduces several enhancements and updates across multiple files, focusing on adding new features, improving account search capabilities, and updating the GraphQL schema. Key changes include the addition of a new method for searching persons by Personally Identifiable Information (PII), updates to the GraphQL schema to streamline data structures, and the introduction of feature flags for new search functionalities.

### Enhancements to Account Search:

* Added a new method `GetPersonByPII` to the `Gateway` interface in `app/gateway/janus/gateway.go`, allowing searches for persons using PII. This includes the implementation of the method and integration with the GraphQL client. [[1]](diffhunk://#diff-a538745dc45114fc673a685d0a061779a02862976f2bfa14a357882a5a324fbdR81-R86) [[2]](diffhunk://#diff-a538745dc45114fc673a685d0a061779a02862976f2bfa14a357882a5a324fbdR156-R172)
* Introduced feature flags `SearchClaimableAccountByPhone` and `SearchExistingAccountsByPII` in `app/service/claimaccount/searcher.go` to enable conditional execution of new search functionalities. (F300245cL21R21, [app/service/claimaccount/searcher.goR64-R66](diffhunk://#diff-6ebe4c9db2df444a97d88c49507402814a9c753228bab17ca3542c4ba8287e0eR64-R66))
* Implemented the `findExistingAccountsFromPII` method in `app/service/claimaccount/searcher.go` to search for existing accounts using PII with configurable filters.

### GraphQL Schema Updates:

* Replaced `MedicalDegreeInput` with `MedicalDegree` in various schema types to simplify the data structure. [[1]](diffhunk://#diff-e0766daf0d36897e073188a61a8160ca02a4beffe98b4a8f42fc170947d40749L7603-R7603) [[2]](diffhunk://#diff-e0766daf0d36897e073188a61a8160ca02a4beffe98b4a8f42fc170947d40749L16028-R16032)
* Added a new field `panelType` to the `ExpertPanelInfo` type to provide additional metadata about expert panels.
* Consolidated and updated mutation inputs, such as replacing `UpdateExpertPractitionerDemographicInfoInput` with `UpdateExpertPractitionerPanelMembershipsInput` and simplifying the case rate update input. [[1]](diffhunk://#diff-e0766daf0d36897e073188a61a8160ca02a4beffe98b4a8f42fc170947d40749L17925-R17935) [[2]](diffhunk://#diff-e0766daf0d36897e073188a61a8160ca02a4beffe98b4a8f42fc170947d40749L30588-L30649)

### Telemetry and Logging Improvements:

* Added telemetry logs to track errors and behaviors in the new `findExistingAccountsFromPII` method and other related functionalities.
* Updated error handling for `GetPersonByPII` to log specific cases, such as no matches or multiple matches, for better debugging.

### GraphQL Query Addition:

* Introduced a new query `GetPersonByPII` in `app/gateway/janus/query/getPersonByPII.graphql` to support the new PII-based search functionality.

### Codebase Maintenance:

* Refactored comments and improved readability in the `findUnreliableResult` method in `app/service/claimaccount/searcher.go`. [[1]](diffhunk://#diff-6ebe4c9db2df444a97d88c49507402814a9c753228bab17ca3542c4ba8287e0eL201-R230) [[2]](diffhunk://#diff-6ebe4c9db2df444a97d88c49507402814a9c753228bab17ca3542c4ba8287e0eR248)


=====================================================
Timestamp:  2025-06-06T23:22:42Z
Repository: ConsultingMD/oneapp-migration
PR #760: include phone in the create account input

Description:
This will allows us to (in ais) do a getPersonByPII search to try and find an existing account before creating a new one, to prevent duplicate account creation.

Related: https://github.com/ConsultingMD/account/pull/949

This pull request introduces changes to improve logging clarity and enhance the handling of phone numbers during account creation. The most important changes include adding logic to select the first phone number from a list and updating log messages for better readability.

### Enhancements to phone number handling:
* [`app/service/accountcreation/account_creation.go`](diffhunk://#diff-753bff3baac722b9f51cc845733883c9a16186bd42cab31a19a6ab2b909c8576R199-R208): Added logic to select the first phone number from a list of phone numbers for DOD users. If multiple phone numbers are found, a log message is recorded to indicate this, and the first phone number is used.
* [`app/service/accountcreation/account_creation.go`](diffhunk://#diff-753bff3baac722b9f51cc845733883c9a16186bd42cab31a19a6ab2b909c8576R218): Updated the account creation input to include the selected phone number (`Phone`).

### Improvements to logging:
* [`app/service/dodlocator/dodlocator.go`](diffhunk://#diff-27dae3b3cac8f48af437001e6dd9bf527d7fcf6c37ec7d94df0f9334059088baL269-R269): Updated a log message to replace "has_ih_account" with "nil ih_account" for better clarity when checking for PII mismatches.


=====================================================
Timestamp:  2025-06-02T21:37:21Z
Repository: ConsultingMD/mauthra-ui
PR #105: [IAM-500] add missing amplitude event for forgot password screen

Description:
This pull request introduces enhancements to Amplitude event tracking and updates to the password reset flow. Key changes include adding new Amplitude event properties, integrating event tracking in the password reset flow, and updating the `ampli.json` configuration file.

### Amplitude Event Tracking Enhancements:
* [`src/lib/services/ampli/utils.ts`](diffhunk://#diff-030f67bf20316046e4ff887fbe322290b195c1d7b93403f49f2c8a2dce919712R8): Added a new `Screen` property to `AmplitudeEventProperties` to track specific screens ("ENTER_INFO" and "SUCCESS"). Updated comments in `getAmplitudeEventProperties` to clarify the base properties used for all events. [[1]](diffhunk://#diff-030f67bf20316046e4ff887fbe322290b195c1d7b93403f49f2c8a2dce919712R8) [[2]](diffhunk://#diff-030f67bf20316046e4ff887fbe322290b195c1d7b93403f49f2c8a2dce919712R27-R28)

### Password Reset Flow Updates:
* [`src/shared/components/passwordRecoveryPages/passwordResetFlow.tsx`](diffhunk://#diff-e338435b30128966695f5928c8ffdb01650f7671f1692cea48a22f74bbe4c625R42-R61): Integrated Amplitude event tracking into the password reset flow using `useEffect`. Events are triggered based on the current screen (`ENTER_INFO` or `SUCCESS`) with the `ampli.viewForgotPasswordAuth0Screen` method. Introduced `hasTrackedAmplitudeEvents` to prevent duplicate event tracking.
* [`src/shared/components/passwordRecoveryPages/passwordResetFlow.tsx`](diffhunk://#diff-e338435b30128966695f5928c8ffdb01650f7671f1692cea48a22f74bbe4c625R11-R13): Added imports for Amplitude utilities and `useSearchParams` to support event tracking.

See [thread](https://ih-epdd.slack.com/archives/C07UYHBAJ7M/p1748637425950089) for the missing event(s)

Pending: 2FA event to be added in https://github.com/ConsultingMD/mauthra-ui/pull/83 or a follow up

[IAM-500](https://includedhealth.atlassian.net/browse/IAM-500)


<img width="2268" alt="image" src="https://github.com/user-attachments/assets/208eab31-9105-4434-b8bf-13f2219051c1" />

<img width="832" alt="image" src="https://github.com/user-attachments/assets/cbf43ccc-d025-4e4f-b189-b632c2401dc9" />

If DOD brand
<img width="2357" alt="image" src="https://github.com/user-attachments/assets/526a2860-fdcc-4018-8017-ea78afccbf44" />



[IAM-500]: https://includedhealth.atlassian.net/browse/IAM-500?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-05-27T19:22:37Z
Repository: ConsultingMD/mauthra-ui
PR #89: link to signup from login page and vice versa

Description:
This pull request updates navigation links and makes improvements to the `RegistrationCard` component for better consistency and usability. It also adjusts the `SignUp` page URL to point to the registration page within the application instead of an external link.

### Navigation Updates:
* Updated the "New here?" link on the login page to direct users to the `SignUp` page instead of the `Login` page. (`pages/login.tsx`)
* Changed the `SignUp` page URL in `PAGE_DATA` from an external link (`https://includedhealth.com`) to an internal `/registration` route. (`src/shared/constants/pages.ts`)

### `RegistrationCard` Component Enhancements:
* Added imports for `TextElementType`, `TextFontSize`, and `Link` to support updated text and link styling. (`src/components/registration/RegistrationCard.tsx`) [[1]](diffhunk://#diff-5bed458099d26e75782bf12fdb6482b7876dd39d32eb4485b82bcdc4f9b533a3R3-R4) [[2]](diffhunk://#diff-5bed458099d26e75782bf12fdb6482b7876dd39d32eb4485b82bcdc4f9b533a3R16-R18)
* Updated the "Already a member?" text to include a styled link to the `Login` page, improving clarity and consistency with design standards. (`src/components/registration/RegistrationCard.tsx`)

<img width="957" alt="image" src="https://github.com/user-attachments/assets/ff906460-bfa4-49a8-808b-911f0770d1ac" />
<img width="758" alt="image" src="https://github.com/user-attachments/assets/ca4f00b8-95f2-45ed-b436-b061307897b9" />



=====================================================
Timestamp:  2025-05-23T21:37:21Z
Repository: ConsultingMD/support-tools
PR #252: misc refactors to account creation cmds + adding cmd to generate hash from member demographics

Description:
This pull request introduces several enhancements and new features to the `ais` and `hub` services, focusing on improved account creation, demographic hashing, and handling of primary account fields. It also includes updates to GraphQL queries and command-line interfaces for better flexibility and usability. Below are the most significant changes grouped by theme.

### Enhancements to Account Handling
* Added support for handling primary account fields in both `create_account` and `get_account_ids` methods by introducing a `primaries` flag. This affects the logic for processing input/output CSVs and field prefixes. (`lib/service/ais.py`, `lib/service/hub.py`) [[1]](diffhunk://#diff-a218dbae248f86e7e3c904b8fb82bdbe9dabc106e81bff11e0b63f8f068ab4b0R134-R167) [[2]](diffhunk://#diff-cb7fe3ef43b3bc5893f15a942c124bba0649eebf11628fc5ffb95e56700c6465L47-R64)
* Updated the `build_mutation_variables` method to dynamically handle optional fields and validate required fields, returning an `invalid_row` flag for incomplete data. (`lib/service/ais.py`)

### New Features
* Introduced a `generate_demographic_hash` method to create a SHA256 hash from normalized demographic data (first name, last name, DOB, and SSN last 4 digits). This method is also exposed via a new CLI command. (`lib/service/ais.py`, `tool/service.py`) [[1]](diffhunk://#diff-a218dbae248f86e7e3c904b8fb82bdbe9dabc106e81bff11e0b63f8f068ab4b0R96-R124) [[2]](diffhunk://#diff-4e3aca18cafec57820f7cd50f3410267afa253aec13c8ddb7b7181bd7fb160bfR114-R128)
* Added CLI options for specifying the `primaries` flag in `create_account` and `get_account_ids` commands, improving command-line flexibility. (`tool/service.py`) [[1]](diffhunk://#diff-4e3aca18cafec57820f7cd50f3410267afa253aec13c8ddb7b7181bd7fb160bfR114-R128) [[2]](diffhunk://#diff-4e3aca18cafec57820f7cd50f3410267afa253aec13c8ddb7b7181bd7fb160bfR1092-R1096)

### GraphQL Query Updates
* Extended GraphQL queries to include additional fields such as `phone` for accounts and `firstName`/`lastName` for relationships. (`lib/service/ais.py`, `lib/service/relationship.py`) [[1]](diffhunk://#diff-a218dbae248f86e7e3c904b8fb82bdbe9dabc106e81bff11e0b63f8f068ab4b0R32) [[2]](diffhunk://#diff-5e97f4de049f0892c23f0a1ddf87bc3ef1051811f70bc49528092d1aa5fcc455R14-R20)

### Minor Improvements
* Refactored the `create_account` method to handle account existence checks more robustly by introducing a constant for the `ACCOUNT_ALREADY_EXISTS` status. (`lib/service/ais.py`)
* Adjusted the default value for the `provenances` option in the `relationship` command to an empty list for better flexibility. (`tool/service.py`)

```
 ./main.py --jira=work service ais generate-demographic-hash --first-name "Benito" --last-name "Martinez" --dob "1980-05-05" --ss4 "4321"
WARNING:root:pyiceberg is not installed, cannot interact with Iceberg tables
c801ed83d6863cd7e6e9f361c0c2616292328ab6f8e3f53b4b4d52bfbac97914
```

```
./main.py --jira=work service ais create-account /Users/richard.garcia/Downloads/swa_with_accounts.csv /tmp/swa_with_accounts.csv -p
./main.py --jira=work service hub account-ids /tmp/swa_with_accounts_with_ih_account_ids.csv ~/Downloads/swa_with_accounts_with_ih_account_ids.csv -p
```


=====================================================
Timestamp:  2025-05-22T22:23:20Z
Repository: ConsultingMD/account
PR #944: fix blocked-demographics-list-json FF declaration

Description:
This pull request introduces changes to enhance the handling of blocked demographics in account creation, refactor feature flag usage, and improve test coverage. The most significant updates include replacing string-based feature flags with JSON-based ones, adding a utility function for parsing blocked demographics, and updating the test suite to align with these changes.

### Enhancements to blocked demographics handling:
* Replaced `BlockedDemographicsList` feature flag type from `StringFeatureFlagger` to `JSONFeatureFlagger` in `protostoreRepository` and updated its usage to parse JSON directly into a slice of strings. (`app/repository/protostore_account_repository.go`, [[1]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL97-R101) [[2]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL127-R131)
* Added a new method `getBlockedDemographicsList` to encapsulate the logic for parsing the blocked demographics list from the feature flag, improving code readability and error handling. (`app/repository/protostore_account_repository.go`, [app/repository/protostore_account_repository.goR674-R683](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR674-R683))

### Refactoring feature flag usage:
* Refactored `checkAndBlockDemographics` to use the new `getBlockedDemographicsList` method, removing inline JSON parsing logic and improving error handling. (`app/repository/protostore_account_repository.go`, [app/repository/protostore_account_repository.goL680-R695](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL680-R695))
* Added telemetry logging to provide better insights into the generated demographic hashes during account creation. (`app/repository/protostore_account_repository.go`, [app/repository/protostore_account_repository.goR721-R722](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR721-R722))

### Test suite improvements:
* Updated `ProtostoreRepositoryConfig` in tests to use a `[]string` type for `BlockedDemographicsList` instead of a JSON string, aligning with the new implementation. (`app/repository/protostore_account_repository_test.go`, [app/repository/protostore_account_repository_test.goL70-R71](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L70-R71))
* Enhanced the mock feature flag implementation to populate target structs with blocked demographics data, ensuring test flexibility and accuracy. (`app/repository/protostore_account_repository_test.go`, [app/repository/protostore_account_repository_test.goL85-R100](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L85-R100))
* Modified test cases to reflect the new feature flag structure and removed tests for invalid JSON handling, as the new implementation no longer requires manual JSON parsing. (`app/repository/protostore_account_repository_test.go`, [[1]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L1382-R1397) [[2]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L1420-R1435) [[3]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L1438-R1462)


=====================================================
Timestamp:  2025-05-21T15:29:03Z
Repository: ConsultingMD/account
PR #943: [ACQ-1251] add support to block account creation based on specific demographic data

Description:
Ticket: https://includedhealth.atlassian.net/browse/ACQ-1251

This pull request introduces a new feature to block account creation based on demographic data, along with supporting utility methods, feature flags, and comprehensive tests. The most important changes include adding a demographic hash-based blocking mechanism, introducing new feature flags, implementing a utility for generating demographic hashes, and expanding test coverage.

### New Feature: Demographic-Based Account Blocking
* Added `checkAndBlockDemographics` method to `protostoreRepository` to block account creation if demographic data matches a restricted hash, controlled by a feature flag. (`app/repository/protostore_account_repository.go`, [app/repository/protostore_account_repository.goR670-R737](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR670-R737))
* Introduced a new error type `ErrAccountCreationBlockedDemographics` to signal blocked account creation attempts. (`app/repository/errors.go`, [app/repository/errors.goR42-R43](diffhunk://#diff-00604b0ead13b76933d158e4c6f97ec68aca3ed67137e0ab2c39fa772f9da4ddR42-R43))

### Feature Flags and Configuration
* Added feature flags `enable-demographic-based-account-blocking` and `blocked-demographics-list-json` for enabling the blocking mechanism and defining restricted hashes. (`app/repository/protostore_account_repository.go`, [app/repository/protostore_account_repository.goR49-R50](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR49-R50))
* Updated `protostoreRepository` to fetch these feature flags during initialization. (`app/repository/protostore_account_repository.go`, [[1]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR96-R97) [[2]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR126-R127)

### Utility Method for Demographic Hashing
* Added `GenerateDemographicHash` utility to create SHA256 hashes from normalized demographic data for comparison against the restricted list. (`app/utils/demographic_hasher.go`, [app/utils/demographic_hasher.goR1-R53](diffhunk://#diff-ae999600e052be635aa2711c139f0ff13f3ae1b09b75dc36ab625cda7c785e1aR1-R53))

### Test Coverage
* Added unit tests for `checkAndBlockDemographics` and integration tests for account creation scenarios with demographic blocking enabled or disabled. (`app/repository/protostore_account_repository_test.go`, [app/repository/protostore_account_repository_test.goR1364-R1584](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96R1364-R1584))
* Extended the test suite configuration to include new feature flags. (`app/repository/protostore_account_repository_test.go`, [[1]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96R69-R70) [[2]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96R84-R85)

### Dependency Updates
* Updated `go.mod` to include new dependencies for testing and feature flag handling. (`go.mod`, [[1]](diffhunk://#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6R81) [[2]](diffhunk://#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6R93) [[3]](diffhunk://#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6R116) [[4]](diffhunk://#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6R260) [[5]](diffhunk://#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6R289-R290)

### Feature Flags
- [enable-demographic-based-account-blocking](https://app.launchdarkly.com/projects/account-server/flags/enable-demographic-based-account-blocking?env=production&env=uat&selected-env=production)
- [blocked-demographics-list-json](https://app.launchdarkly.com/projects/account-server/flags/blocked-demographics-list-json?env=production&env=uat&selected-env=production)


=====================================================
Timestamp:  2025-05-16T21:28:35Z
Repository: ConsultingMD/support-tools
PR #251: rename column to be more accurate

Description:



=====================================================
Timestamp:  2025-05-16T19:42:47Z
Repository: ConsultingMD/mauthra-ui
PR #70: fix CD

Description:
This should fix CD.

This pull request includes updates to configuration files that enhance pre-commit hooks and streamline CI/CD processes. The most important changes involve upgrading a dependency version, adding new pre-commit hooks, and simplifying continuous deployment checks.

### Pre-commit configuration updates:
* [`.pre-commit-config.yaml`](diffhunk://#diff-63a9c44a44acf85fea213a857769990937107cf072831e1a26808cfde9d096b9L14-R22): Upgraded the `image-builder` repository dependency from `v2.2.6` to `v2.2.8` and added two new hooks: `validate-codecov` and `tng-config-validate`.

### Continuous deployment configuration updates:
* [`platform/serviceConfig.yaml`](diffhunk://#diff-b4d680b3fbd7cc568486043db42c3407e6e0abc36b326e59c20c5331d3b9128bL48-R49): Simplified the `continuousDeployment.checks` list by replacing `build_node` and `build_tng` with a single `build` check. The other commands were copied from a separate service and don't exist here, so it never executed.


=====================================================
Timestamp:  2025-05-16T17:19:21Z
Repository: ConsultingMD/web-e2e-testing
PR #48: DIH retail user registration

Description:
This pull request introduces a new end-to-end test for creating a retail user account in the `DIH Member App` and includes a minor improvement to an existing test. The new test covers the entire signup flow, from account creation to verifying homepage elements, while the existing test is updated to include a timeout for better reliability.

### New Test Addition:
* **New Test Implementation**: Added a comprehensive end-to-end test for retail user account creation in `src/apps/mx-app/tests/create-account-retail-user-dih.spec.ts`. This includes steps for navigation, signup, personal information entry, insurance selection, SSN verification, demographics questionnaire, and homepage validation. The test also integrates with TestRail for annotations and screenshots on failure.

### Existing Test Update:
* **Timeout Addition**: Updated the existing retail user account creation test in `src/apps/mx-app/tests/create-account-retail-user.spec.ts` to add a 15-second timeout for verifying the visibility of the "Welcome to Included Health" heading. This improves test stability.



https://github.com/user-attachments/assets/aa05b468-ba86-40db-8a55-736ea37a4adc


https://includedhealth.atlassian.net/browse/WEBOC-131


=====================================================
Timestamp:  2025-05-16T13:55:59Z
Repository: ConsultingMD/support-tools
PR #250: add support for phone

Description:
This pull request introduces a small enhancement to the `build_mutation_variables` method in `lib/service/ais.py`. The change adds support for including a `phone` field in the mutation variables if it is present in the `create_account_input` dictionary.

* [`lib/service/ais.py`](diffhunk://#diff-a218dbae248f86e7e3c904b8fb82bdbe9dabc106e81bff11e0b63f8f068ab4b0R191-R192): Added logic to handle the `phone` field in the `build_mutation_variables` method, ensuring it is included in the `input` dictionary when provided.


=====================================================
Timestamp:  2025-05-14T21:33:51Z
Repository: ConsultingMD/mauthra
PR #53: update docker-compose-headless.yaml, add make cmd

Description:
This pull request introduces updates to the `Makefile` and `docker-compose-headless.yaml` to add a new headless server setup and enhance the Docker configuration. The most significant changes include adding a new `run-server-headless` target, updating image references to use a `local` tag, and introducing a new `mauthra-courier` service.

### Updates to the `Makefile`:
* Added a `run-server-headless` target to start the headless server using `docker-compose-headless.yaml`.

### Enhancements to `docker-compose-headless.yaml`:
* Updated the `mauthra` service to use the `mauthra:local` image instead of the default `mauthra` image. [[1]](diffhunk://#diff-2f5d50f022ad8daf7e4e9980e93504362eae71ae0b7a051ee86484fd6c950d3fL7-R7) [[2]](diffhunk://#diff-2f5d50f022ad8daf7e4e9980e93504362eae71ae0b7a051ee86484fd6c950d3fR16-R23)
* Added a new `mauthra-courier` service with dependencies, environment variables, and a custom command for handling courier-related tasks.


=====================================================
Timestamp:  2025-05-13T06:07:14Z
Repository: ConsultingMD/enrollment
PR #337: [ACQ-1296] update findExistingAccount to use custom filters

Description:
This pull request introduces significant changes to the `enrollment` service and its dependencies, focusing on removing the `GetPersonByIvrPII` functionality and replacing it with enhanced support for `GetPersonByPII` using customizable filters. It also includes updates to feature flags, GraphQL queries, and related tests. These changes aim to simplify the codebase and improve account search functionality.

### Removal of `GetPersonByIvrPII` and Transition to `GetPersonByPII`:
* Removed the `GetPersonByIvrPII` method and associated feature flags, replacing it with `GetPersonByPII` that now supports additional filters for more flexible account searches (`app/gateway/janus/janus_gateway.go`, `app/service/enrollment/service.go`, `app/gateway/janus/query/getPersonByIvrPII.graphql`, `app/gateway/janus/query/getPersonByPII.graphql`, [[1]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eL426-R419) [[2]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eL516-L594) [[3]](diffhunk://#diff-4b15ed691a07b5cdda44e5cea24eeaa1a9438fa9c31695d5b638b499f421fccaL1-R5) [[4]](diffhunk://#diff-1d66e3a0474d21e5514752c284afbe7a6e5d9a2a4d84ec21ce87d2aab2e42947L1-L9) [[5]](diffhunk://#diff-5d991922749c9f691e4f542209496c02d5e849a73eb548540385a91b95fb139eL265-L279).

* Added a new helper function `getPatientDescriptionFilters` to generate a list of filters for `GetPersonByPII`, improving search accuracy (`app/service/enrollment/service.go`, [app/service/enrollment/service.goR570-R620](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eR570-R620)).

### Feature Flag and Configuration Updates:
* Replaced `EnableGetPersonByIvrPII` and `LogResultsGetPersonByIvrPII` feature flags with `EnableGetPersonByPIIFilters` to control the use of filters in `GetPersonByPII` queries (`app/featureflags/featureflags.go`, `app/service/enrollment/service.go`, [[1]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eL79-R80) [[2]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eL101-R101).

### Refactoring and Cleanup:
* Removed redundant methods and logic related to `GetPersonByIvrPII`, simplifying the codebase and reducing technical debt (`app/service/enrollment/service.go`, [[1]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eL426-R419) [[2]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eL516-L594).

* Updated switch-case handling in enrollment methods to improve readability and maintainability (`app/service/enrollment/service.go`, [[1]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eL160-R177) [[2]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eL258-R278).

### GraphQL Query Updates:
* Modified the `GetPersonByPII` GraphQL query to accept a new `filters` parameter, aligning with the updated functionality (`app/gateway/janus/query/getPersonByPII.graphql`, [app/gateway/janus/query/getPersonByPII.graphqlL1-R5](diffhunk://#diff-4b15ed691a07b5cdda44e5cea24eeaa1a9438fa9c31695d5b638b499f421fccaL1-R5)).

### Test Updates:
* Updated tests to reflect the removal of `GetPersonByIvrPII` and the addition of filters in `GetPersonByPII` calls (`app/service/enrollment/service_test.go`, [[1]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL26-R26) [[2]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL81-R77) [[3]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL129-R125).

These changes collectively enhance the flexibility and maintainability of the `enrollment` service while removing outdated functionality and improving account search capabilities.

FF: [enable-get-person-by-pii-filters](https://app.launchdarkly.com/projects/enrollment-server/flags/enable-get-person-by-pii-filters?env=production&env=test&selected-env=test)

[ACQ-1296](https://includedhealth.atlassian.net/browse/ACQ-1296)

[ACQ-1296]: https://includedhealth.atlassian.net/browse/ACQ-1296?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-05-12T17:53:05Z
Repository: ConsultingMD/mauthra-ui
PR #61: [IAM-441] [Acquire] - Implement DIH branding in relevant screens

Description:
This pull request introduces a significant enhancement to the application's handling of the `isDih` state, which determines whether the app is in "Doctor on Demand" mode. The changes focus on improving state management, ensuring consistency across server-side rendering (SSR) and client-side rendering (CSR), and integrating the `isDih` state into various components. The most important changes are grouped into state management, component updates, and utility improvements.

### State Management Enhancements:
* Added a new `AppContext` in `src/shared/contexts/AppContext.tsx` to provide a centralized context for managing the `isDih` state across the application. The context includes methods to initialize, update, and persist the state using URL parameters and `localStorage`.
* Updated `pages/_app.tsx` to wrap the application in the `AppProvider` context and added logic to handle SSR and CSR scenarios for determining the `isDih` state.

### Component Updates:
* Modified `Navbar` in `src/shared/components/navbar.tsx` to dynamically select the appropriate logo based on the `isDih` state, with fallback mechanisms to handle missing context or URL parameters. [[1]](diffhunk://#diff-959399c769cbb04bcd8fdc3c84bb1ca61ba03a0ac6c0e0d7b58c34ba7accb11fL1-L7) [[2]](diffhunk://#diff-959399c769cbb04bcd8fdc3c84bb1ca61ba03a0ac6c0e0d7b58c34ba7accb11fL17-R63) [[3]](diffhunk://#diff-959399c769cbb04bcd8fdc3c84bb1ca61ba03a0ac6c0e0d7b58c34ba7accb11fL29-R73)
* Updated `pages/login.tsx` to use the `useAppContext` hook for accessing and updating the `isDih` state, ensuring consistency between URL parameters and context. [[1]](diffhunk://#diff-efe206089575e5aa92a4bacded0c0c25b4ef6b11199e0d8620eecd1d65b66f50R22) [[2]](diffhunk://#diff-efe206089575e5aa92a4bacded0c0c25b4ef6b11199e0d8620eecd1d65b66f50R35-R64)

### Utility Improvements:
* Enhanced `getAmplitudeEventProperties` in `src/lib/services/ampli/utils.ts` to accept an optional `contextOrAppParamIsDih` parameter, allowing it to prioritize context or URL parameters when determining the `isDih` state.
* Updated `useFlow` in `src/shared/hooks/useFlow.ts` to preserve the `app` parameter during flow creation, ensuring that the `isDih` state is consistently propagated during navigation.

[IAM-441](https://includedhealth.atlassian.net/browse/IAM-441)

[IAM-441]: https://includedhealth.atlassian.net/browse/IAM-441?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-05-07T14:40:17Z
Repository: ConsultingMD/mx-app
PR #7588: [ACQ-1277] [web] Remove authzilla FF

Description:

[ACQ-1277](https://includedhealth.atlassian.net/browse/ACQ-1277)

[ACQ-1277]: https://includedhealth.atlassian.net/browse/ACQ-1277?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-05-07T13:29:17Z
Repository: ConsultingMD/mx-app
PR #7586: Revert "[ACQ-1277] [web] Remove authzilla FF"

Description:
Reverts ConsultingMD/mx-app#7572

Deploys started failing after this was merged.


=====================================================
Timestamp:  2025-05-06T20:56:59Z
Repository: ConsultingMD/mx-app
PR #7572: [ACQ-1277] [web] Remove authzilla FF

Description:
Per Slack thread: https://ih-epdd.slack.com/archives/C07UYHBAJ7M/p1746464456102269

This pull request simplifies the authentication logic in the `MxApp` component by removing the `AuthzillaVsAuth0Wrapper` and replacing it with a direct implementation using the `Auth0Provider`. Additionally, it removes unused imports and feature flags related to the deprecated `Authzilla` functionality.

### Authentication Refactor:
* Removed the `AuthzillaVsAuth0Wrapper` component and replaced it with a direct implementation of `Auth0Provider` in the `MxApp` component. This change simplifies the code and removes reliance on the `LaunchDarkly` feature flag for determining the authentication tenant. (`[[1]](diffhunk://#diff-a9827ce1be32c607c948881a89b99c592f752898f9c49e0dea0b7199eb151029L68-L138)`, `[[2]](diffhunk://#diff-a9827ce1be32c607c948881a89b99c592f752898f9c49e0dea0b7199eb151029R138-R148)`, `[[3]](diffhunk://#diff-a9827ce1be32c607c948881a89b99c592f752898f9c49e0dea0b7199eb151029L225-L230)`, `[[4]](diffhunk://#diff-a9827ce1be32c607c948881a89b99c592f752898f9c49e0dea0b7199eb151029L253-R201)`)

### Cleanup of Unused Code:
* Removed the `useAuthzillaTenant` feature flag from the `FeatureFlag` enum in `components/shared/featureFlags.ts`. (`[components/shared/featureFlags.tsL209](diffhunk://#diff-6f9cb4961c7a6c42a700e4e50323bbfb7dba6ceb11ee2f0ae7087467a6053fe6L209)`)
* Deleted unused imports, including `useLDClient`, `FeatureFlag`, and `urlMap`, from `pages/_app.tsx`. (`[[1]](diffhunk://#diff-a9827ce1be32c607c948881a89b99c592f752898f9c49e0dea0b7199eb151029L11)`, `[[2]](diffhunk://#diff-a9827ce1be32c607c948881a89b99c592f752898f9c49e0dea0b7199eb151029L38)`, `[[3]](diffhunk://#diff-a9827ce1be32c607c948881a89b99c592f752898f9c49e0dea0b7199eb151029L48)`)
* Removed the `isDomainGrandrounds` state and its associated logic from `MxApp`, as it is no longer needed after the refactor. (`[pages/_app.tsxL151](diffhunk://#diff-a9827ce1be32c607c948881a89b99c592f752898f9c49e0dea0b7199eb151029L151)`)
[ACQ-1277](https://includedhealth.atlassian.net/browse/ACQ-1277)

[ACQ-1277]: https://includedhealth.atlassian.net/browse/ACQ-1277?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-05-05T15:14:05Z
Repository: ConsultingMD/mauthra-ui
PR #45: [IAM-420] add amplitude library to mauthra-ui

Description:
This pull request introduces Amplitude analytics integration into the application, upgrades dependencies, and makes several related changes to support the new functionality. The most important changes include adding Amplitude initialization and event tracking, updating environment variable configurations, and upgrading Node.js and dependencies.

### Amplitude Integration:

* Added Amplitude initialization logic in `src/lib/services/ampli/ampliInitialize.ts` to set up the SDK with environment-specific configurations and default tracking settings.
* Introduced Amplitude event tracking in the `pages/login.tsx` file, including tracking login screen views and universal login events. [[1]](diffhunk://#diff-efe206089575e5aa92a4bacded0c0c25b4ef6b11199e0d8620eecd1d65b66f50R31-R58) [[2]](diffhunk://#diff-efe206089575e5aa92a4bacded0c0c25b4ef6b11199e0d8620eecd1d65b66f50R92-R98)
* Added a new `Environment` enum in `src/lib/environment.ts` to manage environment-specific configurations.
* Updated `_app.tsx` to initialize Amplitude when the app starts.

### Environment Variable Updates:

* Added `NEXT_PUBLIC_AMPLITUDE_KEY` to `.env.development` and updated its usage in `docker/Dockerfile` and `docker-entrypoint.sh`. [[1]](diffhunk://#diff-da4c41d59c967338247b2f0ea6d845ab05171f942fd9521b96d3304202185db9R22) [[2]](diffhunk://#diff-f34da55ca08f1a30591d8b0b3e885bcc678537b2a9a4aadea4f190806b374ddcL29-R29) [[3]](diffhunk://#diff-79738685a656fe6b25061bb14181442210b599f746faeaba408a2401de45038aL11-R11)
* Defined the `amplitude-key` parameter in `platform/parameters.yaml` for environment configuration.

### Dependency Upgrades:

* Upgraded Node.js from version `20.8.1` to `22.14.0` in `.tool-versions`.
* Added new dependencies in `package.json` for Amplitude (`@amplitude/analytics-browser`) and testing tools (`vitest`, `@testing-library/react`, etc.). [[1]](diffhunk://#diff-7ae45ad102eab3b6d7e7896acd08c427a9b25b346470d7bc6507b6481575d519L10-R18) [[2]](diffhunk://#diff-7ae45ad102eab3b6d7e7896acd08c427a9b25b346470d7bc6507b6481575d519R35-R49)

### Miscellaneous:

* Added a new `ampli.json` configuration file for Amplitude.
* Exported the Ampli instance in `src/lib/services/ampli/index.ts` for use across the app.

These changes collectively enable Amplitude analytics integration, improve environment configuration, and enhance the development environment with updated tools and dependencies.

Ticket: https://includedhealth.atlassian.net/browse/IAM-420

### Events fired on the login screen:
<img width="778" alt="image" src="https://github.com/user-attachments/assets/392e2f5c-f3c0-4bd6-8583-1783e67dadaa" />

Amplitude Chrome Extension: https://chromewebstore.google.com/detail/amplitude-event-explorer/acehfjhnmhbmgkedjmjlobpgdicnhkbp?hl=en-US

You'll unfortunately need to file a helpdesk ticket to be able to install the extension ._.

Current Auth0 login page: https://github.com/ConsultingMD/ih-auth0/blob/a897dd9c2eafafff3991e271e721bb3b6033716c/src/pages/login.html#L1343C30-L1343C50



=====================================================
Timestamp:  2025-05-02T14:55:41Z
Repository: ConsultingMD/mauthra-ui
PR #41: also notify in #engage-deploys when a new deploy happens

Description:
- update notifications config to also announce in #engage-deploys


=====================================================
Timestamp:  2025-05-01T19:39:18Z
Repository: ConsultingMD/coverage
PR #2093: tng codegen + make + update README with go work use steps

Description:
<img width="470" alt="image" src="https://github.com/user-attachments/assets/5816483c-74c2-413d-ab2f-87558e2de019" />

Needed to do this in order to get my local coverage building again


=====================================================
Timestamp:  2025-04-30T15:59:42Z
Repository: ConsultingMD/jarvis
PR #17978: Revert "[NAVI-7977] Remove old Jarvis Communities intake frontend"

Description:
Reverts ConsultingMD/jarvis#17962

queuing up this in case we need it


=====================================================
Timestamp:  2025-04-17T04:00:30Z
Repository: ConsultingMD/account
PR #936: [ACQ-1217] [Acquire] - Create separate FF for ChangeEmail 

Description:
This pull request refactors the `protostore_account_repository` to improve clarity and extend functionality for identity synchronization. The key changes include renaming a helper function for better readability, introducing a new feature flag for email change synchronization, and updating test cases to align with the new naming and functionality.

### Refactoring and Feature Enhancements:

* Renamed the helper function `syncToAuthzilla` to `shouldCallAuthzilla` for better clarity and updated its parameters to accept specific identity synchronization flags. [[1]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL296-R304) [[2]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL308-R323)
* Added a new feature flag `identitySyncEmailChange` to support synchronization of email changes to Authzilla. This flag is now used in relevant methods such as `mergeAccounts`. [[1]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR46) [[2]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL89-R91) [[3]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR520-R529)

### Updates to Repository Logic:

* Replaced the `syncToAuthzilla` flag with `identitySyncLinking` and `identitySyncEmailChange` in the `protostoreRepository` struct and all associated logic. [[1]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL116-R119) [[2]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL254-R262) [[3]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL344-R352) [[4]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL698-R712)

### Logging Improvements:

* Added detailed logging to the `mergeAccounts` method to provide better traceability for actions like linking autogenerated accounts and updating emails in Authzilla. [[1]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR507-R508) [[2]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR520-R529)

### Test Suite Updates:

* Updated the test suite to reflect the renaming of `syncToAuthzilla` to `identitySyncLinking` and added support for testing `identitySyncEmailChange`. [[1]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L65-R66) [[2]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L75-R79)
* Adjusted all test cases to use the new feature flags and ensure proper coverage of the updated synchronization logic. [[1]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L126-R130) [[2]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L198-R202) [[3]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L929-R935) [[4]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L1099-R1105)

https://includedhealth.atlassian.net/browse/ACQ-1217
FF: [identitysync-email-change](https://app.launchdarkly.com/projects/account-server/flags/identitysync-email-change?env=uat&env=production&selected-env=production)


=====================================================
Timestamp:  2025-04-15T16:00:16Z
Repository: ConsultingMD/account
PR #935: add postgresql-client to ais pods to help debugging

Description:
removes a manual step of having to install the psql client to connect to the db when investigating issues

previous runbooks that said to do
```
sudo apt update && sudo apt install postgresql-client && psql "$POSTGRES_DATABASE_URL"
```
can now just do
```
psql "$POSTGRES_DATABASE_URL"
```


=====================================================
Timestamp:  2025-04-10T22:21:31Z
Repository: ConsultingMD/enrollment
PR #331: update if condition

Description:



=====================================================
Timestamp:  2025-04-10T19:17:51Z
Repository: ConsultingMD/enrollment
PR #330: fix npe: use the right var

Description:



=====================================================
Timestamp:  2025-04-09T23:06:32Z
Repository: ConsultingMD/enrollment
PR #329: fix npe

Description:



=====================================================
Timestamp:  2025-04-09T03:38:35Z
Repository: ConsultingMD/enrollment
PR #328: [ACQ-1191] use GetPersonByIvrPII to find an existing account

Description:
This pull request introduces a new feature flag and updates the account creation process to use different methods based on the flag's state. The most significant changes include adding a new feature flag, updating the account finding logic, and modifying tests to accommodate the new flag.

### Feature Flag Additions:
* Added `LogResultsGetPersonByIvrPII` feature flag to `FeatureFlags` struct and initialized it in the `NewFeatureFlags` function.

### Account Finding Logic Updates:
* Updated the `CreateOrClaimAccount` method to use the new feature flag to determine which account finding method to use.
* Added a new method `findExistingAccountIvr` to find accounts using the `GetPersonByIvrPII` query.

### Test Modifications:
* Updated various test functions to include the new `LogResultsGetPersonByIvrPII` feature flag. [[1]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL26-R28) [[2]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL57-R61) [[3]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL125-R131) [[4]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL189-R197) [[5]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL269-R279) [[6]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL350-R362) [[7]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL421-R435) [[8]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL503-R519) [[9]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL579-R597) [[10]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL647-R667) [[11]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL714-R736) [[12]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL786-R810) [[13]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL835-R861) [[14]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL882-R910) [[15]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL925-R955) [[16]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL975-R1007) [[17]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL1019-R1053)

These changes enhance the flexibility and control over the account finding process, allowing for better logging and debugging based on the new feature flag.

### Notes:

FF: [log-results-get-person-by-ivr-pii](https://app.launchdarkly.com/projects/enrollment-server/flags/log-results-get-person-by-ivr-pii?env=production&env=test&selected-env=test)
Ticket: https://includedhealth.atlassian.net/browse/ACQ-1191


=====================================================
Timestamp:  2025-04-08T06:26:22Z
Repository: ConsultingMD/enrollment
PR #327: attempt to fix duplicate account creation issue: call GetPersonByIvrPII as well to compare with GetPersonByPII 

Description:
This pull request introduces feature flagging to the enrollment service, specifically adding functionality to handle person searches via IVR PII. Key changes include the addition of a new feature flag, updates to the gateway interface, and modifications to the enrollment service and its tests to incorporate the new feature flag.

### Feature Flagging:

* [`app/featureflags/featureflags.go`](diffhunk://#diff-656178b86b56c5cea2bed4e5fd94bb23a9c1a7b40ad5fef9d99366c30a042e57R1-R26): Added a new module for feature flags, including a `FeatureFlags` struct and a `NewFeatureFlags` function to fetch the `enable-get-person-by-ivr-pii` flag.
* [`app/service/enrollment/service.go`](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eR73-R79): Updated the service to include the new feature flag in its parameters and initialization. The `findExistingAccount` method was modified to conditionally call `GetPersonByIvrPII` based on the feature flag. [[1]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eR73-R79) [[2]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eR100) [[3]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eL387-R393) [[4]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eL405-R442)

### Gateway Interface:

* [`app/gateway/janus/janus_gateway.go`](diffhunk://#diff-5d991922749c9f691e4f542209496c02d5e849a73eb548540385a91b95fb139eR69-R72): Added a new method `GetPersonByIvrPII` to the `Gateway` interface and its implementation. [[1]](diffhunk://#diff-5d991922749c9f691e4f542209496c02d5e849a73eb548540385a91b95fb139eR69-R72) [[2]](diffhunk://#diff-5d991922749c9f691e4f542209496c02d5e849a73eb548540385a91b95fb139eR265-R279)

### GraphQL Query:

* [`app/gateway/janus/query/getPersonByIvrPII.graphql`](diffhunk://#diff-1d66e3a0474d21e5514752c284afbe7a6e5d9a2a4d84ec21ce87d2aab2e42947R1-R9): Added a new GraphQL query `GetPersonByIvrPII` to retrieve person details using IVR PII.

### Dependency Injection:

* [`app/host/host.go`](diffhunk://#diff-802079e0ea18b13129b9c4749a2b272644bbc1c1e671438a5f5f2751eefa2404R4): Included the new feature flags module in the host initialization. [[1]](diffhunk://#diff-802079e0ea18b13129b9c4749a2b272644bbc1c1e671438a5f5f2751eefa2404R4) [[2]](diffhunk://#diff-802079e0ea18b13129b9c4749a2b272644bbc1c1e671438a5f5f2751eefa2404R24)
* [`app/service/enrollment/service.go`](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eR13-R20): Added `featureflags` and `featureflag` imports to support the new feature flagging.

### Tests:

* [`app/service/enrollment/service_test.go`](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afR12-R28): Updated tests to include the new feature flag in the service initialization parameters, ensuring that the new functionality is properly tested. [[1]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afR12-R28) [[2]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL49-R59) [[3]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL113-R127) [[4]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL173-R191) [[5]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL249-R271) [[6]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL326-R352) [[7]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL393-R423) [[8]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL471-R505) [[9]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL543-R581) [[10]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL607-R649) [[11]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL670-R716) [[12]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL738-R788) [[13]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL783-R837) [[14]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL826-R884) [[15]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL865-R927)


### Notes:

- FF: [enable-get-person-by-ivr-pii](https://app.launchdarkly.com/projects/enrollment-server/flags/enable-get-person-by-ivr-pii?env=production&env=test&selected-env=test)
- sdk key already added to uat/prod tng params


=====================================================
Timestamp:  2025-04-07T20:18:37Z
Repository: ConsultingMD/account
PR #931: [ACQ-1021] fix backfill script to account for the id casing

Description:
Spent quite a bit to root cause this  

This pull request includes updating the email prefix to be case-insensitive.

### Migration Improvements:
* [`internal/cli/store/migrate.go`](diffhunk://#diff-3f0f82526f082393d843e145b19a655dbe7a93e747206b9164a85d46780771dcL229-R229): Updated the email prefix to use `strings.ToLower` to ensure case-insensitivity.

### Test Adjustments:
* [`internal/cli/store/migrate_test.go`](diffhunk://#diff-6e352a4ee94d4cb84620d64f216a7828cbd45d85fa0b43fac2e91d28210d8c4eL475-R475): Modified the test `TestMigrationBackfillDeprecatedEmail` to use a capitalized `Account-id` format and ensure the email value uses `strings.ToLower` for consistency. [[1]](diffhunk://#diff-6e352a4ee94d4cb84620d64f216a7828cbd45d85fa0b43fac2e91d28210d8c4eL475-R475) [[2]](diffhunk://#diff-6e352a4ee94d4cb84620d64f216a7828cbd45d85fa0b43fac2e91d28210d8c4eL508-R513)

### Dependency Updates:
* [`.github/dependabot.yml`](diffhunk://#diff-dd4fbda47e51f1e35defb9275a9cd9c212ecde0b870cba89ddaaae65c5f3cd28R77): Added `github.com/jellydator/ttlcache/v3` to the list of dependencies.


=====================================================
Timestamp:  2025-04-04T15:23:24Z
Repository: ConsultingMD/account
PR #929: Task/acq 1021/do not email deprecating accounts

Description:
This pull request includes changes to the `protostore_account_repository.go` file to improve the handling of account status updates and merging accounts. The most important changes include fixing a variable name and ensuring deprecated email addresses are cleared when accounts are reactivated.

Improvements to account status updates:

* [`app/repository/protostore_account_repository.go`](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL393-R393): Corrected the variable name from `existing.Status` to `existingStatus` in the `updateStatus` function to ensure proper comparison when reactivating a deprecated account.

Enhancements to account merging:

* [`app/repository/protostore_account_repository.go`](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL454-R457): Added logic in the `mergeAccounts` function to clear the `DeprecatedEmail` field when an account is reactivated, ensuring that the deprecated email is not retained.


=====================================================
Timestamp:  2025-04-02T22:53:52Z
Repository: ConsultingMD/account
PR #926: [ACQ-1021] incorporate deprecated_email field when deprecating/undeprecating an account

Description:
This pull request introduces several changes to handle deprecated email addresses for accounts. The most important changes include adding a new `DeprecatedEmail` field to various account-related structures, updating methods to manage this field, and modifying tests to ensure proper handling of deprecated and undeprecated accounts.

### Changes to account models and methods:

* Added `DeprecatedEmail` field to `IHAccount` and updated the `GetDeprecatedEmail` method to return this field. (`app/model/account.go`) [[1]](diffhunk://#diff-4be3a34a580872b3e9b05e93b89ce968d633ff31feac0c47289a77335c78f6b4R176) [[2]](diffhunk://#diff-4be3a34a580872b3e9b05e93b89ce968d633ff31feac0c47289a77335c78f6b4R243-R249)
* Added `GetDeprecatedEmail` method to the `CommonAccount` interface. (`app/gateway/hub/model.go`, `app/model/legacymodel/account.go`) [[1]](diffhunk://#diff-6b84f4666ace8adc96c2f5230b7760be30fa714b0c6a3c21133ed2f2356f3132R214-R217) [[2]](diffhunk://#diff-90889d1177b2b0c4f8d0d8aa006cf0df7a0c34774e34b37938b8a9c9e0185c53R74-R76)
* Updated `MapAccountToGraphQL` to include `DeprecatedEmail`. (`app/handler/graph/mapping/account.go`)
* Updated `Account` GraphQL schema to include `deprecatedEmail` field. (`app/handler/graph/schema.graphqls`)

### Changes to account mapping functions:

* Updated `MapServiceToDomainAccountModel` and `MapDomainToServiceAccountModel` to handle `DeprecatedEmail`. (`app/model/mapping/account.go`) [[1]](diffhunk://#diff-e42e609fd0df66b799c268bd8e017c9a6689f9f7476bce8e8e3a05b409bd989cR500) [[2]](diffhunk://#diff-e42e609fd0df66b799c268bd8e017c9a6689f9f7476bce8e8e3a05b409bd989cR525)

### Changes to account repository:

* Added `DeprecationSuffix` constant and updated `updateStatus` method to handle email deprecation and restoration. (`app/repository/protostore_account_repository.go`) [[1]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR50) [[2]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR367-R383)

### Changes to tests:

* Added expectations for `DeprecatedEmail` in various test cases to ensure proper handling of deprecated and undeprecated accounts. (`app/repository/protostore_account_repository_test.go`) [[1]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L673-R678) [[2]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96R698-R750) [[3]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96R764) [[4]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96R793-R795) [[5]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96R829-R831) [[6]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96R858-R860) [[7]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96R888-R890) [[8]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L917-R936)

### Other changes:

* Ignored generated `module.go` file in `codecov.yml` and added it to `codegen.yaml`. (`codecov.yml`, `codegen.yaml`) [[1]](diffhunk://#diff-3e878d9bdc47f29a0ab909a7db939acf08d2d2f1aaba81e6f897b32361fa40dbR58) [[2]](diffhunk://#diff-5601d0fbc2c8f9cefb37fd696fadfd05e27e4b7fd531bac1640aa4da7cb0b4b9R173)
* Updated `proto-common` dependency version in `go.mod`. (`go.mod`)

https://includedhealth.atlassian.net/browse/ACQ-1021


=====================================================
Timestamp:  2025-04-01T21:00:15Z
Repository: ConsultingMD/proto-common
PR #1555: make deprecated_email field optional, nothing is using this currently

Description:
f/u from https://github.com/ConsultingMD/proto-common/pull/1553
- making the field optional, safe to merge since nothing is yet utilizing this field


=====================================================
Timestamp:  2025-04-01T19:58:44Z
Repository: ConsultingMD/proto-common
PR #1553: add deprecated_email field to account, on the service layer

Description:
This pull request includes updates to the account deprecation process by adding a new field to preserve the original email address when an account is deprecated. This ensures that the original email can be restored if needed.

Key changes include:

### Documentation Updates:
* Added `deprecated_email` field to the protocol documentation to explain its purpose and usage.

### Code Updates:
* Updated `Account` struct in `go/pkg/service/accounts/accounts/v2/account.pb.go` to include `DeprecatedEmail` field and its getter method. [[1]](diffhunk://#diff-279003b8d3283befa59b24af26318f7d7d4a8a273fad113ebaa0d97ce5d28273R100-R103) [[2]](diffhunk://#diff-279003b8d3283befa59b24af26318f7d7d4a8a273fad113ebaa0d97ce5d28273R306-R312)
* Modified the `account.proto` file to define the `deprecated_email` field with appropriate annotations.

### Protobuf Descriptor Changes:
* Updated raw descriptor data in `account.pb.go` to include the new `deprecated_email` field. [[1]](diffhunk://#diff-279003b8d3283befa59b24af26318f7d7d4a8a273fad113ebaa0d97ce5d28273L540-R551) [[2]](diffhunk://#diff-279003b8d3283befa59b24af26318f7d7d4a8a273fad113ebaa0d97ce5d28273L678-R760)

follow up from https://github.com/ConsultingMD/proto-common/pull/1550


=====================================================
Timestamp:  2025-04-01T17:38:12Z
Repository: ConsultingMD/proto-common
PR #1550: [ACQ-1021] do not include previous email value when deprecating accounts

Description:
This pull request introduces a new field to preserve the original email address when an account is deprecated. The changes span multiple files to ensure the new field is properly integrated into the system.

Key changes include:

### Documentation Update:
* Added `deprecated_email` field description to `docs/protocol-documentation.md` to document the purpose and usage of the new field.

### Protobuf Definition Update:
* Added `deprecated_email` field to the `Account` message in `domain/accounts/accounts/v2/account.proto` to include the new field in the account schema.

### Go Code Update:
* Updated `go/pkg/domain/accounts/accounts/v2/account.pb.go`:
  * Added `DeprecatedEmail` field to the `Account` struct to store the deprecated email address.
  * Implemented `GetDeprecatedEmail` method to retrieve the deprecated email address.
  * Updated raw descriptor to include the new field in the protobuf schema. [[1]](diffhunk://#diff-019dbbf6bb25c8fee90b6f453ee8645d482bb291f9ab610bb9e259186044099aL486-R497) [[2]](diffhunk://#diff-019dbbf6bb25c8fee90b6f453ee8645d482bb291f9ab610bb9e259186044099aL560-R617)

[ACQ-1021](https://includedhealth.atlassian.net/browse/ACQ-1021)

[ACQ-1021]: https://includedhealth.atlassian.net/browse/ACQ-1021?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-03-28T22:36:31Z
Repository: ConsultingMD/account
PR #921: don't call LinkAccountID if login_idendity_id is empty + misc refactors 

Description:
This pull request includes several updates to the `app/gateway/identitysync/gateway.go` and `app/repository/protostore_account_repository.go` files to improve error handling, simplify the code, and ensure proper logging. The most important changes include adding logging for missing login identity IDs, simplifying error handling, and reorganizing code for better readability.

### Improvements to error handling and logging:

* [`app/gateway/identitysync/gateway.go`](diffhunk://#diff-45471fffe746cbab8e3148fccf947b97513e2560de2a3b75a9a8af3a65eeed43R88-R92): Added logging to handle cases where the login identity ID is missing in the `LinkAccountID` function.

### Code simplification and readability improvements:

* [`app/repository/protostore_account_repository.go`](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL256-R256): Simplified error handling in the `DeprecateAccountMergeFunc` and `upsertAccountMergeFunc` functions by using inline error checks. [[1]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL256-R256) [[2]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL290-R293)
* [`app/repository/protostore_account_repository.go`](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL432-R438): Reorganized the `mergeAccounts` function to improve readability and ensure proper logging when updating emails in AuthZilla.
* [`app/repository/protostore_account_repository.go`](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL597-R576): Removed redundant comments and streamlined the `createAccountFromLegacyAccount` function to ensure proper validation and merging of accounts. [[1]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL597-R576) [[2]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL621-L663)


=====================================================
Timestamp:  2025-03-20T15:27:13Z
Repository: ConsultingMD/careflow
PR #954: Update observability.yaml to use engage oncall alerts slack channel

Description:



=====================================================
Timestamp:  2025-03-19T15:23:57Z
Repository: ConsultingMD/account
PR #911: [ACQ-807] GetAccountByEmail RPC Endpoint

Description:
remove logic that had the bug, tests never caught this because they were for the internal method and not on the rpc handler


=====================================================
Timestamp:  2025-03-19T13:55:48Z
Repository: ConsultingMD/mx-app
PR #7268: update serviceConfig.yaml so mx-app deploys show in #engage-deploys

Description:



=====================================================
Timestamp:  2025-03-14T17:57:45Z
Repository: ConsultingMD/jarvis
PR #17950: AIS service user should use the generic service role

Description:
Request a code review in the #jarvis-code-reviews channel.

## Merge Reason

PRs may only be merged in Jarvis for one of the following reasons (please select):

- [x] Critical Bug Fix
- [ ] Dependabot Security Alert Fix
- [ ] Critical Customer Config Change For Impending Launch
- [x] Deletes Code Or Works Toward Jarvis Decomp
- [ ] Production Tuning

Anything that does not fit this criteria will need Director approval.

## Jarvis exit plan

<!-- What is the concrete plan and timeline to get the functionality out of Jarvis? -->

## JIRA ticket

https://includedhealth.atlassian.net/browse/ACQ-1085

## What does this PR do?

This fixes an auth issue we ran into in production when switching to the new M2M client in AIS. Relevant thread: https://ih-epdd.slack.com/archives/C03RB410D7E/p1741970867964319

## Relevant context.

TLDR: we should not be relying on checking the specific client id and use the generic service role for everything.

## Screenshots / videos

<!-- Add if relevant (note can be very helpful for reviewers) otherwise remove -->

## Pull Request Guidelines and Best Practices

<i>Nit pick:</i> These should be comments that are marked as "NIT" and should not block merging because they do not break functionality but are nice to have.
<i>Blocking changes:</i> These should be comments that are marked as "Blocking" and may not break functionality but they may break established patterns or coding norms or architectural patterns.

[See more here](https://includedhealth.atlassian.net/l/cp/xTwAj4qm)



=====================================================
Timestamp:  2025-03-14T14:03:44Z
Repository: ConsultingMD/realtime-eligibility
PR #469: update stedi dashboard

Description:
Updating from latest round of edits of https://grafana.includedhealth.com/d/bdr9js3olx2ioc/rte-status-stedi?orgId=1&refresh=30s&from=now-2d&to=now&var-trading_partner_id=All


=====================================================
Timestamp:  2025-03-12T15:06:16Z
Repository: ConsultingMD/athena-bridge
PR #1262: [ACQ-1077] [athena-bridge] [INC-730] account enrollment event handler: prevent athena patient creation for unclaimed autogenerated accounts

Description:
[https://ih-epdd.slack.com/archives/C08GM5CGM1S/p1741725808822799?thread_ts=1741702020.108129 and cid=C08GM5CGM1S|https://ih-epdd.slack.com/archives/C08GM5CGM1S/p1741725808822799?thread_ts=1741702020.108129 and cid=C08GM5CGM1S]

Mitigation for [INC-730](https://includedhealth.atlassian.net/browse/INC-730)

This pull request introduces several significant changes to the account enrollment handling and related functionality. The main updates include adding a feature flag to disable patient creation for auto-generated accounts, enhancing the account enrollment handler to respect this flag, and updating the corresponding tests to cover new scenarios.

### Enhancements to Account Enrollment Handling:

* **Feature Flag Implementation**:
  * Added a new feature flag `DisablePatientCreationForAutoGeneratedAccountEnrollmentEvent` to control whether patient creation should be disabled for auto-generated accounts (`app/model/feature_flags.go`, `app/model/module.go`). [[1]](diffhunk://#diff-f8226ebe6611e912f914bfb12ced8a3e93bc2db1a1b3b20540496b5240195449R110-R118) [[2]](diffhunk://#diff-cb8ef8fae6e81e8d5d2e419e11f30bd75d064187ce80592c4df077889bd5ec0cR24)

* **Account Enrollment Handler Updates**:
  * Introduced a new method `shouldIgnore` to determine if an account enrollment event should be ignored based on the account's email, mitigating duplicate account issues (`app/handler/event/account_enrollment.go`).
  * Updated the `Handle` method to use this new logic and added the feature flag check (`app/handler/event/account_enrollment.go`).

* **Service Enhancements**:
  * Added a `GetAccount` method to the enrollment service to retrieve account details (`app/service/enrollment/service.go`).
  * Updated the service initialization to include the account gateway (`app/service/enrollment/service.go`). [[1]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eR32-R53) [[2]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eR9-R13)

### Test Coverage Improvements:

* **New Test Cases**:
  * Added test cases to cover scenarios where the account is auto-generated and should be ignored during enrollment processing (`app/handler/event/account_enrollment_test.go`). [[1]](diffhunk://#diff-090f1e7e1a6bdfa0b65ec7df9ba2dc8991bba971866e80570e3936c779415d9cR38-R88) [[2]](diffhunk://#diff-090f1e7e1a6bdfa0b65ec7df9ba2dc8991bba971866e80570e3936c779415d9cR97-R120)

### Miscellaneous Fixes and Improvements:

* **Typo Fix**:
  * Corrected a typo in the log message from "skippng" to "skipping" (`app/handler/event/account_change.go`).

* **Imports and Package Updates**:
  * Organized imports and added missing dependencies in various files (`app/handler/event/account_enrollment.go`, `app/service/enrollment/module.go`, `app/service/enrollment/service.go`). [[1]](diffhunk://#diff-a828da04c2b2d197c9085d332f8abe823431532c3bdd71112648ff0ce26bb216R5-R22) [[2]](diffhunk://#diff-62077ad32d1bc6666be3b62c9a04333e2d55836f3ea2b21a7af47f66390f415cL3-R5) [[3]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eR9-R13)
  * Added a placeholder package for mocks in the diagnostics service (`app/service/diagnostics/mocks/package.go`).

These changes collectively improve the robustness of the account enrollment process by addressing potential issues with auto-generated accounts and enhancing the test coverage to ensure reliability.

FF: [disable-athena-patient-creation-for-unclaimed-autogenerated-accounts](https://app.launchdarkly.com/projects/athena-bridge/flags/disable-athena-patient-creation-for-unclaimed-autogenerated-accounts?env=uat&env=production&selected-env=production)

[ACQ-1077](https://includedhealth.atlassian.net/browse/ACQ-1077)

[ACQ-1077]: https://includedhealth.atlassian.net/browse/ACQ-1077?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ

[INC-730]: https://includedhealth.atlassian.net/browse/INC-730?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-03-11T22:03:40Z
Repository: ConsultingMD/mx-ui-workflows
PR #803: NPE fix: check if values are nil before setting them in RetryVerificationFieldsScreen

Description:
fixes the following NPE https://app.rollbar.com/a/Grandrounds/fix/item/mx-ui-workflows/1480/occurrence/429544167497#detail
which is when coming from silent enrollment


=====================================================
Timestamp:  2025-03-11T17:23:43Z
Repository: ConsultingMD/mx-ui-workflows
PR #802: [ACQ-943] condensed demographics - fix npe

Description:
fixes https://app.rollbar.com/a/Grandrounds/fix/item/mx-ui-workflows/1480

[ACQ-943](https://includedhealth.atlassian.net/browse/ACQ-943)

[ACQ-943]: https://includedhealth.atlassian.net/browse/ACQ-943?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-03-11T13:56:36Z
Repository: ConsultingMD/mx-ui-workflows
PR #801: [ACQ-943] emit signup started event on condensed demographics screen + cover sso unhappy path

Description:
This fixes the signup started events not firing when this experiment is enabled. Also makes sure that when coming from SSO and it's the unhappy path, the member on web would also see the experiment (if enabled)

[ACQ-943](https://includedhealth.atlassian.net/browse/ACQ-943)

[ACQ-943]: https://includedhealth.atlassian.net/browse/ACQ-943?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-03-11T04:05:58Z
Repository: ConsultingMD/oneapp-migration
PR #741: no longer need the nexus pin + tune silent enrollment alarm

Description:
also tuning silent-enrollment alarms which tends to fire at night, update to new baseline and updating grace period.


=====================================================
Timestamp:  2025-03-10T14:39:45Z
Repository: ConsultingMD/mx-ui-workflows
PR #800: [ACQ-943]  Condense Demographics Screen should only be for web client

Description:
Default the flag to return false for non-web clients.

[ACQ-943](https://includedhealth.atlassian.net/browse/ACQ-943)

[ACQ-943]: https://includedhealth.atlassian.net/browse/ACQ-943?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ



=====================================================
Timestamp:  2025-06-17T20:56:09Z
Repository: ConsultingMD/enrollment
PR #344: update authz check

Description:
No issues in prod
https://grafana.includedhealth.com/d/bd20e742bd7cec2d59b96b335177353d77737862/authz-metrics?orgId=1&from=now-1h&to=now&timezone=browser&var-environment=production&var-region=us-east-1

<img width="1049" alt="image" src="https://github.com/user-attachments/assets/92836294-f8be-471d-a7f5-c8dc7fea619d" />



=====================================================
Timestamp:  2025-06-17T20:12:30Z
Repository: ConsultingMD/mx-ui-workflows
PR #835: update authz check

Description:
No issues in prod.
https://grafana.includedhealth.com/d/77bdfdccec79399956b22a4be879ab24599f0f8f/authz-metrics?orgId=1&from=now-6h&to=now&timezone=browser&var-environment=production&var-region=us-east-1

<img width="932" alt="image" src="https://github.com/user-attachments/assets/89eee56c-3d8e-4a6c-885e-a1cab76dbfad" />



=====================================================
Timestamp:  2025-06-17T20:01:57Z
Repository: ConsultingMD/mauthra-ui
PR #140: Update observability.yaml to reflect engage on-call 3.0

Description:



=====================================================
Timestamp:  2025-06-17T19:45:48Z
Repository: ConsultingMD/oneapp-migration
PR #767: update authz check 

Description:



=====================================================
Timestamp:  2025-06-17T19:41:27Z
Repository: ConsultingMD/oneapp-migration
PR #766: update authz

Description:
No issues in prod
<img width="1010" alt="image" src="https://github.com/user-attachments/assets/766069ef-c0cf-40f2-9333-e3a8944d0b37" />



=====================================================
Timestamp:  2025-06-17T17:46:06Z
Repository: ConsultingMD/oneapp-migration
PR #765: update escalation policy to fix deploy failure

Description:
https://ci.us-east-1.production.grnds.com/#/namespaces/deploy/pipelineruns/oneapp-migration-pr-c043a211?pipelineTask=provision-observability-resources-v2&step=provision-observability-resources-v2

<img width="2189" alt="image" src="https://github.com/user-attachments/assets/0ee53ef8-26ee-4555-8d33-3256791f8854" />


=====================================================
Timestamp:  2025-06-17T03:03:38Z
Repository: ConsultingMD/enrollment
PR #343: update authz 

Description:
This pull request introduces several changes to enhance authorization handling in the GraphQL resolvers of the `app/handler/graph/schema.resolvers.go` file. The primary updates involve adding checks to ensure proper authorization for specific endpoints and recording authorization checks where sensitive data is not involved.

### Authorization Enhancements:

* **Added authorization recording for resolvers without PII**:
  - Updated the `FirstEnrollmentStep`, `EnrollmentPrompt`, and `EnrollmentVerificationFields` resolvers to record that authorization was checked, as these requests do not involve Personally Identifiable Information (PII). (`[[1]](diffhunk://#diff-832a69bbb7a7bbd4f6e7a75f856fc053b58b35b5148edf5df8eab447af4c47e2R39-R40)`, `[[2]](diffhunk://#diff-832a69bbb7a7bbd4f6e7a75f856fc053b58b35b5148edf5df8eab447af4c47e2R56-R57)`, `[[3]](diffhunk://#diff-832a69bbb7a7bbd4f6e7a75f856fc053b58b35b5148edf5df8eab447af4c47e2R73-R74)`)

* **Implemented strict authorization checks for service-specific endpoints**:
  - Added authorization checks to the `CreateOrClaimAccount` and `VerifyCoverageAndEnroll` mutation resolvers to ensure these endpoints are only accessible by specific services (`mx-ui-workflows`, `wizard`). (`[[1]](diffhunk://#diff-832a69bbb7a7bbd4f6e7a75f856fc053b58b35b5148edf5df8eab447af4c47e2R97-R101)`, `[[2]](diffhunk://#diff-832a69bbb7a7bbd4f6e7a75f856fc053b58b35b5148edf5df8eab447af4c47e2R148-R152)`)


=====================================================
Timestamp:  2025-06-16T19:19:00Z
Repository: ConsultingMD/mauthra-ui
PR #135: [DO NOT MERGE] make mauthra-ui accessible to the internet

Description:
Only merge this after https://includedhealth.atlassian.net/browse/CLOUD-4667 is complete


=====================================================
Timestamp:  2025-06-13T19:05:59Z
Repository: ConsultingMD/oneapp-migration
PR #763: update authz check

Description:
This pull request updates the `account_info.go` file in the `package graph` to improve authorization checks and streamline imports. The changes replace a deprecated authorization method with a more robust approach and refine the list of imported packages.

### Authorization Improvements:
* Replaced `http.TokenIsMachine(ctx)` with `authz.Check(ctx, authz.AssertCallerIsOtherService())` to enhance authorization logic. This ensures that the caller is verified as another service using a more modern and reliable method.

### Import Refinements:
* Removed the unused `github.com/ConsultingMD/go-common/http` package and added the `github.com/ConsultingMD/go-common/app/auth/authz` package to align with the updated authorization logic.


=====================================================
Timestamp:  2025-06-12T19:13:45Z
Repository: ConsultingMD/patient-description
PR #255: update GetPatientDescription with an explicit auth check

Description:
This pull request makes changes to the `schema.resolvers.go` file in the `package graph` to improve authorization handling and update imports. The most notable changes include replacing the `http.TokenIsMachine` check with a more robust authorization mechanism using `authz.Check`, and updating the import statements to reflect this new dependency.

### Authorization improvements:
* Replaced the `http.TokenIsMachine` check with `authz.Check` to enforce service-to-service authorization using `authz.AssertCallerIsOtherService`. This change enhances security by ensuring proper validation of machine tokens.

### Import updates:
* Added the `auth/authz` package to the import statements and removed the `http` package, aligning with the new authorization approach.


=====================================================
Timestamp:  2025-06-12T18:46:52Z
Repository: ConsultingMD/mx-ui-workflows
PR #832: update authz

Description:
This pull request introduces updates to the authentication logic in the `schema.resolvers.go` file and upgrades dependencies in `go.mod`. The authentication changes replace token-based checks with a more robust role-based authorization mechanism, while the dependency updates improve compatibility and incorporate newer versions of libraries.

### Authentication Updates
* **Enhanced Authorization Logic**: Replaced token-based checks (`http.TokenIsUser` and `http.TokenIsMachine`) with role-based authorization using `authz.Check`. This ensures better control over access by asserting caller roles (`AssertCallerIsOtherService`, `AssertCallerIsMember`) and combining them with logical operators (`authz.Or`). [[1]](diffhunk://#diff-832a69bbb7a7bbd4f6e7a75f856fc053b58b35b5148edf5df8eab447af4c47e2L47-R47) [[2]](diffhunk://#diff-832a69bbb7a7bbd4f6e7a75f856fc053b58b35b5148edf5df8eab447af4c47e2L105-R105)

### Dependency Updates
* **Go Version Upgrade**: Updated Go version from `1.23.8` to `1.24.2` and toolchain from `go1.23.9` to `go1.24.4`.
* **Library Updates**: Upgraded multiple dependencies in `go.mod`, including `github.com/ConsultingMD/go-common` (v1.163.0  v1.166.0), `go.opentelemetry.io/otel` (v1.35.0  v1.36.0), and `github.com/redis/go-redis/v9` (v9.7.3  v9.10.0), among others, for improved functionality and compatibility. [[1]](diffhunk://#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6L22-R37) [[2]](diffhunk://#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6L50-R78) [[3]](diffhunk://#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6L193-R214)
* **Indirect Dependency Additions**: Introduced new indirect dependencies such as `github.com/containerd/errdefs` and `sigs.k8s.io/randfill`. [[1]](diffhunk://#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6R88-R133) [[2]](diffhunk://#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6L244-R288)

These changes enhance security, maintainability, and compatibility across the codebase.


=====================================================
Timestamp:  2025-06-11T14:18:50Z
Repository: ConsultingMD/homepage-service
PR #482: transition to engage on-call 3.0

Description:
Per https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/5234819136/Engage+On-Call+3.0


=====================================================
Timestamp:  2025-06-11T13:53:23Z
Repository: ConsultingMD/merge-account
PR #325: transition to engage on-call 3.0

Description:
Per https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/5234819136/Engage+On-Call+3.0


=====================================================
Timestamp:  2025-06-11T13:46:17Z
Repository: ConsultingMD/oneapp-migration
PR #761: transition to engage on-call 3.0

Description:
Per https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/5234819136/Engage+On-Call+3.0


=====================================================
Timestamp:  2025-06-11T13:38:55Z
Repository: ConsultingMD/contact-verification
PR #298: transition to engage on-call 3.0

Description:
Per https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/5234819136/Engage+On-Call+3.0


=====================================================
Timestamp:  2025-06-11T13:30:43Z
Repository: ConsultingMD/family
PR #416: transition to engage on-call 3.0

Description:
Per https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/5234819136/Engage+On-Call+3.0


=====================================================
Timestamp:  2025-06-11T13:25:15Z
Repository: ConsultingMD/mx-ui-workflows
PR #831: transition to engage on-call 3.0

Description:
Per https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/5234819136/Engage+On-Call+3.0


=====================================================
Timestamp:  2025-06-11T13:14:59Z
Repository: ConsultingMD/account
PR #951: transition to engage on-call 3.0

Description:
Per https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/5234819136/Engage+On-Call+3.0


=====================================================
Timestamp:  2025-06-11T13:09:51Z
Repository: ConsultingMD/relationship
PR #294: transition to engage on-call 3.0

Description:
Per https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/5234819136/Engage+On-Call+3.0


=====================================================
Timestamp:  2025-06-11T13:05:54Z
Repository: ConsultingMD/patient-description
PR #254: transition to engage on-call 3.0

Description:
Per https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/5234819136/Engage+On-Call+3.0


=====================================================
Timestamp:  2025-06-10T21:41:46Z
Repository: ConsultingMD/enrollment
PR #341: transition to engage on-call 3.0

Description:
Per https://includedhealth.atlassian.net/wiki/spaces/ENG/pages/5234819136/Engage+On-Call+3.0


=====================================================
Timestamp:  2025-06-10T14:58:31Z
Repository: ConsultingMD/relationship
PR #293: add gql operation validation to circleci config

Description:
For https://app.opslevel.com/campaigns/2976


=====================================================
Timestamp:  2025-06-06T23:27:34Z
Repository: ConsultingMD/account
PR #949: augment CreateAccount mutation to call getPersonByPII to find existing accounts before creating a new account

Description:
Related: https://github.com/ConsultingMD/oneapp-migration/pull/760

This pull request introduces several enhancements and updates across multiple files, focusing on adding new features, improving account search capabilities, and updating the GraphQL schema. Key changes include the addition of a new method for searching persons by Personally Identifiable Information (PII), updates to the GraphQL schema to streamline data structures, and the introduction of feature flags for new search functionalities.

### Enhancements to Account Search:

* Added a new method `GetPersonByPII` to the `Gateway` interface in `app/gateway/janus/gateway.go`, allowing searches for persons using PII. This includes the implementation of the method and integration with the GraphQL client. [[1]](diffhunk://#diff-a538745dc45114fc673a685d0a061779a02862976f2bfa14a357882a5a324fbdR81-R86) [[2]](diffhunk://#diff-a538745dc45114fc673a685d0a061779a02862976f2bfa14a357882a5a324fbdR156-R172)
* Introduced feature flags `SearchClaimableAccountByPhone` and `SearchExistingAccountsByPII` in `app/service/claimaccount/searcher.go` to enable conditional execution of new search functionalities. (F300245cL21R21, [app/service/claimaccount/searcher.goR64-R66](diffhunk://#diff-6ebe4c9db2df444a97d88c49507402814a9c753228bab17ca3542c4ba8287e0eR64-R66))
* Implemented the `findExistingAccountsFromPII` method in `app/service/claimaccount/searcher.go` to search for existing accounts using PII with configurable filters.

### GraphQL Schema Updates:

* Replaced `MedicalDegreeInput` with `MedicalDegree` in various schema types to simplify the data structure. [[1]](diffhunk://#diff-e0766daf0d36897e073188a61a8160ca02a4beffe98b4a8f42fc170947d40749L7603-R7603) [[2]](diffhunk://#diff-e0766daf0d36897e073188a61a8160ca02a4beffe98b4a8f42fc170947d40749L16028-R16032)
* Added a new field `panelType` to the `ExpertPanelInfo` type to provide additional metadata about expert panels.
* Consolidated and updated mutation inputs, such as replacing `UpdateExpertPractitionerDemographicInfoInput` with `UpdateExpertPractitionerPanelMembershipsInput` and simplifying the case rate update input. [[1]](diffhunk://#diff-e0766daf0d36897e073188a61a8160ca02a4beffe98b4a8f42fc170947d40749L17925-R17935) [[2]](diffhunk://#diff-e0766daf0d36897e073188a61a8160ca02a4beffe98b4a8f42fc170947d40749L30588-L30649)

### Telemetry and Logging Improvements:

* Added telemetry logs to track errors and behaviors in the new `findExistingAccountsFromPII` method and other related functionalities.
* Updated error handling for `GetPersonByPII` to log specific cases, such as no matches or multiple matches, for better debugging.

### GraphQL Query Addition:

* Introduced a new query `GetPersonByPII` in `app/gateway/janus/query/getPersonByPII.graphql` to support the new PII-based search functionality.

### Codebase Maintenance:

* Refactored comments and improved readability in the `findUnreliableResult` method in `app/service/claimaccount/searcher.go`. [[1]](diffhunk://#diff-6ebe4c9db2df444a97d88c49507402814a9c753228bab17ca3542c4ba8287e0eL201-R230) [[2]](diffhunk://#diff-6ebe4c9db2df444a97d88c49507402814a9c753228bab17ca3542c4ba8287e0eR248)


=====================================================
Timestamp:  2025-06-06T23:22:42Z
Repository: ConsultingMD/oneapp-migration
PR #760: include phone in the create account input

Description:
This will allows us to (in ais) do a getPersonByPII search to try and find an existing account before creating a new one, to prevent duplicate account creation.

Related: https://github.com/ConsultingMD/account/pull/949

This pull request introduces changes to improve logging clarity and enhance the handling of phone numbers during account creation. The most important changes include adding logic to select the first phone number from a list and updating log messages for better readability.

### Enhancements to phone number handling:
* [`app/service/accountcreation/account_creation.go`](diffhunk://#diff-753bff3baac722b9f51cc845733883c9a16186bd42cab31a19a6ab2b909c8576R199-R208): Added logic to select the first phone number from a list of phone numbers for DOD users. If multiple phone numbers are found, a log message is recorded to indicate this, and the first phone number is used.
* [`app/service/accountcreation/account_creation.go`](diffhunk://#diff-753bff3baac722b9f51cc845733883c9a16186bd42cab31a19a6ab2b909c8576R218): Updated the account creation input to include the selected phone number (`Phone`).

### Improvements to logging:
* [`app/service/dodlocator/dodlocator.go`](diffhunk://#diff-27dae3b3cac8f48af437001e6dd9bf527d7fcf6c37ec7d94df0f9334059088baL269-R269): Updated a log message to replace "has_ih_account" with "nil ih_account" for better clarity when checking for PII mismatches.


=====================================================
Timestamp:  2025-06-02T21:37:21Z
Repository: ConsultingMD/mauthra-ui
PR #105: [IAM-500] add missing amplitude event for forgot password screen

Description:
This pull request introduces enhancements to Amplitude event tracking and updates to the password reset flow. Key changes include adding new Amplitude event properties, integrating event tracking in the password reset flow, and updating the `ampli.json` configuration file.

### Amplitude Event Tracking Enhancements:
* [`src/lib/services/ampli/utils.ts`](diffhunk://#diff-030f67bf20316046e4ff887fbe322290b195c1d7b93403f49f2c8a2dce919712R8): Added a new `Screen` property to `AmplitudeEventProperties` to track specific screens ("ENTER_INFO" and "SUCCESS"). Updated comments in `getAmplitudeEventProperties` to clarify the base properties used for all events. [[1]](diffhunk://#diff-030f67bf20316046e4ff887fbe322290b195c1d7b93403f49f2c8a2dce919712R8) [[2]](diffhunk://#diff-030f67bf20316046e4ff887fbe322290b195c1d7b93403f49f2c8a2dce919712R27-R28)

### Password Reset Flow Updates:
* [`src/shared/components/passwordRecoveryPages/passwordResetFlow.tsx`](diffhunk://#diff-e338435b30128966695f5928c8ffdb01650f7671f1692cea48a22f74bbe4c625R42-R61): Integrated Amplitude event tracking into the password reset flow using `useEffect`. Events are triggered based on the current screen (`ENTER_INFO` or `SUCCESS`) with the `ampli.viewForgotPasswordAuth0Screen` method. Introduced `hasTrackedAmplitudeEvents` to prevent duplicate event tracking.
* [`src/shared/components/passwordRecoveryPages/passwordResetFlow.tsx`](diffhunk://#diff-e338435b30128966695f5928c8ffdb01650f7671f1692cea48a22f74bbe4c625R11-R13): Added imports for Amplitude utilities and `useSearchParams` to support event tracking.

See [thread](https://ih-epdd.slack.com/archives/C07UYHBAJ7M/p1748637425950089) for the missing event(s)

Pending: 2FA event to be added in https://github.com/ConsultingMD/mauthra-ui/pull/83 or a follow up

[IAM-500](https://includedhealth.atlassian.net/browse/IAM-500)


<img width="2268" alt="image" src="https://github.com/user-attachments/assets/208eab31-9105-4434-b8bf-13f2219051c1" />

<img width="832" alt="image" src="https://github.com/user-attachments/assets/cbf43ccc-d025-4e4f-b189-b632c2401dc9" />

If DOD brand
<img width="2357" alt="image" src="https://github.com/user-attachments/assets/526a2860-fdcc-4018-8017-ea78afccbf44" />



[IAM-500]: https://includedhealth.atlassian.net/browse/IAM-500?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-05-27T19:22:37Z
Repository: ConsultingMD/mauthra-ui
PR #89: link to signup from login page and vice versa

Description:
This pull request updates navigation links and makes improvements to the `RegistrationCard` component for better consistency and usability. It also adjusts the `SignUp` page URL to point to the registration page within the application instead of an external link.

### Navigation Updates:
* Updated the "New here?" link on the login page to direct users to the `SignUp` page instead of the `Login` page. (`pages/login.tsx`)
* Changed the `SignUp` page URL in `PAGE_DATA` from an external link (`https://includedhealth.com`) to an internal `/registration` route. (`src/shared/constants/pages.ts`)

### `RegistrationCard` Component Enhancements:
* Added imports for `TextElementType`, `TextFontSize`, and `Link` to support updated text and link styling. (`src/components/registration/RegistrationCard.tsx`) [[1]](diffhunk://#diff-5bed458099d26e75782bf12fdb6482b7876dd39d32eb4485b82bcdc4f9b533a3R3-R4) [[2]](diffhunk://#diff-5bed458099d26e75782bf12fdb6482b7876dd39d32eb4485b82bcdc4f9b533a3R16-R18)
* Updated the "Already a member?" text to include a styled link to the `Login` page, improving clarity and consistency with design standards. (`src/components/registration/RegistrationCard.tsx`)

<img width="957" alt="image" src="https://github.com/user-attachments/assets/ff906460-bfa4-49a8-808b-911f0770d1ac" />
<img width="758" alt="image" src="https://github.com/user-attachments/assets/ca4f00b8-95f2-45ed-b436-b061307897b9" />



=====================================================
Timestamp:  2025-05-23T21:37:21Z
Repository: ConsultingMD/support-tools
PR #252: misc refactors to account creation cmds + adding cmd to generate hash from member demographics

Description:
This pull request introduces several enhancements and new features to the `ais` and `hub` services, focusing on improved account creation, demographic hashing, and handling of primary account fields. It also includes updates to GraphQL queries and command-line interfaces for better flexibility and usability. Below are the most significant changes grouped by theme.

### Enhancements to Account Handling
* Added support for handling primary account fields in both `create_account` and `get_account_ids` methods by introducing a `primaries` flag. This affects the logic for processing input/output CSVs and field prefixes. (`lib/service/ais.py`, `lib/service/hub.py`) [[1]](diffhunk://#diff-a218dbae248f86e7e3c904b8fb82bdbe9dabc106e81bff11e0b63f8f068ab4b0R134-R167) [[2]](diffhunk://#diff-cb7fe3ef43b3bc5893f15a942c124bba0649eebf11628fc5ffb95e56700c6465L47-R64)
* Updated the `build_mutation_variables` method to dynamically handle optional fields and validate required fields, returning an `invalid_row` flag for incomplete data. (`lib/service/ais.py`)

### New Features
* Introduced a `generate_demographic_hash` method to create a SHA256 hash from normalized demographic data (first name, last name, DOB, and SSN last 4 digits). This method is also exposed via a new CLI command. (`lib/service/ais.py`, `tool/service.py`) [[1]](diffhunk://#diff-a218dbae248f86e7e3c904b8fb82bdbe9dabc106e81bff11e0b63f8f068ab4b0R96-R124) [[2]](diffhunk://#diff-4e3aca18cafec57820f7cd50f3410267afa253aec13c8ddb7b7181bd7fb160bfR114-R128)
* Added CLI options for specifying the `primaries` flag in `create_account` and `get_account_ids` commands, improving command-line flexibility. (`tool/service.py`) [[1]](diffhunk://#diff-4e3aca18cafec57820f7cd50f3410267afa253aec13c8ddb7b7181bd7fb160bfR114-R128) [[2]](diffhunk://#diff-4e3aca18cafec57820f7cd50f3410267afa253aec13c8ddb7b7181bd7fb160bfR1092-R1096)

### GraphQL Query Updates
* Extended GraphQL queries to include additional fields such as `phone` for accounts and `firstName`/`lastName` for relationships. (`lib/service/ais.py`, `lib/service/relationship.py`) [[1]](diffhunk://#diff-a218dbae248f86e7e3c904b8fb82bdbe9dabc106e81bff11e0b63f8f068ab4b0R32) [[2]](diffhunk://#diff-5e97f4de049f0892c23f0a1ddf87bc3ef1051811f70bc49528092d1aa5fcc455R14-R20)

### Minor Improvements
* Refactored the `create_account` method to handle account existence checks more robustly by introducing a constant for the `ACCOUNT_ALREADY_EXISTS` status. (`lib/service/ais.py`)
* Adjusted the default value for the `provenances` option in the `relationship` command to an empty list for better flexibility. (`tool/service.py`)

```
 ./main.py --jira=work service ais generate-demographic-hash --first-name "Benito" --last-name "Martinez" --dob "1980-05-05" --ss4 "4321"
WARNING:root:pyiceberg is not installed, cannot interact with Iceberg tables
c801ed83d6863cd7e6e9f361c0c2616292328ab6f8e3f53b4b4d52bfbac97914
```

```
./main.py --jira=work service ais create-account /Users/richard.garcia/Downloads/swa_with_accounts.csv /tmp/swa_with_accounts.csv -p
./main.py --jira=work service hub account-ids /tmp/swa_with_accounts_with_ih_account_ids.csv ~/Downloads/swa_with_accounts_with_ih_account_ids.csv -p
```


=====================================================
Timestamp:  2025-05-22T22:23:20Z
Repository: ConsultingMD/account
PR #944: fix blocked-demographics-list-json FF declaration

Description:
This pull request introduces changes to enhance the handling of blocked demographics in account creation, refactor feature flag usage, and improve test coverage. The most significant updates include replacing string-based feature flags with JSON-based ones, adding a utility function for parsing blocked demographics, and updating the test suite to align with these changes.

### Enhancements to blocked demographics handling:
* Replaced `BlockedDemographicsList` feature flag type from `StringFeatureFlagger` to `JSONFeatureFlagger` in `protostoreRepository` and updated its usage to parse JSON directly into a slice of strings. (`app/repository/protostore_account_repository.go`, [[1]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL97-R101) [[2]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL127-R131)
* Added a new method `getBlockedDemographicsList` to encapsulate the logic for parsing the blocked demographics list from the feature flag, improving code readability and error handling. (`app/repository/protostore_account_repository.go`, [app/repository/protostore_account_repository.goR674-R683](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR674-R683))

### Refactoring feature flag usage:
* Refactored `checkAndBlockDemographics` to use the new `getBlockedDemographicsList` method, removing inline JSON parsing logic and improving error handling. (`app/repository/protostore_account_repository.go`, [app/repository/protostore_account_repository.goL680-R695](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL680-R695))
* Added telemetry logging to provide better insights into the generated demographic hashes during account creation. (`app/repository/protostore_account_repository.go`, [app/repository/protostore_account_repository.goR721-R722](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR721-R722))

### Test suite improvements:
* Updated `ProtostoreRepositoryConfig` in tests to use a `[]string` type for `BlockedDemographicsList` instead of a JSON string, aligning with the new implementation. (`app/repository/protostore_account_repository_test.go`, [app/repository/protostore_account_repository_test.goL70-R71](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L70-R71))
* Enhanced the mock feature flag implementation to populate target structs with blocked demographics data, ensuring test flexibility and accuracy. (`app/repository/protostore_account_repository_test.go`, [app/repository/protostore_account_repository_test.goL85-R100](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L85-R100))
* Modified test cases to reflect the new feature flag structure and removed tests for invalid JSON handling, as the new implementation no longer requires manual JSON parsing. (`app/repository/protostore_account_repository_test.go`, [[1]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L1382-R1397) [[2]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L1420-R1435) [[3]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L1438-R1462)


=====================================================
Timestamp:  2025-05-21T15:29:03Z
Repository: ConsultingMD/account
PR #943: [ACQ-1251] add support to block account creation based on specific demographic data

Description:
Ticket: https://includedhealth.atlassian.net/browse/ACQ-1251

This pull request introduces a new feature to block account creation based on demographic data, along with supporting utility methods, feature flags, and comprehensive tests. The most important changes include adding a demographic hash-based blocking mechanism, introducing new feature flags, implementing a utility for generating demographic hashes, and expanding test coverage.

### New Feature: Demographic-Based Account Blocking
* Added `checkAndBlockDemographics` method to `protostoreRepository` to block account creation if demographic data matches a restricted hash, controlled by a feature flag. (`app/repository/protostore_account_repository.go`, [app/repository/protostore_account_repository.goR670-R737](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR670-R737))
* Introduced a new error type `ErrAccountCreationBlockedDemographics` to signal blocked account creation attempts. (`app/repository/errors.go`, [app/repository/errors.goR42-R43](diffhunk://#diff-00604b0ead13b76933d158e4c6f97ec68aca3ed67137e0ab2c39fa772f9da4ddR42-R43))

### Feature Flags and Configuration
* Added feature flags `enable-demographic-based-account-blocking` and `blocked-demographics-list-json` for enabling the blocking mechanism and defining restricted hashes. (`app/repository/protostore_account_repository.go`, [app/repository/protostore_account_repository.goR49-R50](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR49-R50))
* Updated `protostoreRepository` to fetch these feature flags during initialization. (`app/repository/protostore_account_repository.go`, [[1]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR96-R97) [[2]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR126-R127)

### Utility Method for Demographic Hashing
* Added `GenerateDemographicHash` utility to create SHA256 hashes from normalized demographic data for comparison against the restricted list. (`app/utils/demographic_hasher.go`, [app/utils/demographic_hasher.goR1-R53](diffhunk://#diff-ae999600e052be635aa2711c139f0ff13f3ae1b09b75dc36ab625cda7c785e1aR1-R53))

### Test Coverage
* Added unit tests for `checkAndBlockDemographics` and integration tests for account creation scenarios with demographic blocking enabled or disabled. (`app/repository/protostore_account_repository_test.go`, [app/repository/protostore_account_repository_test.goR1364-R1584](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96R1364-R1584))
* Extended the test suite configuration to include new feature flags. (`app/repository/protostore_account_repository_test.go`, [[1]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96R69-R70) [[2]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96R84-R85)

### Dependency Updates
* Updated `go.mod` to include new dependencies for testing and feature flag handling. (`go.mod`, [[1]](diffhunk://#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6R81) [[2]](diffhunk://#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6R93) [[3]](diffhunk://#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6R116) [[4]](diffhunk://#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6R260) [[5]](diffhunk://#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6R289-R290)

### Feature Flags
- [enable-demographic-based-account-blocking](https://app.launchdarkly.com/projects/account-server/flags/enable-demographic-based-account-blocking?env=production&env=uat&selected-env=production)
- [blocked-demographics-list-json](https://app.launchdarkly.com/projects/account-server/flags/blocked-demographics-list-json?env=production&env=uat&selected-env=production)


=====================================================
Timestamp:  2025-05-16T21:28:35Z
Repository: ConsultingMD/support-tools
PR #251: rename column to be more accurate

Description:



=====================================================
Timestamp:  2025-05-16T19:42:47Z
Repository: ConsultingMD/mauthra-ui
PR #70: fix CD

Description:
This should fix CD.

This pull request includes updates to configuration files that enhance pre-commit hooks and streamline CI/CD processes. The most important changes involve upgrading a dependency version, adding new pre-commit hooks, and simplifying continuous deployment checks.

### Pre-commit configuration updates:
* [`.pre-commit-config.yaml`](diffhunk://#diff-63a9c44a44acf85fea213a857769990937107cf072831e1a26808cfde9d096b9L14-R22): Upgraded the `image-builder` repository dependency from `v2.2.6` to `v2.2.8` and added two new hooks: `validate-codecov` and `tng-config-validate`.

### Continuous deployment configuration updates:
* [`platform/serviceConfig.yaml`](diffhunk://#diff-b4d680b3fbd7cc568486043db42c3407e6e0abc36b326e59c20c5331d3b9128bL48-R49): Simplified the `continuousDeployment.checks` list by replacing `build_node` and `build_tng` with a single `build` check. The other commands were copied from a separate service and don't exist here, so it never executed.


=====================================================
Timestamp:  2025-05-16T17:19:21Z
Repository: ConsultingMD/web-e2e-testing
PR #48: DIH retail user registration

Description:
This pull request introduces a new end-to-end test for creating a retail user account in the `DIH Member App` and includes a minor improvement to an existing test. The new test covers the entire signup flow, from account creation to verifying homepage elements, while the existing test is updated to include a timeout for better reliability.

### New Test Addition:
* **New Test Implementation**: Added a comprehensive end-to-end test for retail user account creation in `src/apps/mx-app/tests/create-account-retail-user-dih.spec.ts`. This includes steps for navigation, signup, personal information entry, insurance selection, SSN verification, demographics questionnaire, and homepage validation. The test also integrates with TestRail for annotations and screenshots on failure.

### Existing Test Update:
* **Timeout Addition**: Updated the existing retail user account creation test in `src/apps/mx-app/tests/create-account-retail-user.spec.ts` to add a 15-second timeout for verifying the visibility of the "Welcome to Included Health" heading. This improves test stability.



https://github.com/user-attachments/assets/aa05b468-ba86-40db-8a55-736ea37a4adc


https://includedhealth.atlassian.net/browse/WEBOC-131


=====================================================
Timestamp:  2025-05-16T13:55:59Z
Repository: ConsultingMD/support-tools
PR #250: add support for phone

Description:
This pull request introduces a small enhancement to the `build_mutation_variables` method in `lib/service/ais.py`. The change adds support for including a `phone` field in the mutation variables if it is present in the `create_account_input` dictionary.

* [`lib/service/ais.py`](diffhunk://#diff-a218dbae248f86e7e3c904b8fb82bdbe9dabc106e81bff11e0b63f8f068ab4b0R191-R192): Added logic to handle the `phone` field in the `build_mutation_variables` method, ensuring it is included in the `input` dictionary when provided.


=====================================================
Timestamp:  2025-05-14T21:33:51Z
Repository: ConsultingMD/mauthra
PR #53: update docker-compose-headless.yaml, add make cmd

Description:
This pull request introduces updates to the `Makefile` and `docker-compose-headless.yaml` to add a new headless server setup and enhance the Docker configuration. The most significant changes include adding a new `run-server-headless` target, updating image references to use a `local` tag, and introducing a new `mauthra-courier` service.

### Updates to the `Makefile`:
* Added a `run-server-headless` target to start the headless server using `docker-compose-headless.yaml`.

### Enhancements to `docker-compose-headless.yaml`:
* Updated the `mauthra` service to use the `mauthra:local` image instead of the default `mauthra` image. [[1]](diffhunk://#diff-2f5d50f022ad8daf7e4e9980e93504362eae71ae0b7a051ee86484fd6c950d3fL7-R7) [[2]](diffhunk://#diff-2f5d50f022ad8daf7e4e9980e93504362eae71ae0b7a051ee86484fd6c950d3fR16-R23)
* Added a new `mauthra-courier` service with dependencies, environment variables, and a custom command for handling courier-related tasks.


=====================================================
Timestamp:  2025-05-13T06:07:14Z
Repository: ConsultingMD/enrollment
PR #337: [ACQ-1296] update findExistingAccount to use custom filters

Description:
This pull request introduces significant changes to the `enrollment` service and its dependencies, focusing on removing the `GetPersonByIvrPII` functionality and replacing it with enhanced support for `GetPersonByPII` using customizable filters. It also includes updates to feature flags, GraphQL queries, and related tests. These changes aim to simplify the codebase and improve account search functionality.

### Removal of `GetPersonByIvrPII` and Transition to `GetPersonByPII`:
* Removed the `GetPersonByIvrPII` method and associated feature flags, replacing it with `GetPersonByPII` that now supports additional filters for more flexible account searches (`app/gateway/janus/janus_gateway.go`, `app/service/enrollment/service.go`, `app/gateway/janus/query/getPersonByIvrPII.graphql`, `app/gateway/janus/query/getPersonByPII.graphql`, [[1]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eL426-R419) [[2]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eL516-L594) [[3]](diffhunk://#diff-4b15ed691a07b5cdda44e5cea24eeaa1a9438fa9c31695d5b638b499f421fccaL1-R5) [[4]](diffhunk://#diff-1d66e3a0474d21e5514752c284afbe7a6e5d9a2a4d84ec21ce87d2aab2e42947L1-L9) [[5]](diffhunk://#diff-5d991922749c9f691e4f542209496c02d5e849a73eb548540385a91b95fb139eL265-L279).

* Added a new helper function `getPatientDescriptionFilters` to generate a list of filters for `GetPersonByPII`, improving search accuracy (`app/service/enrollment/service.go`, [app/service/enrollment/service.goR570-R620](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eR570-R620)).

### Feature Flag and Configuration Updates:
* Replaced `EnableGetPersonByIvrPII` and `LogResultsGetPersonByIvrPII` feature flags with `EnableGetPersonByPIIFilters` to control the use of filters in `GetPersonByPII` queries (`app/featureflags/featureflags.go`, `app/service/enrollment/service.go`, [[1]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eL79-R80) [[2]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eL101-R101).

### Refactoring and Cleanup:
* Removed redundant methods and logic related to `GetPersonByIvrPII`, simplifying the codebase and reducing technical debt (`app/service/enrollment/service.go`, [[1]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eL426-R419) [[2]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eL516-L594).

* Updated switch-case handling in enrollment methods to improve readability and maintainability (`app/service/enrollment/service.go`, [[1]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eL160-R177) [[2]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eL258-R278).

### GraphQL Query Updates:
* Modified the `GetPersonByPII` GraphQL query to accept a new `filters` parameter, aligning with the updated functionality (`app/gateway/janus/query/getPersonByPII.graphql`, [app/gateway/janus/query/getPersonByPII.graphqlL1-R5](diffhunk://#diff-4b15ed691a07b5cdda44e5cea24eeaa1a9438fa9c31695d5b638b499f421fccaL1-R5)).

### Test Updates:
* Updated tests to reflect the removal of `GetPersonByIvrPII` and the addition of filters in `GetPersonByPII` calls (`app/service/enrollment/service_test.go`, [[1]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL26-R26) [[2]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL81-R77) [[3]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL129-R125).

These changes collectively enhance the flexibility and maintainability of the `enrollment` service while removing outdated functionality and improving account search capabilities.

FF: [enable-get-person-by-pii-filters](https://app.launchdarkly.com/projects/enrollment-server/flags/enable-get-person-by-pii-filters?env=production&env=test&selected-env=test)

[ACQ-1296](https://includedhealth.atlassian.net/browse/ACQ-1296)

[ACQ-1296]: https://includedhealth.atlassian.net/browse/ACQ-1296?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-05-12T17:53:05Z
Repository: ConsultingMD/mauthra-ui
PR #61: [IAM-441] [Acquire] - Implement DIH branding in relevant screens

Description:
This pull request introduces a significant enhancement to the application's handling of the `isDih` state, which determines whether the app is in "Doctor on Demand" mode. The changes focus on improving state management, ensuring consistency across server-side rendering (SSR) and client-side rendering (CSR), and integrating the `isDih` state into various components. The most important changes are grouped into state management, component updates, and utility improvements.

### State Management Enhancements:
* Added a new `AppContext` in `src/shared/contexts/AppContext.tsx` to provide a centralized context for managing the `isDih` state across the application. The context includes methods to initialize, update, and persist the state using URL parameters and `localStorage`.
* Updated `pages/_app.tsx` to wrap the application in the `AppProvider` context and added logic to handle SSR and CSR scenarios for determining the `isDih` state.

### Component Updates:
* Modified `Navbar` in `src/shared/components/navbar.tsx` to dynamically select the appropriate logo based on the `isDih` state, with fallback mechanisms to handle missing context or URL parameters. [[1]](diffhunk://#diff-959399c769cbb04bcd8fdc3c84bb1ca61ba03a0ac6c0e0d7b58c34ba7accb11fL1-L7) [[2]](diffhunk://#diff-959399c769cbb04bcd8fdc3c84bb1ca61ba03a0ac6c0e0d7b58c34ba7accb11fL17-R63) [[3]](diffhunk://#diff-959399c769cbb04bcd8fdc3c84bb1ca61ba03a0ac6c0e0d7b58c34ba7accb11fL29-R73)
* Updated `pages/login.tsx` to use the `useAppContext` hook for accessing and updating the `isDih` state, ensuring consistency between URL parameters and context. [[1]](diffhunk://#diff-efe206089575e5aa92a4bacded0c0c25b4ef6b11199e0d8620eecd1d65b66f50R22) [[2]](diffhunk://#diff-efe206089575e5aa92a4bacded0c0c25b4ef6b11199e0d8620eecd1d65b66f50R35-R64)

### Utility Improvements:
* Enhanced `getAmplitudeEventProperties` in `src/lib/services/ampli/utils.ts` to accept an optional `contextOrAppParamIsDih` parameter, allowing it to prioritize context or URL parameters when determining the `isDih` state.
* Updated `useFlow` in `src/shared/hooks/useFlow.ts` to preserve the `app` parameter during flow creation, ensuring that the `isDih` state is consistently propagated during navigation.

[IAM-441](https://includedhealth.atlassian.net/browse/IAM-441)

[IAM-441]: https://includedhealth.atlassian.net/browse/IAM-441?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-05-07T14:40:17Z
Repository: ConsultingMD/mx-app
PR #7588: [ACQ-1277] [web] Remove authzilla FF

Description:

[ACQ-1277](https://includedhealth.atlassian.net/browse/ACQ-1277)

[ACQ-1277]: https://includedhealth.atlassian.net/browse/ACQ-1277?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-05-07T13:29:17Z
Repository: ConsultingMD/mx-app
PR #7586: Revert "[ACQ-1277] [web] Remove authzilla FF"

Description:
Reverts ConsultingMD/mx-app#7572

Deploys started failing after this was merged.


=====================================================
Timestamp:  2025-05-06T20:56:59Z
Repository: ConsultingMD/mx-app
PR #7572: [ACQ-1277] [web] Remove authzilla FF

Description:
Per Slack thread: https://ih-epdd.slack.com/archives/C07UYHBAJ7M/p1746464456102269

This pull request simplifies the authentication logic in the `MxApp` component by removing the `AuthzillaVsAuth0Wrapper` and replacing it with a direct implementation using the `Auth0Provider`. Additionally, it removes unused imports and feature flags related to the deprecated `Authzilla` functionality.

### Authentication Refactor:
* Removed the `AuthzillaVsAuth0Wrapper` component and replaced it with a direct implementation of `Auth0Provider` in the `MxApp` component. This change simplifies the code and removes reliance on the `LaunchDarkly` feature flag for determining the authentication tenant. (`[[1]](diffhunk://#diff-a9827ce1be32c607c948881a89b99c592f752898f9c49e0dea0b7199eb151029L68-L138)`, `[[2]](diffhunk://#diff-a9827ce1be32c607c948881a89b99c592f752898f9c49e0dea0b7199eb151029R138-R148)`, `[[3]](diffhunk://#diff-a9827ce1be32c607c948881a89b99c592f752898f9c49e0dea0b7199eb151029L225-L230)`, `[[4]](diffhunk://#diff-a9827ce1be32c607c948881a89b99c592f752898f9c49e0dea0b7199eb151029L253-R201)`)

### Cleanup of Unused Code:
* Removed the `useAuthzillaTenant` feature flag from the `FeatureFlag` enum in `components/shared/featureFlags.ts`. (`[components/shared/featureFlags.tsL209](diffhunk://#diff-6f9cb4961c7a6c42a700e4e50323bbfb7dba6ceb11ee2f0ae7087467a6053fe6L209)`)
* Deleted unused imports, including `useLDClient`, `FeatureFlag`, and `urlMap`, from `pages/_app.tsx`. (`[[1]](diffhunk://#diff-a9827ce1be32c607c948881a89b99c592f752898f9c49e0dea0b7199eb151029L11)`, `[[2]](diffhunk://#diff-a9827ce1be32c607c948881a89b99c592f752898f9c49e0dea0b7199eb151029L38)`, `[[3]](diffhunk://#diff-a9827ce1be32c607c948881a89b99c592f752898f9c49e0dea0b7199eb151029L48)`)
* Removed the `isDomainGrandrounds` state and its associated logic from `MxApp`, as it is no longer needed after the refactor. (`[pages/_app.tsxL151](diffhunk://#diff-a9827ce1be32c607c948881a89b99c592f752898f9c49e0dea0b7199eb151029L151)`)
[ACQ-1277](https://includedhealth.atlassian.net/browse/ACQ-1277)

[ACQ-1277]: https://includedhealth.atlassian.net/browse/ACQ-1277?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-05-05T15:14:05Z
Repository: ConsultingMD/mauthra-ui
PR #45: [IAM-420] add amplitude library to mauthra-ui

Description:
This pull request introduces Amplitude analytics integration into the application, upgrades dependencies, and makes several related changes to support the new functionality. The most important changes include adding Amplitude initialization and event tracking, updating environment variable configurations, and upgrading Node.js and dependencies.

### Amplitude Integration:

* Added Amplitude initialization logic in `src/lib/services/ampli/ampliInitialize.ts` to set up the SDK with environment-specific configurations and default tracking settings.
* Introduced Amplitude event tracking in the `pages/login.tsx` file, including tracking login screen views and universal login events. [[1]](diffhunk://#diff-efe206089575e5aa92a4bacded0c0c25b4ef6b11199e0d8620eecd1d65b66f50R31-R58) [[2]](diffhunk://#diff-efe206089575e5aa92a4bacded0c0c25b4ef6b11199e0d8620eecd1d65b66f50R92-R98)
* Added a new `Environment` enum in `src/lib/environment.ts` to manage environment-specific configurations.
* Updated `_app.tsx` to initialize Amplitude when the app starts.

### Environment Variable Updates:

* Added `NEXT_PUBLIC_AMPLITUDE_KEY` to `.env.development` and updated its usage in `docker/Dockerfile` and `docker-entrypoint.sh`. [[1]](diffhunk://#diff-da4c41d59c967338247b2f0ea6d845ab05171f942fd9521b96d3304202185db9R22) [[2]](diffhunk://#diff-f34da55ca08f1a30591d8b0b3e885bcc678537b2a9a4aadea4f190806b374ddcL29-R29) [[3]](diffhunk://#diff-79738685a656fe6b25061bb14181442210b599f746faeaba408a2401de45038aL11-R11)
* Defined the `amplitude-key` parameter in `platform/parameters.yaml` for environment configuration.

### Dependency Upgrades:

* Upgraded Node.js from version `20.8.1` to `22.14.0` in `.tool-versions`.
* Added new dependencies in `package.json` for Amplitude (`@amplitude/analytics-browser`) and testing tools (`vitest`, `@testing-library/react`, etc.). [[1]](diffhunk://#diff-7ae45ad102eab3b6d7e7896acd08c427a9b25b346470d7bc6507b6481575d519L10-R18) [[2]](diffhunk://#diff-7ae45ad102eab3b6d7e7896acd08c427a9b25b346470d7bc6507b6481575d519R35-R49)

### Miscellaneous:

* Added a new `ampli.json` configuration file for Amplitude.
* Exported the Ampli instance in `src/lib/services/ampli/index.ts` for use across the app.

These changes collectively enable Amplitude analytics integration, improve environment configuration, and enhance the development environment with updated tools and dependencies.

Ticket: https://includedhealth.atlassian.net/browse/IAM-420

### Events fired on the login screen:
<img width="778" alt="image" src="https://github.com/user-attachments/assets/392e2f5c-f3c0-4bd6-8583-1783e67dadaa" />

Amplitude Chrome Extension: https://chromewebstore.google.com/detail/amplitude-event-explorer/acehfjhnmhbmgkedjmjlobpgdicnhkbp?hl=en-US

You'll unfortunately need to file a helpdesk ticket to be able to install the extension ._.

Current Auth0 login page: https://github.com/ConsultingMD/ih-auth0/blob/a897dd9c2eafafff3991e271e721bb3b6033716c/src/pages/login.html#L1343C30-L1343C50



=====================================================
Timestamp:  2025-05-02T14:55:41Z
Repository: ConsultingMD/mauthra-ui
PR #41: also notify in #engage-deploys when a new deploy happens

Description:
- update notifications config to also announce in #engage-deploys


=====================================================
Timestamp:  2025-05-01T19:39:18Z
Repository: ConsultingMD/coverage
PR #2093: tng codegen + make + update README with go work use steps

Description:
<img width="470" alt="image" src="https://github.com/user-attachments/assets/5816483c-74c2-413d-ab2f-87558e2de019" />

Needed to do this in order to get my local coverage building again


=====================================================
Timestamp:  2025-04-30T15:59:42Z
Repository: ConsultingMD/jarvis
PR #17978: Revert "[NAVI-7977] Remove old Jarvis Communities intake frontend"

Description:
Reverts ConsultingMD/jarvis#17962

queuing up this in case we need it


=====================================================
Timestamp:  2025-04-17T04:00:30Z
Repository: ConsultingMD/account
PR #936: [ACQ-1217] [Acquire] - Create separate FF for ChangeEmail 

Description:
This pull request refactors the `protostore_account_repository` to improve clarity and extend functionality for identity synchronization. The key changes include renaming a helper function for better readability, introducing a new feature flag for email change synchronization, and updating test cases to align with the new naming and functionality.

### Refactoring and Feature Enhancements:

* Renamed the helper function `syncToAuthzilla` to `shouldCallAuthzilla` for better clarity and updated its parameters to accept specific identity synchronization flags. [[1]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL296-R304) [[2]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL308-R323)
* Added a new feature flag `identitySyncEmailChange` to support synchronization of email changes to Authzilla. This flag is now used in relevant methods such as `mergeAccounts`. [[1]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR46) [[2]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL89-R91) [[3]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR520-R529)

### Updates to Repository Logic:

* Replaced the `syncToAuthzilla` flag with `identitySyncLinking` and `identitySyncEmailChange` in the `protostoreRepository` struct and all associated logic. [[1]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL116-R119) [[2]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL254-R262) [[3]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL344-R352) [[4]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL698-R712)

### Logging Improvements:

* Added detailed logging to the `mergeAccounts` method to provide better traceability for actions like linking autogenerated accounts and updating emails in Authzilla. [[1]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR507-R508) [[2]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR520-R529)

### Test Suite Updates:

* Updated the test suite to reflect the renaming of `syncToAuthzilla` to `identitySyncLinking` and added support for testing `identitySyncEmailChange`. [[1]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L65-R66) [[2]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L75-R79)
* Adjusted all test cases to use the new feature flags and ensure proper coverage of the updated synchronization logic. [[1]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L126-R130) [[2]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L198-R202) [[3]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L929-R935) [[4]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L1099-R1105)

https://includedhealth.atlassian.net/browse/ACQ-1217
FF: [identitysync-email-change](https://app.launchdarkly.com/projects/account-server/flags/identitysync-email-change?env=uat&env=production&selected-env=production)


=====================================================
Timestamp:  2025-04-15T16:00:16Z
Repository: ConsultingMD/account
PR #935: add postgresql-client to ais pods to help debugging

Description:
removes a manual step of having to install the psql client to connect to the db when investigating issues

previous runbooks that said to do
```
sudo apt update && sudo apt install postgresql-client && psql "$POSTGRES_DATABASE_URL"
```
can now just do
```
psql "$POSTGRES_DATABASE_URL"
```


=====================================================
Timestamp:  2025-04-10T22:21:31Z
Repository: ConsultingMD/enrollment
PR #331: update if condition

Description:



=====================================================
Timestamp:  2025-04-10T19:17:51Z
Repository: ConsultingMD/enrollment
PR #330: fix npe: use the right var

Description:



=====================================================
Timestamp:  2025-04-09T23:06:32Z
Repository: ConsultingMD/enrollment
PR #329: fix npe

Description:



=====================================================
Timestamp:  2025-04-09T03:38:35Z
Repository: ConsultingMD/enrollment
PR #328: [ACQ-1191] use GetPersonByIvrPII to find an existing account

Description:
This pull request introduces a new feature flag and updates the account creation process to use different methods based on the flag's state. The most significant changes include adding a new feature flag, updating the account finding logic, and modifying tests to accommodate the new flag.

### Feature Flag Additions:
* Added `LogResultsGetPersonByIvrPII` feature flag to `FeatureFlags` struct and initialized it in the `NewFeatureFlags` function.

### Account Finding Logic Updates:
* Updated the `CreateOrClaimAccount` method to use the new feature flag to determine which account finding method to use.
* Added a new method `findExistingAccountIvr` to find accounts using the `GetPersonByIvrPII` query.

### Test Modifications:
* Updated various test functions to include the new `LogResultsGetPersonByIvrPII` feature flag. [[1]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL26-R28) [[2]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL57-R61) [[3]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL125-R131) [[4]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL189-R197) [[5]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL269-R279) [[6]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL350-R362) [[7]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL421-R435) [[8]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL503-R519) [[9]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL579-R597) [[10]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL647-R667) [[11]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL714-R736) [[12]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL786-R810) [[13]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL835-R861) [[14]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL882-R910) [[15]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL925-R955) [[16]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL975-R1007) [[17]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL1019-R1053)

These changes enhance the flexibility and control over the account finding process, allowing for better logging and debugging based on the new feature flag.

### Notes:

FF: [log-results-get-person-by-ivr-pii](https://app.launchdarkly.com/projects/enrollment-server/flags/log-results-get-person-by-ivr-pii?env=production&env=test&selected-env=test)
Ticket: https://includedhealth.atlassian.net/browse/ACQ-1191


=====================================================
Timestamp:  2025-04-08T06:26:22Z
Repository: ConsultingMD/enrollment
PR #327: attempt to fix duplicate account creation issue: call GetPersonByIvrPII as well to compare with GetPersonByPII 

Description:
This pull request introduces feature flagging to the enrollment service, specifically adding functionality to handle person searches via IVR PII. Key changes include the addition of a new feature flag, updates to the gateway interface, and modifications to the enrollment service and its tests to incorporate the new feature flag.

### Feature Flagging:

* [`app/featureflags/featureflags.go`](diffhunk://#diff-656178b86b56c5cea2bed4e5fd94bb23a9c1a7b40ad5fef9d99366c30a042e57R1-R26): Added a new module for feature flags, including a `FeatureFlags` struct and a `NewFeatureFlags` function to fetch the `enable-get-person-by-ivr-pii` flag.
* [`app/service/enrollment/service.go`](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eR73-R79): Updated the service to include the new feature flag in its parameters and initialization. The `findExistingAccount` method was modified to conditionally call `GetPersonByIvrPII` based on the feature flag. [[1]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eR73-R79) [[2]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eR100) [[3]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eL387-R393) [[4]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eL405-R442)

### Gateway Interface:

* [`app/gateway/janus/janus_gateway.go`](diffhunk://#diff-5d991922749c9f691e4f542209496c02d5e849a73eb548540385a91b95fb139eR69-R72): Added a new method `GetPersonByIvrPII` to the `Gateway` interface and its implementation. [[1]](diffhunk://#diff-5d991922749c9f691e4f542209496c02d5e849a73eb548540385a91b95fb139eR69-R72) [[2]](diffhunk://#diff-5d991922749c9f691e4f542209496c02d5e849a73eb548540385a91b95fb139eR265-R279)

### GraphQL Query:

* [`app/gateway/janus/query/getPersonByIvrPII.graphql`](diffhunk://#diff-1d66e3a0474d21e5514752c284afbe7a6e5d9a2a4d84ec21ce87d2aab2e42947R1-R9): Added a new GraphQL query `GetPersonByIvrPII` to retrieve person details using IVR PII.

### Dependency Injection:

* [`app/host/host.go`](diffhunk://#diff-802079e0ea18b13129b9c4749a2b272644bbc1c1e671438a5f5f2751eefa2404R4): Included the new feature flags module in the host initialization. [[1]](diffhunk://#diff-802079e0ea18b13129b9c4749a2b272644bbc1c1e671438a5f5f2751eefa2404R4) [[2]](diffhunk://#diff-802079e0ea18b13129b9c4749a2b272644bbc1c1e671438a5f5f2751eefa2404R24)
* [`app/service/enrollment/service.go`](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eR13-R20): Added `featureflags` and `featureflag` imports to support the new feature flagging.

### Tests:

* [`app/service/enrollment/service_test.go`](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afR12-R28): Updated tests to include the new feature flag in the service initialization parameters, ensuring that the new functionality is properly tested. [[1]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afR12-R28) [[2]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL49-R59) [[3]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL113-R127) [[4]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL173-R191) [[5]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL249-R271) [[6]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL326-R352) [[7]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL393-R423) [[8]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL471-R505) [[9]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL543-R581) [[10]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL607-R649) [[11]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL670-R716) [[12]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL738-R788) [[13]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL783-R837) [[14]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL826-R884) [[15]](diffhunk://#diff-12f809d56c7fd7c06ed3493381b7c848d4f26506e0fa984eb63363e06e10e7afL865-R927)


### Notes:

- FF: [enable-get-person-by-ivr-pii](https://app.launchdarkly.com/projects/enrollment-server/flags/enable-get-person-by-ivr-pii?env=production&env=test&selected-env=test)
- sdk key already added to uat/prod tng params


=====================================================
Timestamp:  2025-04-07T20:18:37Z
Repository: ConsultingMD/account
PR #931: [ACQ-1021] fix backfill script to account for the id casing

Description:
Spent quite a bit to root cause this  

This pull request includes updating the email prefix to be case-insensitive.

### Migration Improvements:
* [`internal/cli/store/migrate.go`](diffhunk://#diff-3f0f82526f082393d843e145b19a655dbe7a93e747206b9164a85d46780771dcL229-R229): Updated the email prefix to use `strings.ToLower` to ensure case-insensitivity.

### Test Adjustments:
* [`internal/cli/store/migrate_test.go`](diffhunk://#diff-6e352a4ee94d4cb84620d64f216a7828cbd45d85fa0b43fac2e91d28210d8c4eL475-R475): Modified the test `TestMigrationBackfillDeprecatedEmail` to use a capitalized `Account-id` format and ensure the email value uses `strings.ToLower` for consistency. [[1]](diffhunk://#diff-6e352a4ee94d4cb84620d64f216a7828cbd45d85fa0b43fac2e91d28210d8c4eL475-R475) [[2]](diffhunk://#diff-6e352a4ee94d4cb84620d64f216a7828cbd45d85fa0b43fac2e91d28210d8c4eL508-R513)

### Dependency Updates:
* [`.github/dependabot.yml`](diffhunk://#diff-dd4fbda47e51f1e35defb9275a9cd9c212ecde0b870cba89ddaaae65c5f3cd28R77): Added `github.com/jellydator/ttlcache/v3` to the list of dependencies.


=====================================================
Timestamp:  2025-04-04T15:23:24Z
Repository: ConsultingMD/account
PR #929: Task/acq 1021/do not email deprecating accounts

Description:
This pull request includes changes to the `protostore_account_repository.go` file to improve the handling of account status updates and merging accounts. The most important changes include fixing a variable name and ensuring deprecated email addresses are cleared when accounts are reactivated.

Improvements to account status updates:

* [`app/repository/protostore_account_repository.go`](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL393-R393): Corrected the variable name from `existing.Status` to `existingStatus` in the `updateStatus` function to ensure proper comparison when reactivating a deprecated account.

Enhancements to account merging:

* [`app/repository/protostore_account_repository.go`](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL454-R457): Added logic in the `mergeAccounts` function to clear the `DeprecatedEmail` field when an account is reactivated, ensuring that the deprecated email is not retained.


=====================================================
Timestamp:  2025-04-02T22:53:52Z
Repository: ConsultingMD/account
PR #926: [ACQ-1021] incorporate deprecated_email field when deprecating/undeprecating an account

Description:
This pull request introduces several changes to handle deprecated email addresses for accounts. The most important changes include adding a new `DeprecatedEmail` field to various account-related structures, updating methods to manage this field, and modifying tests to ensure proper handling of deprecated and undeprecated accounts.

### Changes to account models and methods:

* Added `DeprecatedEmail` field to `IHAccount` and updated the `GetDeprecatedEmail` method to return this field. (`app/model/account.go`) [[1]](diffhunk://#diff-4be3a34a580872b3e9b05e93b89ce968d633ff31feac0c47289a77335c78f6b4R176) [[2]](diffhunk://#diff-4be3a34a580872b3e9b05e93b89ce968d633ff31feac0c47289a77335c78f6b4R243-R249)
* Added `GetDeprecatedEmail` method to the `CommonAccount` interface. (`app/gateway/hub/model.go`, `app/model/legacymodel/account.go`) [[1]](diffhunk://#diff-6b84f4666ace8adc96c2f5230b7760be30fa714b0c6a3c21133ed2f2356f3132R214-R217) [[2]](diffhunk://#diff-90889d1177b2b0c4f8d0d8aa006cf0df7a0c34774e34b37938b8a9c9e0185c53R74-R76)
* Updated `MapAccountToGraphQL` to include `DeprecatedEmail`. (`app/handler/graph/mapping/account.go`)
* Updated `Account` GraphQL schema to include `deprecatedEmail` field. (`app/handler/graph/schema.graphqls`)

### Changes to account mapping functions:

* Updated `MapServiceToDomainAccountModel` and `MapDomainToServiceAccountModel` to handle `DeprecatedEmail`. (`app/model/mapping/account.go`) [[1]](diffhunk://#diff-e42e609fd0df66b799c268bd8e017c9a6689f9f7476bce8e8e3a05b409bd989cR500) [[2]](diffhunk://#diff-e42e609fd0df66b799c268bd8e017c9a6689f9f7476bce8e8e3a05b409bd989cR525)

### Changes to account repository:

* Added `DeprecationSuffix` constant and updated `updateStatus` method to handle email deprecation and restoration. (`app/repository/protostore_account_repository.go`) [[1]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR50) [[2]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fR367-R383)

### Changes to tests:

* Added expectations for `DeprecatedEmail` in various test cases to ensure proper handling of deprecated and undeprecated accounts. (`app/repository/protostore_account_repository_test.go`) [[1]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L673-R678) [[2]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96R698-R750) [[3]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96R764) [[4]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96R793-R795) [[5]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96R829-R831) [[6]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96R858-R860) [[7]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96R888-R890) [[8]](diffhunk://#diff-3ff897f9a97ac6cd650d9cacb0140cabd771393450e0fef0ecfffcc1055f2b96L917-R936)

### Other changes:

* Ignored generated `module.go` file in `codecov.yml` and added it to `codegen.yaml`. (`codecov.yml`, `codegen.yaml`) [[1]](diffhunk://#diff-3e878d9bdc47f29a0ab909a7db939acf08d2d2f1aaba81e6f897b32361fa40dbR58) [[2]](diffhunk://#diff-5601d0fbc2c8f9cefb37fd696fadfd05e27e4b7fd531bac1640aa4da7cb0b4b9R173)
* Updated `proto-common` dependency version in `go.mod`. (`go.mod`)

https://includedhealth.atlassian.net/browse/ACQ-1021


=====================================================
Timestamp:  2025-04-01T21:00:15Z
Repository: ConsultingMD/proto-common
PR #1555: make deprecated_email field optional, nothing is using this currently

Description:
f/u from https://github.com/ConsultingMD/proto-common/pull/1553
- making the field optional, safe to merge since nothing is yet utilizing this field


=====================================================
Timestamp:  2025-04-01T19:58:44Z
Repository: ConsultingMD/proto-common
PR #1553: add deprecated_email field to account, on the service layer

Description:
This pull request includes updates to the account deprecation process by adding a new field to preserve the original email address when an account is deprecated. This ensures that the original email can be restored if needed.

Key changes include:

### Documentation Updates:
* Added `deprecated_email` field to the protocol documentation to explain its purpose and usage.

### Code Updates:
* Updated `Account` struct in `go/pkg/service/accounts/accounts/v2/account.pb.go` to include `DeprecatedEmail` field and its getter method. [[1]](diffhunk://#diff-279003b8d3283befa59b24af26318f7d7d4a8a273fad113ebaa0d97ce5d28273R100-R103) [[2]](diffhunk://#diff-279003b8d3283befa59b24af26318f7d7d4a8a273fad113ebaa0d97ce5d28273R306-R312)
* Modified the `account.proto` file to define the `deprecated_email` field with appropriate annotations.

### Protobuf Descriptor Changes:
* Updated raw descriptor data in `account.pb.go` to include the new `deprecated_email` field. [[1]](diffhunk://#diff-279003b8d3283befa59b24af26318f7d7d4a8a273fad113ebaa0d97ce5d28273L540-R551) [[2]](diffhunk://#diff-279003b8d3283befa59b24af26318f7d7d4a8a273fad113ebaa0d97ce5d28273L678-R760)

follow up from https://github.com/ConsultingMD/proto-common/pull/1550


=====================================================
Timestamp:  2025-04-01T17:38:12Z
Repository: ConsultingMD/proto-common
PR #1550: [ACQ-1021] do not include previous email value when deprecating accounts

Description:
This pull request introduces a new field to preserve the original email address when an account is deprecated. The changes span multiple files to ensure the new field is properly integrated into the system.

Key changes include:

### Documentation Update:
* Added `deprecated_email` field description to `docs/protocol-documentation.md` to document the purpose and usage of the new field.

### Protobuf Definition Update:
* Added `deprecated_email` field to the `Account` message in `domain/accounts/accounts/v2/account.proto` to include the new field in the account schema.

### Go Code Update:
* Updated `go/pkg/domain/accounts/accounts/v2/account.pb.go`:
  * Added `DeprecatedEmail` field to the `Account` struct to store the deprecated email address.
  * Implemented `GetDeprecatedEmail` method to retrieve the deprecated email address.
  * Updated raw descriptor to include the new field in the protobuf schema. [[1]](diffhunk://#diff-019dbbf6bb25c8fee90b6f453ee8645d482bb291f9ab610bb9e259186044099aL486-R497) [[2]](diffhunk://#diff-019dbbf6bb25c8fee90b6f453ee8645d482bb291f9ab610bb9e259186044099aL560-R617)

[ACQ-1021](https://includedhealth.atlassian.net/browse/ACQ-1021)

[ACQ-1021]: https://includedhealth.atlassian.net/browse/ACQ-1021?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-03-28T22:36:31Z
Repository: ConsultingMD/account
PR #921: don't call LinkAccountID if login_idendity_id is empty + misc refactors 

Description:
This pull request includes several updates to the `app/gateway/identitysync/gateway.go` and `app/repository/protostore_account_repository.go` files to improve error handling, simplify the code, and ensure proper logging. The most important changes include adding logging for missing login identity IDs, simplifying error handling, and reorganizing code for better readability.

### Improvements to error handling and logging:

* [`app/gateway/identitysync/gateway.go`](diffhunk://#diff-45471fffe746cbab8e3148fccf947b97513e2560de2a3b75a9a8af3a65eeed43R88-R92): Added logging to handle cases where the login identity ID is missing in the `LinkAccountID` function.

### Code simplification and readability improvements:

* [`app/repository/protostore_account_repository.go`](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL256-R256): Simplified error handling in the `DeprecateAccountMergeFunc` and `upsertAccountMergeFunc` functions by using inline error checks. [[1]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL256-R256) [[2]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL290-R293)
* [`app/repository/protostore_account_repository.go`](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL432-R438): Reorganized the `mergeAccounts` function to improve readability and ensure proper logging when updating emails in AuthZilla.
* [`app/repository/protostore_account_repository.go`](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL597-R576): Removed redundant comments and streamlined the `createAccountFromLegacyAccount` function to ensure proper validation and merging of accounts. [[1]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL597-R576) [[2]](diffhunk://#diff-31d6a460dc5d4efc70545d249248f96bfef85e9e93c5b73a7708da24238cc53fL621-L663)


=====================================================
Timestamp:  2025-03-20T15:27:13Z
Repository: ConsultingMD/careflow
PR #954: Update observability.yaml to use engage oncall alerts slack channel

Description:



=====================================================
Timestamp:  2025-03-19T15:23:57Z
Repository: ConsultingMD/account
PR #911: [ACQ-807] GetAccountByEmail RPC Endpoint

Description:
remove logic that had the bug, tests never caught this because they were for the internal method and not on the rpc handler


=====================================================
Timestamp:  2025-03-19T13:55:48Z
Repository: ConsultingMD/mx-app
PR #7268: update serviceConfig.yaml so mx-app deploys show in #engage-deploys

Description:



=====================================================
Timestamp:  2025-03-14T17:57:45Z
Repository: ConsultingMD/jarvis
PR #17950: AIS service user should use the generic service role

Description:
Request a code review in the #jarvis-code-reviews channel.

## Merge Reason

PRs may only be merged in Jarvis for one of the following reasons (please select):

- [x] Critical Bug Fix
- [ ] Dependabot Security Alert Fix
- [ ] Critical Customer Config Change For Impending Launch
- [x] Deletes Code Or Works Toward Jarvis Decomp
- [ ] Production Tuning

Anything that does not fit this criteria will need Director approval.

## Jarvis exit plan

<!-- What is the concrete plan and timeline to get the functionality out of Jarvis? -->

## JIRA ticket

https://includedhealth.atlassian.net/browse/ACQ-1085

## What does this PR do?

This fixes an auth issue we ran into in production when switching to the new M2M client in AIS. Relevant thread: https://ih-epdd.slack.com/archives/C03RB410D7E/p1741970867964319

## Relevant context.

TLDR: we should not be relying on checking the specific client id and use the generic service role for everything.

## Screenshots / videos

<!-- Add if relevant (note can be very helpful for reviewers) otherwise remove -->

## Pull Request Guidelines and Best Practices

<i>Nit pick:</i> These should be comments that are marked as "NIT" and should not block merging because they do not break functionality but are nice to have.
<i>Blocking changes:</i> These should be comments that are marked as "Blocking" and may not break functionality but they may break established patterns or coding norms or architectural patterns.

[See more here](https://includedhealth.atlassian.net/l/cp/xTwAj4qm)



=====================================================
Timestamp:  2025-03-14T14:03:44Z
Repository: ConsultingMD/realtime-eligibility
PR #469: update stedi dashboard

Description:
Updating from latest round of edits of https://grafana.includedhealth.com/d/bdr9js3olx2ioc/rte-status-stedi?orgId=1&refresh=30s&from=now-2d&to=now&var-trading_partner_id=All


=====================================================
Timestamp:  2025-03-12T15:06:16Z
Repository: ConsultingMD/athena-bridge
PR #1262: [ACQ-1077] [athena-bridge] [INC-730] account enrollment event handler: prevent athena patient creation for unclaimed autogenerated accounts

Description:
[https://ih-epdd.slack.com/archives/C08GM5CGM1S/p1741725808822799?thread_ts=1741702020.108129 and cid=C08GM5CGM1S|https://ih-epdd.slack.com/archives/C08GM5CGM1S/p1741725808822799?thread_ts=1741702020.108129 and cid=C08GM5CGM1S]

Mitigation for [INC-730](https://includedhealth.atlassian.net/browse/INC-730)

This pull request introduces several significant changes to the account enrollment handling and related functionality. The main updates include adding a feature flag to disable patient creation for auto-generated accounts, enhancing the account enrollment handler to respect this flag, and updating the corresponding tests to cover new scenarios.

### Enhancements to Account Enrollment Handling:

* **Feature Flag Implementation**:
  * Added a new feature flag `DisablePatientCreationForAutoGeneratedAccountEnrollmentEvent` to control whether patient creation should be disabled for auto-generated accounts (`app/model/feature_flags.go`, `app/model/module.go`). [[1]](diffhunk://#diff-f8226ebe6611e912f914bfb12ced8a3e93bc2db1a1b3b20540496b5240195449R110-R118) [[2]](diffhunk://#diff-cb8ef8fae6e81e8d5d2e419e11f30bd75d064187ce80592c4df077889bd5ec0cR24)

* **Account Enrollment Handler Updates**:
  * Introduced a new method `shouldIgnore` to determine if an account enrollment event should be ignored based on the account's email, mitigating duplicate account issues (`app/handler/event/account_enrollment.go`).
  * Updated the `Handle` method to use this new logic and added the feature flag check (`app/handler/event/account_enrollment.go`).

* **Service Enhancements**:
  * Added a `GetAccount` method to the enrollment service to retrieve account details (`app/service/enrollment/service.go`).
  * Updated the service initialization to include the account gateway (`app/service/enrollment/service.go`). [[1]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eR32-R53) [[2]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eR9-R13)

### Test Coverage Improvements:

* **New Test Cases**:
  * Added test cases to cover scenarios where the account is auto-generated and should be ignored during enrollment processing (`app/handler/event/account_enrollment_test.go`). [[1]](diffhunk://#diff-090f1e7e1a6bdfa0b65ec7df9ba2dc8991bba971866e80570e3936c779415d9cR38-R88) [[2]](diffhunk://#diff-090f1e7e1a6bdfa0b65ec7df9ba2dc8991bba971866e80570e3936c779415d9cR97-R120)

### Miscellaneous Fixes and Improvements:

* **Typo Fix**:
  * Corrected a typo in the log message from "skippng" to "skipping" (`app/handler/event/account_change.go`).

* **Imports and Package Updates**:
  * Organized imports and added missing dependencies in various files (`app/handler/event/account_enrollment.go`, `app/service/enrollment/module.go`, `app/service/enrollment/service.go`). [[1]](diffhunk://#diff-a828da04c2b2d197c9085d332f8abe823431532c3bdd71112648ff0ce26bb216R5-R22) [[2]](diffhunk://#diff-62077ad32d1bc6666be3b62c9a04333e2d55836f3ea2b21a7af47f66390f415cL3-R5) [[3]](diffhunk://#diff-ae9f22e2c6dd3ce0700737bd9acd83c23b50a159f138ec55fdd1cc9b3c0cb66eR9-R13)
  * Added a placeholder package for mocks in the diagnostics service (`app/service/diagnostics/mocks/package.go`).

These changes collectively improve the robustness of the account enrollment process by addressing potential issues with auto-generated accounts and enhancing the test coverage to ensure reliability.

FF: [disable-athena-patient-creation-for-unclaimed-autogenerated-accounts](https://app.launchdarkly.com/projects/athena-bridge/flags/disable-athena-patient-creation-for-unclaimed-autogenerated-accounts?env=uat&env=production&selected-env=production)

[ACQ-1077](https://includedhealth.atlassian.net/browse/ACQ-1077)

[ACQ-1077]: https://includedhealth.atlassian.net/browse/ACQ-1077?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ

[INC-730]: https://includedhealth.atlassian.net/browse/INC-730?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-03-11T22:03:40Z
Repository: ConsultingMD/mx-ui-workflows
PR #803: NPE fix: check if values are nil before setting them in RetryVerificationFieldsScreen

Description:
fixes the following NPE https://app.rollbar.com/a/Grandrounds/fix/item/mx-ui-workflows/1480/occurrence/429544167497#detail
which is when coming from silent enrollment


=====================================================
Timestamp:  2025-03-11T17:23:43Z
Repository: ConsultingMD/mx-ui-workflows
PR #802: [ACQ-943] condensed demographics - fix npe

Description:
fixes https://app.rollbar.com/a/Grandrounds/fix/item/mx-ui-workflows/1480

[ACQ-943](https://includedhealth.atlassian.net/browse/ACQ-943)

[ACQ-943]: https://includedhealth.atlassian.net/browse/ACQ-943?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-03-11T13:56:36Z
Repository: ConsultingMD/mx-ui-workflows
PR #801: [ACQ-943] emit signup started event on condensed demographics screen + cover sso unhappy path

Description:
This fixes the signup started events not firing when this experiment is enabled. Also makes sure that when coming from SSO and it's the unhappy path, the member on web would also see the experiment (if enabled)

[ACQ-943](https://includedhealth.atlassian.net/browse/ACQ-943)

[ACQ-943]: https://includedhealth.atlassian.net/browse/ACQ-943?atlOrigin=eyJpIjoiNWRkNTljNzYxNjVmNDY3MDlhMDU5Y2ZhYzA5YTRkZjUiLCJwIjoiZ2l0aHViLWNvbS1KU1cifQ


=====================================================
Timestamp:  2025-03-11T04:05:58Z
Repository: ConsultingMD/oneapp-migration
PR #741: no longer need the nexus pin + tune silent enrollment alarm

Description:
also tuning silent-enrollment alarms which tends to fire at night, update to new baseline and updating grace period.

